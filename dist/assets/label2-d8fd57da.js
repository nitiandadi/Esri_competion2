import{tW as R,tO as D,u4 as H}from"./MapView-d4248bee.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const m="hidden-form-input";function L(e){return"checked"in e}const v=new WeakMap,g=new WeakSet;function x(e,t){const n="calciteInternalFormComponentRegister";let s=!1;return e.addEventListener(n,a=>{s=a.composedPath().some(c=>g.has(c)),a.stopPropagation()},{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),s}function j(e){const{formEl:t}=e;return t?("requestSubmit"in t?t.requestSubmit():t.submit(),!0):!1}function z(e){const{el:t,value:n}=e,s=R(t,"form");if(!s||x(s,t))return;e.formEl=s,e.defaultValue=n,L(e)&&(e.defaultChecked=e.checked);const a=(e.onFormReset||P).bind(e);s.addEventListener("reset",a),v.set(e.el,a),g.add(t)}function P(){if(L(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function G(e){const{el:t,formEl:n}=e;if(!n)return;const s=v.get(t);n.removeEventListener("reset",s),v.delete(t),e.formEl=null,g.delete(t)}function J(e,t){e.defaultValue=t}const y=e=>{e.target.dispatchEvent(new CustomEvent("calciteInternalHiddenInputChange",{bubbles:!0}))},I=e=>e.removeEventListener("change",y);function q(e){const{el:t,formEl:n,name:s,value:a}=e,{ownerDocument:c}=t,l=t.querySelectorAll(`input[slot="${m}"]`);if(!n||!s){l.forEach(d=>{I(d),d.remove()});return}const r=Array.isArray(a)?a:[a],E=[],F=new Set;l.forEach(d=>{const i=r.find(O=>O==d.value);i!=null?(F.add(i),w(e,d,i)):E.push(d)});let u;r.forEach(d=>{if(F.has(d))return;let i=E.pop();i||(i=c.createElement("input"),i.slot=m),u||(u=c.createDocumentFragment()),u.append(i),i.addEventListener("change",y),w(e,i,d)}),u&&t.append(u),E.forEach(d=>{I(d),d.remove()})}function w(e,t,n){var r;const{defaultValue:s,disabled:a,name:c,required:l}=e;t.defaultValue=s,t.disabled=a,t.name=c,t.required=l,t.tabIndex=-1,L(e)?(t.checked=e.checked,t.defaultChecked=e.defaultChecked,t.value=e.checked?n||"on":""):t.value=n||"",(r=e.syncHiddenFormInput)==null||r.call(e,t)}const K=({component:e})=>(q(e),D("slot",{name:m}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 * v1.0.8-next.4
 */const M="calciteInternalLabelClick",k="calciteInternalLabelConnected",C="calciteInternaLabelDisconnected",S="calcite-label",b=new WeakMap,f=new WeakMap,h=new WeakMap,o=new Set,V=e=>{const{id:t}=e,n=t&&H(e,{selector:`${S}[for="${t}"]`});if(n)return n;const s=R(e,S);return!s||W(s,e)?null:s};function W(e,t){let n;const s="custom-element-ancestor-check",a=l=>{l.stopImmediatePropagation();const r=l.composedPath();n=r.slice(r.indexOf(t),r.indexOf(e))};return e.addEventListener(s,a,{once:!0}),t.dispatchEvent(new CustomEvent(s,{composed:!0,bubbles:!0})),e.removeEventListener(s,a),n.filter(l=>l!==t&&l!==e).filter(l=>{var r;return(r=l.tagName)==null?void 0:r.includes("-")}).length>0}function A(e){const t=V(e.el);if(b.has(t)||!t&&o.has(e))return;const n=$.bind(e);if(t){e.labelEl=t;const s=N.bind(e);b.set(e.labelEl,s),e.labelEl.addEventListener(M,s),o.delete(e),document.removeEventListener(k,f.get(e)),h.set(e,n),document.addEventListener(C,n)}else o.has(e)||(n(),document.removeEventListener(C,h.get(e)))}function Q(e){if(o.delete(e),document.removeEventListener(k,f.get(e)),document.removeEventListener(C,h.get(e)),f.delete(e),h.delete(e),!e.labelEl)return;const t=b.get(e.labelEl);e.labelEl.removeEventListener(M,t),b.delete(e.labelEl)}function U(e){var t,n;return e.label||((n=(t=e.labelEl)==null?void 0:t.textContent)==null?void 0:n.trim())||""}function N(e){this.disabled||this.el.contains(e.detail.sourceEvent.target)||this.onLabelClick(e)}function T(){o.has(this)&&A(this)}function $(){o.add(this);const e=f.get(this)||T.bind(this);f.set(this,e),document.addEventListener(k,e)}export{K as H,z as a,G as b,A as c,Q as d,J as e,U as g,j as s};
