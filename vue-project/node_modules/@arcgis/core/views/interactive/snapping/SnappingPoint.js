/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
import{isNone as n}from"../../../core/maybe.js";import{a as r,f as t}from"../../../chunks/vec3f64.js";import{makeDehydratedPoint as e}from"../../../layers/graphics/dehydratedFeatures.js";import{getConvertedElevation as o,absoluteHeightElevationInfo as u,getConvertedElevationFromVector as i}from"../../../support/elevationInfoUtils.js";function l(n){return n}function f(n){return r(n)}function s(n,r,e){return t(n,r,e)}function c(r,t,e){return n(r)?null:a(e.coordinateHelper.vectorToDehydratedPoint(r,d),t,e)}function a(r,e,i){if(n(r))return null;if(n(e))return l(t(r.x,r.y,r.z??0));if("2d"===e.type)return l(t(r.x,r.y,0));const{elevationInfo:f}=i,s=o(e,r,f,u)??0;return l(t(r.x,r.y,s))}function m(r,t,{z:o,m:l,spatialReference:f,elevationInfo:s}){if(null==o&&null==l){const n=e(r[0],r[1],void 0,f);return null!=l&&(n.m=l,n.hasM=!0),n}if(n(t)||"2d"===t.type){const n=e(r[0],r[1],o,f);return null!=l&&(n.m=l,n.hasM=!0),n}const c=i(t,r,f,u,s)??0,a=e(r[0],r[1],c,f);return null!=l&&(a.m=l,a.hasM=!0),a}function p(n,r){return e(n[0],n[1],n[2],r)}const d=e(0,0,0,null);export{c as anyMapPointToSnappingPoint,l as asSnappingPoint,f as cloneSnappingPoint,s as createSnappingPoint,a as pointToSnappingPoint,p as snappingPointToDehydratedPoint,m as snappingPointToSnappingOutput};
