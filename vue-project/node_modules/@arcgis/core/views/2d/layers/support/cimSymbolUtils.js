/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
import{analyzeCIMSymbol as e}from"../../../../symbols/cim/cimAnalyzer.js";import{ExpandedCIM as t}from"../../../../symbols/cim/ExpandedCIM.js";import{fetchCIMSymbolReference as a}from"./webStyleUtils.js";const r=async(a,r,i)=>new t(await e(a.data,r,i),a.data,a.rendererKey,a.maxVVSize);async function i(e,t,i,n){if(!e)return null;if("cim"===e.type)return r(e,t,i);if("web-style"===e.type){const l={type:"cim",data:await a(e,null,n)??void 0,rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return r(l,t,i)}return e}function n(e){if(!e)return null;const{avoidSDFRasterization:t,type:a,cim:r,url:i,materialHash:n}=e,l={cim:r,type:a,mosaicHash:n,url:i,size:null,dashTemplate:null,path:null,text:null,fontName:null,animatedSymbolProperties:null,avoidSDFRasterization:t};switch(a){case"marker":l.size=e.size,l.path=e.path,l.animatedSymbolProperties=e.animatedSymbolProperties;break;case"line":l.dashTemplate=e.dashTemplate;break;case"text":l.text=e.text,l.fontName=e.fontName}return l}export{n as cimLayerToRasterizationInfo,i as expandSymbol};
