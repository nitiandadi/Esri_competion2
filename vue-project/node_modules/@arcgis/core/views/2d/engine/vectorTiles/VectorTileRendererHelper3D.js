/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
import"../../../../geometry.js";import e from"../../../../Viewpoint.js";import t from"../../ViewState.js";import i from"../../../../geometry/Point.js";const r=.125;class l{constructor(){this._renderParams={context:null,drawPhase:1,state:new t({viewpoint:new e({targetGeometry:new i(0,0),scale:1,rotation:0}),size:[256,256]}),stationary:!0,pixelRatio:1,displayLevel:-1,requiredLevel:-1,globalOpacity:1,renderPass:"background",styleLayer:null,styleLayerUID:-1,painter:null,glyphMosaic:null,spriteMosaic:null,profiler:null,renderingOptions:null,requestRender:null,allowDelayedRender:!1,deltaTime:-1,timeline:null,time:0,hasClipping:!1,blendMode:null,dataUploadCounter:0,effects:null,inFadeTransition:!1,requireFBO:!1,highlightGradient:null}}dispose(){this._renderParams=null}render(e,t,i,l,a,n,s,o,d,p){const u=n.adjustLevel(t[0]),c=this._renderParams;c.context=e,c.painter=l,c.glyphMosaic=l.glyphMosaic,c.spriteMosaic=l.spriteMosaic,c.pixelRatio=p,c.displayLevel=u,c.requiredLevel=u;const m=n.getScale(t[0]),[g,y]=n.getShift(t,s*m),h=r*s*m/d,w=i.transforms.dvs;w[0]=h,w[4]=-h,w[6]=-1-g-o[0]*s*2,w[7]=1+y+(1-o[1])*s*2-2,c.state.size[0]=d,c.state.size[1]=d,i.stage||i.attachWithContext(e),i.triangleCount=0,l.drawTile(c,i,a)}}export{l as VectorTileRendererHelper3D};
