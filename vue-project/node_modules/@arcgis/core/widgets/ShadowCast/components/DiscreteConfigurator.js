/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.26/esri/copyright.txt for details.
*/
import{_ as o}from"../../../chunks/tslib.es6.js";import{generateUUID as e}from"../../../core/uuid.js";import{property as t}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/accessorSupport/ensureType.js";import"../../../core/arrayUtils.js";import{subclass as s}from"../../../core/accessorSupport/decorators/subclass.js";import{formatDuration as r}from"../../../intl/duration.js";import i from"../../Widget.js";import{DISCRETE_CONFIGURATOR_CSS as c}from"../css.js";import{Label as l}from"./Label.js";import{LabeledColorPicker as a}from"./LabeledColorPicker.js";import"../../support/widgetUtils.js";import{messageBundle as n}from"../../support/decorators/messageBundle.js";import{tsx as p}from"../../support/jsxFactory.js";let m=class extends i{constructor(o){super(o),this.colorPickerVisible=!0,this._selectId=`select-${e()}`,this._colorPickerId=`color-picker-${e()}`,this._onColorChange=o=>{this.options.color=o}}loadDependencies(){return Promise.all([import("@esri/calcite-components/dist/components/calcite-label.js"),import("@esri/calcite-components/dist/components/calcite-option.js"),import("@esri/calcite-components/dist/components/calcite-select.js")])}render(){const o=this._messages.discrete,e=o.intervalLabel,{color:t,interval:s,intervalOptions:i}=this.options;return p("div",{class:c.base},p(l,{for:this._selectId,label:e},p("calcite-select",{id:this._selectId,label:e,bind:this,onCalciteSelectChange:this._onIntervalChange},i.toArray().map((o=>p("calcite-option",{key:o,selected:o===s,value:String(o)},r(o)))))),this.colorPickerVisible&&p(a,{id:this._colorPickerId,label:o.colorLabel,value:t,onChange:this._onColorChange}))}_onIntervalChange(o){const e=o.target,t=parseInt(e.selectedOption?.value,10);Number.isFinite(t)&&(this.options.interval=t)}};o([t()],m.prototype,"options",void 0),o([t()],m.prototype,"colorPickerVisible",void 0),o([t(),n("esri/widgets/ShadowCast/t9n/ShadowCast")],m.prototype,"_messages",void 0),m=o([s("esri.widgets.ShadowCast.components.DiscreteConfigurator")],m);export{m as DiscreteConfigurator};
