import {
  a as a4,
  c,
  e as e3,
  e2 as e4,
  i2 as i,
  k,
  n as n3,
  o,
  p as p2,
  t as t3,
  t2 as t4
} from "./chunk-2DA2JOWA.js";
import {
  autoMode,
  darkMode
} from "./chunk-SGLDT3EC.js";
import {
  setAssetPath
} from "./chunk-NXQHXTQL.js";
import {
  n as n2
} from "./chunk-5ZDDV642.js";
import {
  u
} from "./chunk-4GJORDIY.js";
import {
  f as f2,
  h,
  l
} from "./chunk-FXMJJBXP.js";
import {
  a as a3
} from "./chunk-6YBCJ6DZ.js";
import {
  m
} from "./chunk-5CMPUNQG.js";
import {
  F
} from "./chunk-M3KO43BW.js";
import {
  n
} from "./chunk-FQ7L63IU.js";
import {
  s as s3
} from "./chunk-6K5VVUVI.js";
import {
  s as s2
} from "./chunk-S47644HM.js";
import {
  a2,
  e,
  f,
  t2 as t,
  t5 as t2,
  y3 as y
} from "./chunk-7GTATSRF.js";
import {
  E,
  b,
  e as e2,
  r2 as r,
  x
} from "./chunk-QLY5H3XF.js";
import {
  s
} from "./chunk-UG2OEDEE.js";
import {
  p
} from "./chunk-PR6SXADK.js";
import {
  a
} from "./chunk-WHB7G7RI.js";

// node_modules/@arcgis/core/core/domUtils.js
function e5(e13) {
  return "string" == typeof e13 ? document.getElementById(e13) : e13 ?? null;
}
function t5(e13) {
  for (; e13.hasChildNodes(); )
    e13.removeChild(e13.firstChild);
}
function o2(e13, t8) {
  const n6 = t8.parentNode;
  n6 && n6.insertBefore(e13, t8);
}
function r2(e13, t8) {
  for (; ; ) {
    const n6 = e13.firstChild;
    if (!n6)
      break;
    t8.appendChild(n6);
  }
}
var i2 = (() => {
  if ("function" == typeof Element.prototype.closest)
    return (e14, t8) => e14.closest(t8);
  const e13 = Element.prototype.matches || Element.prototype.msMatchesSelector;
  return (t8, n6) => {
    let o5 = t8;
    do {
      if (e13.call(o5, n6))
        return o5;
      o5 = o5.parentElement;
    } while (null !== o5 && 1 === o5.nodeType);
    return null;
  };
})();

// node_modules/@arcgis/core/libs/maquette-advanced-projector/advanced-projector-options.js
var e6 = { handleInterceptedEvent: (e13, p3, t8, n6) => (e13.scheduleRender(), p3.properties[`on${n6.type}`].apply(p3.properties.bind || t8, [n6])) };

// node_modules/@arcgis/core/libs/maquette-advanced-projector/utils.js
var e7 = { namespace: void 0, performanceLogger: () => {
}, eventHandlerInterceptor: void 0, styleApplyer: (e13, r5, o5) => {
  e13.style[r5] = o5;
} };
var r3 = (r5) => ({ ...e7, ...r5 });

// node_modules/@arcgis/core/libs/maquette-advanced-projector/projector.js
var o3 = (e13, t8) => {
  const r5 = [];
  for (; e13 && e13 !== t8; )
    r5.push(e13), e13 = e13.parentNode;
  return r5;
};
var n4 = (e13, t8) => e13.find(t8);
var d = (e13, t8, r5 = false) => {
  let o5 = e13;
  return t8.forEach((e14, d2) => {
    const s5 = (o5 == null ? void 0 : o5.children) ? n4(o5.children, (t9) => t9.domNode === e14) : void 0;
    r5 && !s5 && d2 !== t8.length - 1 || (o5 = s5);
  }), o5;
};
var s4 = (n6) => {
  let s5;
  const i3 = { ...e6, ...n6 }, c2 = r3(i3), a5 = c2.performanceLogger;
  let m2, p3 = true, l2 = false;
  const f3 = [], u2 = [], h2 = (e13, t8, r5) => {
    var _a;
    let n7;
    c2.eventHandlerInterceptor = (e14, t9, r6, c3) => function(e15) {
      let t10;
      a5("domEvent", e15);
      const r7 = o3(e15.currentTarget, n7.domNode), c4 = r7.some((e16) => {
        var _a2;
        return customElements.get((_a2 = e16 == null ? void 0 : e16.tagName) == null ? void 0 : _a2.toLowerCase());
      });
      if (e15.eventPhase === Event.CAPTURING_PHASE || !c4)
        r7.reverse(), t10 = d(n7.getLastRender(), r7);
      else {
        const r8 = e15.composedPath(), o5 = r8.slice(r8.indexOf(e15.currentTarget), r8.indexOf(n7.domNode)).filter((e16) => e16.getRootNode() === e16.ownerDocument).reverse();
        t10 = d(n7.getLastRender(), o5, true);
      }
      let m4;
      return t10 && (m4 = i3.handleInterceptedEvent(s5, t10, this, e15)), a5("domEventProcessed", e15), m4;
    }, (_a = i3.postProcessProjectionOptions) == null ? void 0 : _a.call(i3, c2);
    const m3 = r5();
    n7 = e13(t8, m3, c2), f3.push(n7), u2.push(r5), i3.afterFirstVNodeRendered && i3.afterFirstVNodeRendered(n7, m3);
  };
  let v = () => {
    if (m2 = void 0, p3) {
      p3 = false, a5("renderStart", void 0);
      for (let e13 = 0; e13 < f3.length; e13++) {
        const t8 = u2[e13]();
        a5("rendered", void 0), f3[e13].update(t8), a5("patched", void 0);
      }
      a5("renderDone", void 0), p3 = true;
    }
  };
  return i3.modifyDoRenderImplementation && (v = i3.modifyDoRenderImplementation(v, f3, u2)), s5 = { renderNow: v, scheduleRender: () => {
    m2 || l2 || (m2 = requestAnimationFrame(v));
  }, stop: () => {
    m2 && (cancelAnimationFrame(m2), m2 = void 0), l2 = true;
  }, resume: () => {
    l2 = false, p3 = true, s5.scheduleRender();
  }, append: (t8, r5) => {
    h2(n3.append, t8, r5);
  }, insertBefore: (t8, r5) => {
    h2(n3.insertBefore, t8, r5);
  }, merge: (t8, r5) => {
    h2(n3.merge, t8, r5);
  }, replace: (t8, r5) => {
    h2(n3.replace, t8, r5);
  }, detach: (e13) => {
    for (let t8 = 0; t8 < u2.length; t8++)
      if (u2[t8] === e13)
        return u2.splice(t8, 1), f3.splice(t8, 1)[0];
    throw new Error("renderFunction was not found");
  } }, s5;
};

// node_modules/@esri/calcite-components/dist/components/index.js
function initModeChangeEvent() {
  const { classList } = document.body;
  const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
  const getMode = () => classList.contains(darkMode) || classList.contains(autoMode) && prefersDark ? "dark" : "light";
  const emitModeChange = (mode) => document.body.dispatchEvent(new CustomEvent("calciteModeChange", { bubbles: true, detail: { mode } }));
  const modeChangeHandler = (newMode) => {
    currentMode !== newMode && emitModeChange(newMode);
    currentMode = newMode;
  };
  let currentMode = getMode();
  emitModeChange(currentMode);
  window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (event) => modeChangeHandler(event.matches ? "dark" : "light"));
  new MutationObserver(() => modeChangeHandler(getMode())).observe(document.body, {
    attributes: true,
    attributeFilter: ["class"]
  });
}
function appGlobalScript() {
  const isBrowser = typeof window !== "undefined" && typeof location !== "undefined" && typeof document !== "undefined" && window.location === location && window.document === document;
  if (isBrowser) {
    if (document.readyState === "interactive") {
      initModeChangeEvent();
    } else {
      document.addEventListener("DOMContentLoaded", () => initModeChangeEvent(), { once: true });
    }
  }
}
var globalScripts = appGlobalScript;
globalScripts();

// node_modules/@arcgis/core/widgets/support/componentsUtils.js
var e8;
function r4() {
  setAssetPath(F(a3(e8)));
}
e8 = "components/assets";

// node_modules/@arcgis/core/widgets/support/tests.js
var e9 = /* @__PURE__ */ new Set();
function n5(n6) {
  e9.add(n6), n6.finally(() => e9.delete(n6));
}

// node_modules/@arcgis/core/widgets/Widget.js
var $;
var x2 = "esri.widgets.Widget";
var z = 0;
var A = { widgetIcon: "esri-icon-checkbox-unchecked" };
function B(e13, t8) {
  for (const r5 in t8)
    null != e13[r5] && ("object" == typeof e13[r5] && "object" == typeof t8[r5] ? B(e13[r5], t8 == null ? void 0 : t8[r5]) : e13[r5] = t8[r5]);
  return e13;
}
var D = s4({ postProcessProjectionOptions(e13) {
  const t8 = e13.eventHandlerInterceptor, r5 = /capture$/i;
  e13.eventHandlerInterceptor = (e14, s5, o5, i3) => {
    const n6 = t8 == null ? void 0 : t8(e14, s5, o5, i3), a5 = r5.test(e14);
    if (!((e14 = e14.replace(r5, "")).toLowerCase() in o5) || a5) {
      const t9 = e14[2].toLowerCase() + e14.slice(3), r6 = (e15) => n6 == null ? void 0 : n6.call(o5, e15);
      o5.addEventListener(t9, r6, a5);
      const s6 = () => o5.removeEventListener(t9, r6, a5), c2 = i3.afterRemoved;
      i3.afterRemoved = (e15) => {
        c2 == null ? void 0 : c2(e15), s6();
      };
    }
    return n6;
  };
}, handleInterceptedEvent(e13, t8, r5, s5) {
  const { eventPhase: o5, type: i3 } = s5, n6 = o5 === Event.CAPTURING_PHASE;
  let a5 = `on${i3}${n6 ? "capture" : ""}`;
  const c2 = t8.properties;
  (c2 && a5 in c2 || (a5 = `on${i3[0].toUpperCase()}${i3.slice(1)}${n6 ? "Capture" : ""}`, c2 && a5 in c2)) && (t3(), e13.scheduleRender(), c2[a5].call(c2.bind || r5, s5));
} });
var M = false;
var O = class extends m(n.EventedAccessor) {
  constructor(e13, t8) {
    super(e13, t8), this._attached = false, this._internalHandles = new t(), this._projector = D, this._readyForTrueRender = false, this.iconClass = A.widgetIcon, this.key = this, this._loadLocale = x(async () => {
      if (this._messageBundleProps && this._messageBundleProps.length) {
        const e14 = await E(this._messageBundleProps.map(async ({ bundlePath: e15, propertyName: t9 }) => {
          let r6 = await u(e15);
          this.uiStrings && Object.keys(this.uiStrings) && (r6 = B(p(r6), this.uiStrings)), this[t9] = r6;
        }));
        for (const t9 of e14)
          t9.error && s.getLogger(this.declaredClass).error("widget-intl:locale-error", this.declaredClass, t9.error);
      }
      await this.loadLocale();
    }), r4();
    const r5 = "esri-widget-uid-" + n2(), s5 = this.render.bind(this);
    this._trackingTarget = new t2(() => this.scheduleRender());
    const o5 = () => {
      var _a;
      if (!this._readyForTrueRender || this.destroyed)
        return null;
      if (!this.visible)
        return { vnodeSelector: "div", properties: { key: r5, class: "", styles: { display: "none" } }, domNode: null, children: void 0, text: void 0 };
      const e14 = s5();
      let { properties: t9 } = e14;
      t9 || (e14.properties = t9 = {});
      let { key: o6, styles: i3 } = t9;
      o6 || (t9.key = r5), i3 || (t9.styles = i3 = {}), i3.display || (i3.display = "");
      let n6 = 0;
      return (_a = e14.children) == null ? void 0 : _a.forEach((e15) => {
        if (a4(e15.vnodeSelector))
          return;
        let { properties: t10 } = e15;
        t10 || (e15.properties = t10 = {}), t10.key || (t10.key = `${this.id}--${n6++}`);
      }), i(this, e14);
    };
    this.render = () => {
      if (M)
        return o5();
      let e14 = e3(this) ?? null;
      if (e14)
        return e14;
      this._trackingTarget.clear(), M = true;
      try {
        e14 = f(this._trackingTarget, o5);
      } catch (t9) {
        throw console.error(t9), t9;
      } finally {
        M = false;
      }
      return e14 && c(this, e14), e14;
    }, this.addResolvingPromise(this._resourcesFetch = this.beforeFirstRender().then(() => {
      this._readyForTrueRender = true, this._postInitialize();
    })), n5(this._resourcesFetch);
  }
  normalizeCtorArgs(e13, t8) {
    const r5 = { ...e13 };
    return t8 && (r5.container = t8), r5;
  }
  postInitialize() {
  }
  beforeFirstRender() {
    return Promise.all([this.loadDependencies(), this._loadLocale()]).then(() => {
    }).catch(b);
  }
  async loadDependencies() {
  }
  async loadLocale() {
  }
  destroy() {
    this.destroyed || (a(this._trackingTarget), a(this.viewModel), this._detach(this.container), this._set("container", null), this._internalHandles.destroy(), this._emitter.clear(), this.render = () => null, this._projector = null, o(this));
  }
  set container(e13) {
    this._get("container") || this._set("container", e13);
  }
  castContainer(e13) {
    return e5(e13);
  }
  get domNode() {
    return this.container;
  }
  set domNode(e13) {
    this.container = e13;
  }
  get id() {
    return this._get("id") || this.get("container.id") || Date.now().toString(16) + "-widget-" + z++;
  }
  set id(e13) {
    e13 && this._set("id", e13);
  }
  get label() {
    return this.declaredClass.split(".").pop();
  }
  set label(e13) {
    this._overrideIfSome("label", e13);
  }
  get renderable() {
    return this._resourcesFetch;
  }
  get visible() {
    return this._get("visible");
  }
  set visible(e13) {
    this._set("visible", e13);
  }
  get [($ = t4, e4)]() {
    return { projector: this._projector };
  }
  render() {
    throw new Error("not implemented");
  }
  scheduleRender() {
    this.destroyed || (o(this), this._projector.scheduleRender());
  }
  classes(...e13) {
    return p2.apply(this, e13);
  }
  renderNow() {
    o(this), this._projector.renderNow();
  }
  _postInitialize() {
    var _a;
    if (this.destroyed)
      return;
    this.scheduleRender(), ((_a = this._delegatedEventNames) == null ? void 0 : _a.length) && this._internalHandles.add(l(() => this.viewModel, (e14, t8) => {
      t8 && this._internalHandles.remove("delegated-events"), e14 && e2(e14) && this._internalHandles.add(this._delegatedEventNames.map((t9) => r(e14, t9, (e15) => {
        this.emit(t9, e15);
      })), "delegated-events");
    }, h)), this.postInitialize();
    const e13 = async () => {
      await this._loadLocale().catch(b), this.scheduleRender();
    };
    this._internalHandles.add([s3(e13), l(() => this.uiStrings, e13), f2(() => this.container, (e14) => {
      this.destroyed || this._attach(e14);
    }, { initial: true, once: true })]);
  }
  _attach(e13) {
    e13 && (this._projector.merge(e13, this.render), this._attached = true);
  }
  _detach(e13) {
    var _a;
    this._attached && (this._projector.detach(this.render), this._attached = false), (_a = e13 == null ? void 0 : e13.parentNode) == null ? void 0 : _a.removeChild(e13);
  }
};
O[$] = true, e([y()], O.prototype, "_readyForTrueRender", void 0), e([y({ value: null })], O.prototype, "container", null), e([s2("container")], O.prototype, "castContainer", null), e([y()], O.prototype, "iconClass", void 0), e([y()], O.prototype, "id", null), e([y()], O.prototype, "label", null), e([y()], O.prototype, "renderable", null), e([y()], O.prototype, "uiStrings", void 0), e([y()], O.prototype, "viewModel", void 0), e([y({ value: true })], O.prototype, "visible", null), e([y()], O.prototype, "key", void 0), e([y()], O.prototype, "children", void 0), e([y()], O.prototype, "afterCreate", void 0), e([y()], O.prototype, "afterUpdate", void 0), e([y()], O.prototype, "afterRemoved", void 0), O = e([a2(x2)], O);
var W = O;

// node_modules/@arcgis/core/widgets/support/decorators/messageBundle.js
function e10(e13) {
  return (s5, r5) => {
    s5.hasOwnProperty("_messageBundleProps") || (s5._messageBundleProps = s5._messageBundleProps ? s5._messageBundleProps.slice() : []);
    s5._messageBundleProps.push({ bundlePath: e13, propertyName: r5 });
  };
}

// node_modules/@arcgis/core/widgets/support/decorators/accessibleHandler.js
function t6() {
  return function(n6, t8) {
    if (!n6[t8])
      throw new TypeError(`Cannot auto bind undefined function '${t8}'`);
    return { value: o4(n6[t8]) };
  };
}
function e11(n6) {
  const t8 = n6 == null ? void 0 : n6.type;
  return n6 instanceof KeyboardEvent || "keyup" === t8 || "keydown" === t8 || "keypress" === t8;
}
function o4(t8) {
  return function(o5, ...r5) {
    e11(o5) ? k(o5.key) && (o5.preventDefault(), o5.stopPropagation(), o5.target.click()) : t8.call(this, o5, ...r5);
  };
}

// node_modules/@arcgis/core/widgets/support/decorators/vmEvent.js
function e12(e13) {
  return (a5) => {
    a5.hasOwnProperty("_delegatedEventNames") || (a5._delegatedEventNames = a5._delegatedEventNames ? a5._delegatedEventNames.slice() : []);
    const n6 = a5._delegatedEventNames, r5 = Array.isArray(e13) ? e13 : t7(e13);
    n6.push(...r5);
  };
}
function t7(e13) {
  return e13.split(",").map((e14) => e14.trim());
}

export {
  e5 as e,
  t5 as t,
  o2 as o,
  r2 as r,
  W,
  e10 as e2,
  t6 as t2,
  e12 as e3
};
/*! Bundled license information:

@esri/calcite-components/dist/components/index.js:
  (*!
   * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
   * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
   * v1.0.8-next.4
   *)
*/
//# sourceMappingURL=chunk-VPGE46JA.js.map
