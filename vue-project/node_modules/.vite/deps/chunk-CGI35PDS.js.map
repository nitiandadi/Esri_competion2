{
  "version": 3,
  "sources": ["../../@esri/calcite-components/dist/components/observers.js"],
  "sourcesContent": ["/*!\r\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\n * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.\r\n * v1.0.8-next.4\r\n */\r\nimport { Build } from '@stencil/core/internal/client/index.js';\r\n\r\n/**\r\n * This utility ensures observers are created only for browser contexts.\r\n *\r\n * @param type - the type of observer to create\r\n * @param callback - the observer callback\r\n * @param options - the observer options\r\n */\r\nfunction createObserver(type, callback, options) {\r\n  if (!Build.isBrowser) {\r\n    return undefined;\r\n  }\r\n  const Observer = getObserver(type);\r\n  return new Observer(callback, options);\r\n}\r\nfunction getObserver(type) {\r\n  // based on https://github.com/whatwg/dom/issues/126#issuecomment-1049814948\r\n  class ExtendedMutationObserver extends window.MutationObserver {\r\n    constructor(callback) {\r\n      super(callback);\r\n      this.observedEntry = [];\r\n      this.callback = callback;\r\n    }\r\n    observe(target, options) {\r\n      this.observedEntry.push({ target, options });\r\n      return super.observe(target, options);\r\n    }\r\n    unobserve(target) {\r\n      const newObservedEntries = this.observedEntry.filter((observed) => observed.target !== target);\r\n      this.observedEntry = [];\r\n      this.callback(super.takeRecords(), this);\r\n      this.disconnect();\r\n      newObservedEntries.forEach((observed) => this.observe(observed.target, observed.options));\r\n    }\r\n  }\r\n  return (function () {\r\n    return (type === \"intersection\"\r\n      ? window.IntersectionObserver\r\n      : type === \"mutation\"\r\n        ? ExtendedMutationObserver\r\n        : window.ResizeObserver);\r\n  })();\r\n}\r\n\r\nexport { createObserver as c };\r\n"],
  "mappings": ";;;;;AAcA,SAAS,eAAe,MAAM,UAAU,SAAS;AAC/C,MAAI,CAAC,MAAM,WAAW;AACpB,WAAO;AAAA,EACT;AACA,QAAM,WAAW,YAAY,IAAI;AACjC,SAAO,IAAI,SAAS,UAAU,OAAO;AACvC;AACA,SAAS,YAAY,MAAM;AAEzB,QAAM,iCAAiC,OAAO,iBAAiB;AAAA,IAC7D,YAAY,UAAU;AACpB,YAAM,QAAQ;AACd,WAAK,gBAAgB,CAAC;AACtB,WAAK,WAAW;AAAA,IAClB;AAAA,IACA,QAAQ,QAAQ,SAAS;AACvB,WAAK,cAAc,KAAK,EAAE,QAAQ,QAAQ,CAAC;AAC3C,aAAO,MAAM,QAAQ,QAAQ,OAAO;AAAA,IACtC;AAAA,IACA,UAAU,QAAQ;AAChB,YAAM,qBAAqB,KAAK,cAAc,OAAO,CAAC,aAAa,SAAS,WAAW,MAAM;AAC7F,WAAK,gBAAgB,CAAC;AACtB,WAAK,SAAS,MAAM,YAAY,GAAG,IAAI;AACvC,WAAK,WAAW;AAChB,yBAAmB,QAAQ,CAAC,aAAa,KAAK,QAAQ,SAAS,QAAQ,SAAS,OAAO,CAAC;AAAA,IAC1F;AAAA,EACF;AACA,SAAQ,WAAY;AAClB,WAAQ,SAAS,iBACb,OAAO,uBACP,SAAS,aACP,2BACA,OAAO;AAAA,EACf,EAAG;AACL;",
  "names": []
}
