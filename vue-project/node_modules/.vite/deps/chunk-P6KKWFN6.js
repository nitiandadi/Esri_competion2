import {
  e,
  r as r2
} from "./chunk-22JWL5DZ.js";
import {
  a2 as a,
  ie,
  pe,
  r,
  t
} from "./chunk-BTELXCWJ.js";
import {
  u
} from "./chunk-XEFASELW.js";
import {
  o
} from "./chunk-BHKUW5DD.js";
import {
  f
} from "./chunk-BF3T2CWA.js";

// node_modules/@arcgis/core/chunks/index2.js
var r3;
var n = {};
r3 = function() {
  return function(e5) {
    var t3 = {};
    function r5(n3) {
      if (t3[n3])
        return t3[n3].exports;
      var i3 = t3[n3] = { exports: {}, id: n3, loaded: false };
      return e5[n3].call(i3.exports, i3, i3.exports, r5), i3.loaded = true, i3.exports;
    }
    return r5.m = e5, r5.c = t3, r5.p = "", r5(0);
  }([function(e5, t3, r5) {
    Object.defineProperty(t3, "__esModule", { value: true }), t3.isNotPNG = u3, t3.isNotAPNG = h2, t3.default = c3;
    var n3 = s2(r5(1)), i3 = r5(2);
    function s2(e6) {
      return e6 && e6.__esModule ? e6 : { default: e6 };
    }
    var a3 = new Error("Not a PNG"), o3 = new Error("Not an animated PNG");
    function u3(e6) {
      return e6 === a3;
    }
    function h2(e6) {
      return e6 === o3;
    }
    var l3 = new Uint8Array([137, 80, 78, 71, 13, 10, 26, 10]);
    function c3(e6) {
      var t4 = new Uint8Array(e6);
      if (Array.prototype.some.call(l3, function(e7, r7) {
        return e7 !== t4[r7];
      }))
        return a3;
      var r6 = false;
      if (f3(t4, function(e7) {
        return !(r6 = "acTL" === e7);
      }), !r6)
        return o3;
      var n4 = [], s3 = [], u4 = null, h3 = null, c4 = 0, p3 = new i3.APNG();
      if (f3(t4, function(e7, t5, r7, a4) {
        var o4 = new DataView(t5.buffer);
        switch (e7) {
          case "IHDR":
            u4 = t5.subarray(r7 + 8, r7 + 8 + a4), p3.width = o4.getUint32(r7 + 8), p3.height = o4.getUint32(r7 + 12);
            break;
          case "acTL":
            p3.numPlays = o4.getUint32(r7 + 8 + 4);
            break;
          case "fcTL":
            h3 && (p3.frames.push(h3), c4++), (h3 = new i3.Frame()).width = o4.getUint32(r7 + 8 + 4), h3.height = o4.getUint32(r7 + 8 + 8), h3.left = o4.getUint32(r7 + 8 + 12), h3.top = o4.getUint32(r7 + 8 + 16);
            var l4 = o4.getUint16(r7 + 8 + 20), f4 = o4.getUint16(r7 + 8 + 22);
            0 === f4 && (f4 = 100), h3.delay = 1e3 * l4 / f4, h3.delay <= 10 && (h3.delay = 100), p3.playTime += h3.delay, h3.disposeOp = o4.getUint8(r7 + 8 + 24), h3.blendOp = o4.getUint8(r7 + 8 + 25), h3.dataParts = [], 0 === c4 && 2 === h3.disposeOp && (h3.disposeOp = 1);
            break;
          case "fdAT":
            h3 && h3.dataParts.push(t5.subarray(r7 + 8 + 4, r7 + 8 + a4));
            break;
          case "IDAT":
            h3 && h3.dataParts.push(t5.subarray(r7 + 8, r7 + 8 + a4));
            break;
          case "IEND":
            s3.push(v2(t5, r7, 12 + a4));
            break;
          default:
            n4.push(v2(t5, r7, 12 + a4));
        }
      }), h3 && p3.frames.push(h3), 0 == p3.frames.length)
        return o3;
      var m3 = new Blob(n4), y2 = new Blob(s3);
      return p3.frames.forEach(function(e7) {
        var t5 = [];
        t5.push(l3), u4.set(_2(e7.width), 0), u4.set(_2(e7.height), 4), t5.push(d2("IHDR", u4)), t5.push(m3), e7.dataParts.forEach(function(e8) {
          return t5.push(d2("IDAT", e8));
        }), t5.push(y2), e7.imageData = new Blob(t5, { type: "image/png" }), delete e7.dataParts, t5 = null;
      }), p3;
    }
    function f3(e6, t4) {
      var r6 = new DataView(e6.buffer), n4 = 8, i4 = void 0, s3 = void 0, a4 = void 0;
      do {
        s3 = r6.getUint32(n4), a4 = t4(i4 = p2(e6, n4 + 4, 4), e6, n4, s3), n4 += 12 + s3;
      } while (false !== a4 && "IEND" != i4 && n4 < e6.length);
    }
    function p2(e6, t4, r6) {
      var n4 = Array.prototype.slice.call(e6.subarray(t4, t4 + r6));
      return String.fromCharCode.apply(String, n4);
    }
    function m2(e6) {
      for (var t4 = new Uint8Array(e6.length), r6 = 0; r6 < e6.length; r6++)
        t4[r6] = e6.charCodeAt(r6);
      return t4;
    }
    function v2(e6, t4, r6) {
      var n4 = new Uint8Array(r6);
      return n4.set(e6.subarray(t4, t4 + r6)), n4;
    }
    var d2 = function(e6, t4) {
      var r6 = e6.length + t4.length, i4 = new Uint8Array(r6 + 8), s3 = new DataView(i4.buffer);
      s3.setUint32(0, t4.length), i4.set(m2(e6), 4), i4.set(t4, 8);
      var a4 = (0, n3.default)(i4, 4, r6);
      return s3.setUint32(r6 + 4, a4), i4;
    }, _2 = function(e6) {
      return new Uint8Array([e6 >>> 24 & 255, e6 >>> 16 & 255, e6 >>> 8 & 255, 255 & e6]);
    };
  }, function(e5, t3) {
    Object.defineProperty(t3, "__esModule", { value: true }), t3.default = function(e6) {
      for (var t4 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n4 = -1, i4 = t4, s3 = t4 + (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : e6.length - t4); i4 < s3; i4++)
        n4 = n4 >>> 8 ^ r5[255 & (n4 ^ e6[i4])];
      return -1 ^ n4;
    };
    for (var r5 = new Uint32Array(256), n3 = 0; n3 < 256; n3++) {
      for (var i3 = n3, s2 = 0; s2 < 8; s2++)
        i3 = 0 != (1 & i3) ? 3988292384 ^ i3 >>> 1 : i3 >>> 1;
      r5[n3] = i3;
    }
  }, function(e5, t3, r5) {
    Object.defineProperty(t3, "__esModule", { value: true }), t3.Frame = t3.APNG = void 0;
    var n3 = function() {
      function e6(e7, t4) {
        for (var r6 = 0; r6 < t4.length; r6++) {
          var n4 = t4[r6];
          n4.enumerable = n4.enumerable || false, n4.configurable = true, "value" in n4 && (n4.writable = true), Object.defineProperty(e7, n4.key, n4);
        }
      }
      return function(t4, r6, n4) {
        return r6 && e6(t4.prototype, r6), n4 && e6(t4, n4), t4;
      };
    }(), i3 = s2(r5(3));
    function s2(e6) {
      return e6 && e6.__esModule ? e6 : { default: e6 };
    }
    function a3(e6, t4) {
      if (!(e6 instanceof t4))
        throw new TypeError("Cannot call a class as a function");
    }
    t3.APNG = function() {
      function e6() {
        a3(this, e6), this.width = 0, this.height = 0, this.numPlays = 0, this.playTime = 0, this.frames = [];
      }
      return n3(e6, [{ key: "createImages", value: function() {
        return Promise.all(this.frames.map(function(e7) {
          return e7.createImage();
        }));
      } }, { key: "getPlayer", value: function(e7) {
        var t4 = this, r6 = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
        return this.createImages().then(function() {
          return new i3.default(t4, e7, r6);
        });
      } }]), e6;
    }(), t3.Frame = function() {
      function e6() {
        a3(this, e6), this.left = 0, this.top = 0, this.width = 0, this.height = 0, this.delay = 0, this.disposeOp = 0, this.blendOp = 0, this.imageData = null, this.imageElement = null;
      }
      return n3(e6, [{ key: "createImage", value: function() {
        var e7 = this;
        return this.imageElement ? Promise.resolve() : new Promise(function(t4, r6) {
          var n4 = URL.createObjectURL(e7.imageData);
          e7.imageElement = document.createElement("img"), e7.imageElement.onload = function() {
            URL.revokeObjectURL(n4), t4();
          }, e7.imageElement.onerror = function() {
            URL.revokeObjectURL(n4), e7.imageElement = null, r6(new Error("Image creation error"));
          }, e7.imageElement.src = n4;
        });
      } }]), e6;
    }();
  }, function(e5, t3, r5) {
    Object.defineProperty(t3, "__esModule", { value: true });
    var n3 = function() {
      function e6(e7, t4) {
        for (var r6 = 0; r6 < t4.length; r6++) {
          var n4 = t4[r6];
          n4.enumerable = n4.enumerable || false, n4.configurable = true, "value" in n4 && (n4.writable = true), Object.defineProperty(e7, n4.key, n4);
        }
      }
      return function(t4, r6, n4) {
        return r6 && e6(t4.prototype, r6), n4 && e6(t4, n4), t4;
      };
    }();
    function i3(e6) {
      return e6 && e6.__esModule ? e6 : { default: e6 };
    }
    function s2(e6, t4) {
      if (!(e6 instanceof t4))
        throw new TypeError("Cannot call a class as a function");
    }
    function a3(e6, t4) {
      if (!e6)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return !t4 || "object" != typeof t4 && "function" != typeof t4 ? e6 : t4;
    }
    function o3(e6, t4) {
      if ("function" != typeof t4 && null !== t4)
        throw new TypeError("Super expression must either be null or a function, not " + typeof t4);
      e6.prototype = Object.create(t4 && t4.prototype, { constructor: { value: e6, enumerable: false, writable: true, configurable: true } }), t4 && (Object.setPrototypeOf ? Object.setPrototypeOf(e6, t4) : e6.__proto__ = t4);
    }
    var u3 = function(e6) {
      function t4(e7, r6, n4) {
        s2(this, t4);
        var i4 = a3(this, (t4.__proto__ || Object.getPrototypeOf(t4)).call(this));
        return i4.playbackRate = 1, i4._currentFrameNumber = 0, i4._ended = false, i4._paused = true, i4._numPlays = 0, i4._apng = e7, i4.context = r6, i4.stop(), n4 && i4.play(), i4;
      }
      return o3(t4, e6), n3(t4, [{ key: "renderNextFrame", value: function() {
        this._currentFrameNumber = (this._currentFrameNumber + 1) % this._apng.frames.length, this._currentFrameNumber === this._apng.frames.length - 1 && (this._numPlays++, 0 !== this._apng.numPlays && this._numPlays >= this._apng.numPlays && (this._ended = true, this._paused = true)), this._prevFrame && 1 == this._prevFrame.disposeOp ? this.context.clearRect(this._prevFrame.left, this._prevFrame.top, this._prevFrame.width, this._prevFrame.height) : this._prevFrame && 2 == this._prevFrame.disposeOp && this.context.putImageData(this._prevFrameData, this._prevFrame.left, this._prevFrame.top);
        var e7 = this.currentFrame;
        this._prevFrame = e7, this._prevFrameData = null, 2 == e7.disposeOp && (this._prevFrameData = this.context.getImageData(e7.left, e7.top, e7.width, e7.height)), 0 == e7.blendOp && this.context.clearRect(e7.left, e7.top, e7.width, e7.height), this.context.drawImage(e7.imageElement, e7.left, e7.top), this.emit("frame", this._currentFrameNumber), this._ended && this.emit("end");
      } }, { key: "play", value: function() {
        var e7 = this;
        this.emit("play"), this._ended && this.stop(), this._paused = false;
        var t5 = performance.now() + this.currentFrame.delay / this.playbackRate, r6 = function r7(n4) {
          if (!e7._ended && !e7._paused) {
            if (n4 >= t5) {
              for (; n4 - t5 >= e7._apng.playTime / e7.playbackRate; )
                t5 += e7._apng.playTime / e7.playbackRate, e7._numPlays++;
              do {
                e7.renderNextFrame(), t5 += e7.currentFrame.delay / e7.playbackRate;
              } while (!e7._ended && n4 > t5);
            }
            requestAnimationFrame(r7);
          }
        };
        requestAnimationFrame(r6);
      } }, { key: "pause", value: function() {
        this._paused || (this.emit("pause"), this._paused = true);
      } }, { key: "stop", value: function() {
        this.emit("stop"), this._numPlays = 0, this._ended = false, this._paused = true, this._currentFrameNumber = -1, this.context.clearRect(0, 0, this._apng.width, this._apng.height), this.renderNextFrame();
      } }, { key: "currentFrameNumber", get: function() {
        return this._currentFrameNumber;
      } }, { key: "currentFrame", get: function() {
        return this._apng.frames[this._currentFrameNumber];
      } }, { key: "paused", get: function() {
        return this._paused;
      } }, { key: "ended", get: function() {
        return this._ended;
      } }]), t4;
    }(i3(r5(4)).default);
    t3.default = u3;
  }, function(e5, t3) {
    function r5() {
      this._events = this._events || {}, this._maxListeners = this._maxListeners || void 0;
    }
    function n3(e6) {
      return "function" == typeof e6;
    }
    function i3(e6) {
      return "number" == typeof e6;
    }
    function s2(e6) {
      return "object" == typeof e6 && null !== e6;
    }
    function a3(e6) {
      return void 0 === e6;
    }
    e5.exports = r5, r5.EventEmitter = r5, r5.prototype._events = void 0, r5.prototype._maxListeners = void 0, r5.defaultMaxListeners = 10, r5.prototype.setMaxListeners = function(e6) {
      if (!i3(e6) || e6 < 0 || isNaN(e6))
        throw TypeError("n must be a positive number");
      return this._maxListeners = e6, this;
    }, r5.prototype.emit = function(e6) {
      var t4, r6, i4, o3, u3, h2;
      if (this._events || (this._events = {}), "error" === e6 && (!this._events.error || s2(this._events.error) && !this._events.error.length)) {
        if ((t4 = arguments[1]) instanceof Error)
          throw t4;
        var l3 = new Error('Uncaught, unspecified "error" event. (' + t4 + ")");
        throw l3.context = t4, l3;
      }
      if (a3(r6 = this._events[e6]))
        return false;
      if (n3(r6))
        switch (arguments.length) {
          case 1:
            r6.call(this);
            break;
          case 2:
            r6.call(this, arguments[1]);
            break;
          case 3:
            r6.call(this, arguments[1], arguments[2]);
            break;
          default:
            o3 = Array.prototype.slice.call(arguments, 1), r6.apply(this, o3);
        }
      else if (s2(r6))
        for (o3 = Array.prototype.slice.call(arguments, 1), i4 = (h2 = r6.slice()).length, u3 = 0; u3 < i4; u3++)
          h2[u3].apply(this, o3);
      return true;
    }, r5.prototype.addListener = function(e6, t4) {
      var i4;
      if (!n3(t4))
        throw TypeError("listener must be a function");
      return this._events || (this._events = {}), this._events.newListener && this.emit("newListener", e6, n3(t4.listener) ? t4.listener : t4), this._events[e6] ? s2(this._events[e6]) ? this._events[e6].push(t4) : this._events[e6] = [this._events[e6], t4] : this._events[e6] = t4, s2(this._events[e6]) && !this._events[e6].warned && (i4 = a3(this._maxListeners) ? r5.defaultMaxListeners : this._maxListeners) && i4 > 0 && this._events[e6].length > i4 && (this._events[e6].warned = true, console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.", this._events[e6].length), "function" == typeof console.trace && console.trace()), this;
    }, r5.prototype.on = r5.prototype.addListener, r5.prototype.once = function(e6, t4) {
      if (!n3(t4))
        throw TypeError("listener must be a function");
      var r6 = false;
      function i4() {
        this.removeListener(e6, i4), r6 || (r6 = true, t4.apply(this, arguments));
      }
      return i4.listener = t4, this.on(e6, i4), this;
    }, r5.prototype.removeListener = function(e6, t4) {
      var r6, i4, a4, o3;
      if (!n3(t4))
        throw TypeError("listener must be a function");
      if (!this._events || !this._events[e6])
        return this;
      if (a4 = (r6 = this._events[e6]).length, i4 = -1, r6 === t4 || n3(r6.listener) && r6.listener === t4)
        delete this._events[e6], this._events.removeListener && this.emit("removeListener", e6, t4);
      else if (s2(r6)) {
        for (o3 = a4; o3-- > 0; )
          if (r6[o3] === t4 || r6[o3].listener && r6[o3].listener === t4) {
            i4 = o3;
            break;
          }
        if (i4 < 0)
          return this;
        1 === r6.length ? (r6.length = 0, delete this._events[e6]) : r6.splice(i4, 1), this._events.removeListener && this.emit("removeListener", e6, t4);
      }
      return this;
    }, r5.prototype.removeAllListeners = function(e6) {
      var t4, r6;
      if (!this._events)
        return this;
      if (!this._events.removeListener)
        return 0 === arguments.length ? this._events = {} : this._events[e6] && delete this._events[e6], this;
      if (0 === arguments.length) {
        for (t4 in this._events)
          "removeListener" !== t4 && this.removeAllListeners(t4);
        return this.removeAllListeners("removeListener"), this._events = {}, this;
      }
      if (n3(r6 = this._events[e6]))
        this.removeListener(e6, r6);
      else if (r6)
        for (; r6.length; )
          this.removeListener(e6, r6[r6.length - 1]);
      return delete this._events[e6], this;
    }, r5.prototype.listeners = function(e6) {
      return this._events && this._events[e6] ? n3(this._events[e6]) ? [this._events[e6]] : this._events[e6].slice() : [];
    }, r5.prototype.listenerCount = function(e6) {
      if (this._events) {
        var t4 = this._events[e6];
        if (n3(t4))
          return 1;
        if (t4)
          return t4.length;
      }
      return 0;
    }, r5.listenerCount = function(e6, t4) {
      return e6.listenerCount(t4);
    };
  }]);
}, { get exports() {
  return n;
}, set exports(e5) {
  n = e5;
} }.exports = r3();
var i = o(n);

// node_modules/@arcgis/core/chunks/index3.js
var e3 = {};
var r4 = {};
var t2 = {};
Object.defineProperty(t2, "__esModule", { value: true }), t2.loop = t2.conditional = t2.parse = void 0;
var n2 = function e4(r5, t3) {
  var n3 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, a3 = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : n3;
  if (Array.isArray(t3))
    t3.forEach(function(t4) {
      return e4(r5, t4, n3, a3);
    });
  else if ("function" == typeof t3)
    t3(r5, n3, a3, e4);
  else {
    var i3 = Object.keys(t3)[0];
    Array.isArray(t3[i3]) ? (a3[i3] = {}, e4(r5, t3[i3], n3, a3[i3])) : a3[i3] = t3[i3](r5, n3, a3, e4);
  }
  return n3;
};
t2.parse = n2;
var a2 = function(e5, r5) {
  return function(t3, n3, a3, i3) {
    r5(t3, n3, a3) && i3(t3, e5, n3, a3);
  };
};
t2.conditional = a2;
var i2 = function(e5, r5) {
  return function(t3, n3, a3, i3) {
    for (var o3 = [], d2 = t3.pos; r5(t3, n3, a3); ) {
      var s2 = {};
      if (i3(t3, e5, n3, s2), t3.pos === d2)
        break;
      d2 = t3.pos, o3.push(s2);
    }
    return o3;
  };
};
t2.loop = i2;
var o2 = {};
Object.defineProperty(o2, "__esModule", { value: true }), o2.readBits = o2.readArray = o2.readUnsigned = o2.readString = o2.peekBytes = o2.readBytes = o2.peekByte = o2.readByte = o2.buildStream = void 0;
var d = function(e5) {
  return { data: e5, pos: 0 };
};
o2.buildStream = d;
var s = function() {
  return function(e5) {
    return e5.data[e5.pos++];
  };
};
o2.readByte = s;
var c = function() {
  var e5 = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
  return function(r5) {
    return r5.data[r5.pos + e5];
  };
};
o2.peekByte = c;
var u2 = function(e5) {
  return function(r5) {
    return r5.data.subarray(r5.pos, r5.pos += e5);
  };
};
o2.readBytes = u2;
var l = function(e5) {
  return function(r5) {
    return r5.data.subarray(r5.pos, r5.pos + e5);
  };
};
o2.peekBytes = l;
var f2 = function(e5) {
  return function(r5) {
    return Array.from(u2(e5)(r5)).map(function(e6) {
      return String.fromCharCode(e6);
    }).join("");
  };
};
o2.readString = f2;
var p = function(e5) {
  return function(r5) {
    var t3 = u2(2)(r5);
    return e5 ? (t3[1] << 8) + t3[0] : (t3[0] << 8) + t3[1];
  };
};
o2.readUnsigned = p;
var y = function(e5, r5) {
  return function(t3, n3, a3) {
    for (var i3 = "function" == typeof r5 ? r5(t3, n3, a3) : r5, o3 = u2(e5), d2 = new Array(i3), s2 = 0; s2 < i3; s2++)
      d2[s2] = o3(t3);
    return d2;
  };
};
o2.readArray = y;
var v = function(e5, r5, t3) {
  for (var n3 = 0, a3 = 0; a3 < t3; a3++)
    n3 += e5[r5 + a3] && Math.pow(2, t3 - a3 - 1);
  return n3;
};
var g = function(e5) {
  return function(r5) {
    for (var t3 = s()(r5), n3 = new Array(8), a3 = 0; a3 < 8; a3++)
      n3[7 - a3] = !!(t3 & 1 << a3);
    return Object.keys(e5).reduce(function(r6, t4) {
      var a4 = e5[t4];
      return a4.length ? r6[t4] = v(n3, a4.index, a4.length) : r6[t4] = n3[a4.index], r6;
    }, {});
  };
};
o2.readBits = g, function(e5) {
  Object.defineProperty(e5, "__esModule", { value: true }), e5.default = void 0;
  var r5 = t2, n3 = o2, a3 = { blocks: function(e6) {
    for (var r6 = 0, t3 = [], a4 = e6.data.length, i4 = 0, o3 = (0, n3.readByte)()(e6); o3 !== r6 && o3; o3 = (0, n3.readByte)()(e6)) {
      if (e6.pos + o3 >= a4) {
        var d3 = a4 - e6.pos;
        t3.push((0, n3.readBytes)(d3)(e6)), i4 += d3;
        break;
      }
      t3.push((0, n3.readBytes)(o3)(e6)), i4 += o3;
    }
    for (var s3 = new Uint8Array(i4), c4 = 0, u4 = 0; u4 < t3.length; u4++)
      s3.set(t3[u4], c4), c4 += t3[u4].length;
    return s3;
  } }, i3 = (0, r5.conditional)({ gce: [{ codes: (0, n3.readBytes)(2) }, { byteSize: (0, n3.readByte)() }, { extras: (0, n3.readBits)({ future: { index: 0, length: 3 }, disposal: { index: 3, length: 3 }, userInput: { index: 6 }, transparentColorGiven: { index: 7 } }) }, { delay: (0, n3.readUnsigned)(true) }, { transparentColorIndex: (0, n3.readByte)() }, { terminator: (0, n3.readByte)() }] }, function(e6) {
    var r6 = (0, n3.peekBytes)(2)(e6);
    return 33 === r6[0] && 249 === r6[1];
  }), d2 = (0, r5.conditional)({ image: [{ code: (0, n3.readByte)() }, { descriptor: [{ left: (0, n3.readUnsigned)(true) }, { top: (0, n3.readUnsigned)(true) }, { width: (0, n3.readUnsigned)(true) }, { height: (0, n3.readUnsigned)(true) }, { lct: (0, n3.readBits)({ exists: { index: 0 }, interlaced: { index: 1 }, sort: { index: 2 }, future: { index: 3, length: 2 }, size: { index: 5, length: 3 } }) }] }, (0, r5.conditional)({ lct: (0, n3.readArray)(3, function(e6, r6, t3) {
    return Math.pow(2, t3.descriptor.lct.size + 1);
  }) }, function(e6, r6, t3) {
    return t3.descriptor.lct.exists;
  }), { data: [{ minCodeSize: (0, n3.readByte)() }, a3] }] }, function(e6) {
    return 44 === (0, n3.peekByte)()(e6);
  }), s2 = (0, r5.conditional)({ text: [{ codes: (0, n3.readBytes)(2) }, { blockSize: (0, n3.readByte)() }, { preData: function(e6, r6, t3) {
    return (0, n3.readBytes)(t3.text.blockSize)(e6);
  } }, a3] }, function(e6) {
    var r6 = (0, n3.peekBytes)(2)(e6);
    return 33 === r6[0] && 1 === r6[1];
  }), c3 = (0, r5.conditional)({ application: [{ codes: (0, n3.readBytes)(2) }, { blockSize: (0, n3.readByte)() }, { id: function(e6, r6, t3) {
    return (0, n3.readString)(t3.blockSize)(e6);
  } }, a3] }, function(e6) {
    var r6 = (0, n3.peekBytes)(2)(e6);
    return 33 === r6[0] && 255 === r6[1];
  }), u3 = (0, r5.conditional)({ comment: [{ codes: (0, n3.readBytes)(2) }, a3] }, function(e6) {
    var r6 = (0, n3.peekBytes)(2)(e6);
    return 33 === r6[0] && 254 === r6[1];
  }), l3 = [{ header: [{ signature: (0, n3.readString)(3) }, { version: (0, n3.readString)(3) }] }, { lsd: [{ width: (0, n3.readUnsigned)(true) }, { height: (0, n3.readUnsigned)(true) }, { gct: (0, n3.readBits)({ exists: { index: 0 }, resolution: { index: 1, length: 3 }, sort: { index: 4 }, size: { index: 5, length: 3 } }) }, { backgroundColorIndex: (0, n3.readByte)() }, { pixelAspectRatio: (0, n3.readByte)() }] }, (0, r5.conditional)({ gct: (0, n3.readArray)(3, function(e6, r6) {
    return Math.pow(2, r6.lsd.gct.size + 1);
  }) }, function(e6, r6) {
    return r6.lsd.gct.exists;
  }), { frames: (0, r5.loop)([i3, c3, u3, d2, s2], function(e6) {
    var r6 = (0, n3.peekByte)()(e6);
    return 33 === r6 || 44 === r6;
  }) }];
  e5.default = l3;
}(r4);
var h = {};
Object.defineProperty(h, "__esModule", { value: true }), h.deinterlace = void 0;
var B = function(e5, r5) {
  for (var t3 = new Array(e5.length), n3 = e5.length / r5, a3 = function(n4, a4) {
    var i4 = e5.slice(a4 * r5, (a4 + 1) * r5);
    t3.splice.apply(t3, [n4 * r5, r5].concat(i4));
  }, i3 = [0, 4, 2, 1], o3 = [8, 8, 4, 2], d2 = 0, s2 = 0; s2 < 4; s2++)
    for (var c3 = i3[s2]; c3 < n3; c3 += o3[s2])
      a3(c3, d2), d2++;
  return t3;
};
h.deinterlace = B;
var x = {};
Object.defineProperty(x, "__esModule", { value: true }), x.lzw = void 0;
var m = function(e5, r5, t3) {
  var n3, a3, i3, o3, d2, s2, c3, u3, l3, f3, p2, y2, v2, g2, h2, B2, x2 = 4096, m2 = -1, b2 = t3, w2 = new Array(t3), k2 = new Array(x2), A2 = new Array(x2), S2 = new Array(x2 + 1);
  for (d2 = (a3 = 1 << (f3 = e5)) + 1, n3 = a3 + 2, c3 = m2, i3 = (1 << (o3 = f3 + 1)) - 1, u3 = 0; u3 < a3; u3++)
    k2[u3] = 0, A2[u3] = u3;
  for (p2 = y2 = v2 = g2 = h2 = B2 = 0, l3 = 0; l3 < b2; ) {
    if (0 === g2) {
      if (y2 < o3) {
        p2 += r5[B2] << y2, y2 += 8, B2++;
        continue;
      }
      if (u3 = p2 & i3, p2 >>= o3, y2 -= o3, u3 > n3 || u3 == d2)
        break;
      if (u3 == a3) {
        i3 = (1 << (o3 = f3 + 1)) - 1, n3 = a3 + 2, c3 = m2;
        continue;
      }
      if (c3 == m2) {
        S2[g2++] = A2[u3], c3 = u3, v2 = u3;
        continue;
      }
      for (s2 = u3, u3 == n3 && (S2[g2++] = v2, u3 = c3); u3 > a3; )
        S2[g2++] = A2[u3], u3 = k2[u3];
      v2 = 255 & A2[u3], S2[g2++] = v2, n3 < x2 && (k2[n3] = c3, A2[n3] = v2, 0 == (++n3 & i3) && n3 < x2 && (o3++, i3 += n3)), c3 = s2;
    }
    g2--, w2[h2++] = S2[g2], l3++;
  }
  for (l3 = h2; l3 < b2; l3++)
    w2[l3] = 0;
  return w2;
};
x.lzw = m, Object.defineProperty(e3, "__esModule", { value: true });
var b = e3.decompressFrames = e3.decompressFrame = C = e3.parseGIF = void 0;
var w = _(r4);
var k = t2;
var A = o2;
var S = h;
var z = x;
function _(e5) {
  return e5 && e5.__esModule ? e5 : { default: e5 };
}
var U = function(e5) {
  var r5 = new Uint8Array(e5);
  return (0, k.parse)((0, A.buildStream)(r5), w.default);
};
var C = e3.parseGIF = U;
var M = function(e5) {
  for (var r5 = e5.pixels.length, t3 = new Uint8ClampedArray(4 * r5), n3 = 0; n3 < r5; n3++) {
    var a3 = 4 * n3, i3 = e5.pixels[n3], o3 = e5.colorTable[i3] || [0, 0, 0];
    t3[a3] = o3[0], t3[a3 + 1] = o3[1], t3[a3 + 2] = o3[2], t3[a3 + 3] = i3 !== e5.transparentIndex ? 255 : 0;
  }
  return t3;
};
var j = function(e5, r5, t3) {
  if (e5.image) {
    var n3 = e5.image, a3 = n3.descriptor.width * n3.descriptor.height, i3 = (0, z.lzw)(n3.data.minCodeSize, n3.data.blocks, a3);
    n3.descriptor.lct.interlaced && (i3 = (0, S.deinterlace)(i3, n3.descriptor.width));
    var o3 = { pixels: i3, dims: { top: e5.image.descriptor.top, left: e5.image.descriptor.left, width: e5.image.descriptor.width, height: e5.image.descriptor.height } };
    return n3.descriptor.lct && n3.descriptor.lct.exists ? o3.colorTable = n3.lct : o3.colorTable = r5, e5.gce && (o3.delay = 10 * (e5.gce.delay || 10), o3.disposalType = e5.gce.extras.disposal, e5.gce.extras.transparentColorGiven && (o3.transparentIndex = e5.gce.transparentColorIndex)), t3 && (o3.patch = M(o3)), o3;
  }
  console.warn("gif frame does not have associated image.");
};
e3.decompressFrame = j;
var I = function(e5, r5) {
  return e5.frames.filter(function(e6) {
    return e6.image;
  }).map(function(t3) {
    return j(t3, e5.gct, r5);
  });
};
b = e3.decompressFrames = I;

// node_modules/@arcgis/core/symbols/cim/Rasterizer.js
var l2 = 512;
var c2 = class {
  constructor(e5) {
    this._resourceManager = e5, this._rasterizationCanvas = null;
  }
  dispose() {
    this._rasterizationCanvas = null;
  }
  rasterizeJSONResource(m2, l3, c3) {
    if (this._rasterizationCanvas || (this._rasterizationCanvas = document.createElement("canvas")), "simple-fill" === m2.type || "esriSFS" === m2.type) {
      const [t3, a3, i3] = r2(this._rasterizationCanvas, m2.style, l3);
      return { size: [a3, i3], image: new Uint32Array(t3.buffer), sdf: false, simplePattern: true, anchorX: 0, anchorY: 0, rasterizationScale: f(Math.ceil(l3)) };
    }
    if ("simple-line" === m2.type || "esriSLS" === m2.type || "line" === m2.type && m2.dashTemplate) {
      let e5, a3;
      if ("simple-line" === m2.type || "esriSLS" === m2.type)
        switch (e5 = pe(m2.style, m2.cap), m2.cap) {
          case "butt":
            a3 = "Butt";
            break;
          case "square":
            a3 = "Square";
            break;
          default:
            a3 = "Round";
        }
      else
        e5 = m2.dashTemplate, a3 = m2.cim.capStyle;
      const [r5, n3, s2] = e(e5, a3);
      return { size: [n3, s2], image: new Uint32Array(r5.buffer), sdf: true, simplePattern: true, anchorX: 0, anchorY: 0 };
    }
    let f3, h2 = null, p2 = null, u3 = 1;
    if ("simple-marker" === m2.type || "esriSMS" === m2.type || "line-marker" === m2.type ? (f3 = ie.fromSimpleMarker(m2), p2 = r(f3)) : m2.cim && "CIMHatchFill" === m2.cim.type ? (f3 = ie.fromCIMHatchFill(m2.cim, l3), h2 = new t(f3.frame.xmin, -f3.frame.ymax, f3.frame.xmax - f3.frame.xmin, f3.frame.ymax - f3.frame.ymin), u3 = l3) : m2.cim.markerPlacement && "CIMMarkerPlacementInsidePolygon" === m2.cim.markerPlacement.type ? (f3 = ie.fromCIMInsidePolygon(m2.cim), h2 = new t(f3.frame.xmin, -f3.frame.ymax, f3.frame.xmax - f3.frame.xmin, f3.frame.ymax - f3.frame.ymin)) : (f3 = m2.cim, m2.avoidSDFRasterization || (p2 = r(f3))), p2 && !c3) {
      const [e5, t3, a3] = a(p2);
      return e5 ? { size: [t3, a3], image: new Uint32Array(e5.buffer), sdf: true, simplePattern: true, anchorX: 0, anchorY: 0, rasterizationScale: u3 } : null;
    }
    const [y2, d2, C2, g2, z2] = ie.rasterize(this._rasterizationCanvas, f3, h2, this._resourceManager, !c3);
    return y2 ? { size: [d2, C2], image: new Uint32Array(y2.buffer), sdf: false, simplePattern: false, anchorX: g2, anchorY: z2 } : null;
  }
  rasterizeImageResource(e5, t3, a3, r5) {
    this._rasterizationCanvas || (this._rasterizationCanvas = document.createElement("canvas")), this._rasterizationCanvas.width = e5, this._rasterizationCanvas.height = t3;
    const i3 = this._rasterizationCanvas.getContext("2d");
    a3 instanceof ImageData ? i3.putImageData(a3, 0, 0) : (a3.setAttribute("width", `${e5}px`), a3.setAttribute("height", `${t3}px`), i3.drawImage(a3, 0, 0, e5, t3));
    const n3 = i3.getImageData(0, 0, e5, t3), s2 = new Uint8Array(n3.data);
    if (r5) {
      for (const m2 of r5)
        if (m2 && m2.oldColor && 4 === m2.oldColor.length && m2.newColor && 4 === m2.newColor.length) {
          const [e6, t4, a4, r6] = m2.oldColor, [i4, n4, o4, l3] = m2.newColor;
          if (e6 === i4 && t4 === n4 && a4 === o4 && r6 === l3)
            continue;
          for (let m3 = 0; m3 < s2.length; m3 += 4)
            e6 === s2[m3] && t4 === s2[m3 + 1] && a4 === s2[m3 + 2] && r6 === s2[m3 + 3] && (s2[m3] = i4, s2[m3 + 1] = n4, s2[m3 + 2] = o4, s2[m3 + 3] = l3);
        }
    }
    let o3;
    for (let m2 = 0; m2 < s2.length; m2 += 4)
      o3 = s2[m2 + 3] / 255, s2[m2] = s2[m2] * o3, s2[m2 + 1] = s2[m2 + 1] * o3, s2[m2 + 2] = s2[m2 + 2] * o3;
    let c3 = s2, f3 = e5, h2 = t3;
    const p2 = l2;
    if (f3 >= p2 || h2 >= p2) {
      const a4 = f3 / h2;
      a4 > 1 ? (f3 = p2, h2 = Math.round(p2 / a4)) : (h2 = p2, f3 = Math.round(p2 * a4)), c3 = new Uint8Array(4 * f3 * h2);
      const r6 = new Uint8ClampedArray(c3.buffer);
      u(s2, e5, t3, r6, f3, h2, false);
    }
    return { size: [f3, h2], image: new Uint32Array(c3.buffer), sdf: false, simplePattern: false, anchorX: 0, anchorY: 0 };
  }
};

export {
  i,
  b,
  C,
  c2 as c
};
//# sourceMappingURL=chunk-P6KKWFN6.js.map
