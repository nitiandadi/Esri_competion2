{
  "version": 3,
  "sources": ["../../@arcgis/core/symbols/support/webStyleSymbolUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import o from\"../../core/Error.js\";import{unwrapOrThrow as l,isSome as n}from\"../../core/maybe.js\";import{urlToObject as m,removeFile as s}from\"../../core/urlUtils.js\";import a from\"../../portal/Portal.js\";import{f as i}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as p}from\"./jsonUtils.js\";import u from\"./StyleOrigin.js\";import{fetchStyle as f,symbolUrlFromStyleItem as y,requestJSON as c,makeCIMSymbolRef as b,Style2DUrlTemplate as g}from\"./styleUtils.js\";import{Thumbnail as j}from\"./Thumbnail.js\";function h(t,e,r,n){return t.name?t.styleName&&\"Esri2DPointSymbolsStyle\"===t.styleName?U(t,e,n):f(t,e,n).then((o=>d(l(o),t.name,e,r,n))):Promise.reject(new o(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\"))}function d(l,f,g,h,d){const U=l.data,N=g&&n(g.portal)?g.portal:a.getDefault(),w={portal:N,url:m(l.baseUrl),origin:\"portal-item\"},S=U.items.find((t=>t.name===f));if(!S){const t=`The symbol name '${f}' could not be found`;return Promise.reject(new o(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:f}))}let D=i(y(S,h),w),O=S.thumbnail?.href??null;const P=S.thumbnail&&S.thumbnail.imageData;e()&&(D=r(D)??\"\",O=r(O));const E={portal:N,url:m(s(D)),origin:\"portal-item\"};return c(D,d).then((e=>{const r=\"cimRef\"===h?b(e.data):e.data,o=p(r,E);if(o&&t(o)){if(O){const t=i(O,w);o.thumbnail=new j({url:t})}else P&&(o.thumbnail=new j({url:`data:image/png;base64,${P}`}));l.styleUrl?o.styleOrigin=new u({portal:g.portal,styleUrl:l.styleUrl,name:f}):l.styleName&&(o.styleOrigin=new u({portal:g.portal,styleName:l.styleName,name:f}))}return o}))}function U(t,e,r){const o=g.replace(/\\{SymbolName\\}/gi,t.name),l=n(e.portal)?e.portal:a.getDefault();return c(o,r).then((t=>{const e=b(t.data);return p(e,{portal:l,url:m(s(o)),origin:\"portal-item\"})}))}export{d as fetchSymbolFromStyle,h as resolveWebStyleSymbol};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAI8oB,SAAS,EAAE,GAAE,GAAEA,IAAE,GAAE;AAAC,SAAO,EAAE,OAAK,EAAE,aAAW,8BAA4B,EAAE,YAAUC,GAAE,GAAE,GAAE,CAAC,IAAEC,GAAE,GAAE,GAAE,CAAC,EAAE,KAAM,OAAGC,GAAE,EAAE,CAAC,GAAE,EAAE,MAAK,GAAEH,IAAE,CAAC,CAAE,IAAE,QAAQ,OAAO,IAAI,EAAE,wDAAuD,wCAAwC,CAAC;AAAC;AAAC,SAASG,GAAE,GAAE,GAAE,GAAEC,IAAED,IAAE;AAJn6B;AAIo6B,QAAMF,KAAE,EAAE,MAAK,IAAE,KAAG,EAAE,EAAE,MAAM,IAAE,EAAE,SAAOI,GAAE,WAAW,GAAE,IAAE,EAAC,QAAO,GAAE,KAAI,EAAE,EAAE,OAAO,GAAE,QAAO,cAAa,GAAE,IAAEJ,GAAE,MAAM,KAAM,OAAG,EAAE,SAAO,CAAE;AAAE,MAAG,CAAC,GAAE;AAAC,UAAM,IAAE,oBAAoB;AAAwB,WAAO,QAAQ,OAAO,IAAI,EAAE,0CAAyC,GAAE,EAAC,YAAW,EAAC,CAAC,CAAC;AAAA,EAAC;AAAC,MAAI,IAAEK,GAAE,EAAE,GAAEF,EAAC,GAAE,CAAC,GAAE,MAAE,OAAE,cAAF,mBAAa,SAAM;AAAK,QAAM,IAAE,EAAE,aAAW,EAAE,UAAU;AAAU,EAAAE,GAAE,MAAI,IAAE,EAAE,CAAC,KAAG,IAAG,IAAE,EAAE,CAAC;AAAG,QAAM,IAAE,EAAC,QAAO,GAAE,KAAI,EAAE,GAAE,CAAC,CAAC,GAAE,QAAO,cAAa;AAAE,SAAO,EAAE,GAAEH,EAAC,EAAE,KAAM,OAAG;AAAC,UAAMH,KAAE,aAAWI,KAAE,EAAE,EAAE,IAAI,IAAE,EAAE,MAAK,IAAE,EAAEJ,IAAE,CAAC;AAAE,QAAG,KAAG,EAAE,CAAC,GAAE;AAAC,UAAG,GAAE;AAAC,cAAM,IAAEM,GAAE,GAAE,CAAC;AAAE,UAAE,YAAU,IAAI,EAAE,EAAC,KAAI,EAAC,CAAC;AAAA,MAAC;AAAM,cAAI,EAAE,YAAU,IAAI,EAAE,EAAC,KAAI,yBAAyB,IAAG,CAAC;AAAG,QAAE,WAAS,EAAE,cAAY,IAAIC,GAAE,EAAC,QAAO,EAAE,QAAO,UAAS,EAAE,UAAS,MAAK,EAAC,CAAC,IAAE,EAAE,cAAY,EAAE,cAAY,IAAIA,GAAE,EAAC,QAAO,EAAE,QAAO,WAAU,EAAE,WAAU,MAAK,EAAC,CAAC;AAAA,IAAE;AAAC,WAAO;AAAA,EAAC,CAAE;AAAC;AAAC,SAASN,GAAE,GAAE,GAAED,IAAE;AAAC,QAAM,IAAE,EAAE,QAAQ,oBAAmB,EAAE,IAAI,GAAE,IAAE,EAAE,EAAE,MAAM,IAAE,EAAE,SAAOK,GAAE,WAAW;AAAE,SAAO,EAAE,GAAEL,EAAC,EAAE,KAAM,CAAAQ,OAAG;AAAC,UAAMC,KAAE,EAAED,GAAE,IAAI;AAAE,WAAO,EAAEC,IAAE,EAAC,QAAO,GAAE,KAAI,EAAE,GAAE,CAAC,CAAC,GAAE,QAAO,cAAa,CAAC;AAAA,EAAC,CAAE;AAAC;",
  "names": ["r", "U", "p", "d", "h", "b", "c", "a", "t", "e"]
}
