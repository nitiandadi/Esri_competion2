import {
  T as T2,
  _,
  l as l3,
  p as p2,
  y as y3
} from "./chunk-MEYRAFYY.js";
import {
  j
} from "./chunk-LSZOFED5.js";
import {
  u as u3
} from "./chunk-X2F6PX2U.js";
import {
  a as a2,
  c,
  i as i2
} from "./chunk-CCNZLEW5.js";
import {
  S2 as S,
  m,
  y as y2
} from "./chunk-QX5IKXT7.js";
import {
  l as l2
} from "./chunk-BHQVXYUV.js";
import {
  o as o2
} from "./chunk-BQXNXAP2.js";
import {
  i
} from "./chunk-YMLMMCYX.js";
import {
  S as S2,
  w
} from "./chunk-6TTVNN6M.js";
import {
  o
} from "./chunk-7FMLQXIT.js";
import {
  r as r2
} from "./chunk-H2ENCYR3.js";
import {
  s as s2
} from "./chunk-S47644HM.js";
import {
  l
} from "./chunk-DLM7WQKI.js";
import {
  a2 as a,
  e,
  e2,
  t6 as t2,
  u2,
  v,
  y3 as y
} from "./chunk-7GTATSRF.js";
import {
  T,
  u
} from "./chunk-PXVSWY3C.js";
import {
  t2 as t
} from "./chunk-QLY5H3XF.js";
import {
  s
} from "./chunk-UG2OEDEE.js";
import {
  p
} from "./chunk-PR6SXADK.js";
import {
  r
} from "./chunk-WHB7G7RI.js";

// node_modules/@arcgis/core/renderers/DictionaryRenderer.js
var p3;
var c2 = p3 = class extends y3(p2) {
  constructor(e4) {
    super(e4), this.config = null, this.fieldMap = null, this.scaleExpression = null, this.scaleExpressionTitle = null, this.url = null, this.type = "dictionary";
  }
  get _loader() {
    return new u3(this.url, this.config, this.fieldMap);
  }
  writeData(e4, r3) {
    e4 && (r3.scalingExpressionInfo = { expression: e4, returnType: "number" });
  }
  writeVisualVariables(e4, r3, s4, i5) {
    (i5 == null ? void 0 : i5.origin) || super.writeVisualVariables(e4, r3, s4, i5);
  }
  clone() {
    return new p3({ config: p(this.config), scaleExpression: this.scaleExpression, scaleExpressionTitle: this.scaleExpressionTitle, fieldMap: p(this.fieldMap), url: p(this.url), visualVariables: p(this.visualVariables) });
  }
  async getSymbolAsync(e4, r3) {
    return this._loader.getSymbolAsync(e4, r3);
  }
  async collectRequiredFields(e4, r3) {
    await this.collectVVRequiredFields(e4, r3), this.scaleExpression && await S2(e4, r3, this.scaleExpression);
    for (const s4 in this.fieldMap) {
      const i5 = this.fieldMap[s4];
      r3.has(i5) && e4.add(i5);
    }
  }
  get arcadeRequired() {
    return true;
  }
  getSymbol() {
    return null;
  }
  getSymbols() {
    return [];
  }
  getAttributeHash() {
    return this.visualVariables && this.visualVariables.reduce((e4, r3) => e4 + r3.getAttributeHash(), "");
  }
  getMeshHash() {
    return `${this.url}-${JSON.stringify(this.fieldMap)}`;
  }
  getSymbolFields() {
    return this._loader.getSymbolFields();
  }
};
e([y({ type: u3 })], c2.prototype, "_loader", null), e([y({ type: Object, json: { read: { source: "configuration" }, write: { target: "configuration" } } })], c2.prototype, "config", void 0), e([y({ type: Object, json: { write: true } })], c2.prototype, "fieldMap", void 0), e([y({ type: String, json: { read: { source: "scalingExpressionInfo.expression" }, write: true } })], c2.prototype, "scaleExpression", void 0), e([r2("scaleExpression")], c2.prototype, "writeData", null), e([y({ type: String, json: { read: { source: "scalingExpressionInfo.title" }, write: { target: "scalingExpressionInfo.title", overridePolicy(e4) {
  return { enabled: !!e4 && !!this.scaleExpression };
} } } })], c2.prototype, "scaleExpressionTitle", void 0), e([y({ type: String, json: { write: true } })], c2.prototype, "url", void 0), e([r2("visualVariables")], c2.prototype, "writeVisualVariables", null), c2 = p3 = e([a("esri.renderers.DictionaryRenderer")], c2);
var u4 = c2;

// node_modules/@arcgis/core/renderers/support/AttributeColorInfo.js
var n;
var u5 = n = class extends l {
  constructor(e4) {
    super(e4), this.color = null, this.field = null, this.label = null, this.valueExpression = null, this.valueExpressionTitle = null;
  }
  castField(e4) {
    return null == e4 ? e4 : "function" == typeof e4 ? (s.getLogger(this.declaredClass).error(".field: field must be a string value"), null) : u(e4);
  }
  getAttributeHash() {
    return `${this.field}-${this.valueExpression}`;
  }
  clone() {
    return new n({ color: this.color && this.color.clone(), field: this.field, label: this.label, valueExpression: this.valueExpression, valueExpressionTitle: this.valueExpressionTitle });
  }
};
e([y({ type: l2, json: { type: [Number], write: true } })], u5.prototype, "color", void 0), e([y({ type: String, json: { write: true } })], u5.prototype, "field", void 0), e([s2("field")], u5.prototype, "castField", null), e([y({ type: String, json: { write: true } })], u5.prototype, "label", void 0), e([y({ type: String, json: { write: true } })], u5.prototype, "valueExpression", void 0), e([y({ type: String, json: { write: true } })], u5.prototype, "valueExpressionTitle", void 0), u5 = n = e([a("esri.renderers.support.AttributeColorInfo")], u5);
var a3 = u5;

// node_modules/@arcgis/core/renderers/support/DotDensityLegendOptions.js
var e3;
var p4 = e3 = class extends l {
  constructor() {
    super(...arguments), this.unit = null;
  }
  clone() {
    return new e3({ unit: this.unit });
  }
};
e([y({ type: String, json: { write: true } })], p4.prototype, "unit", void 0), p4 = e3 = e([a("esri.renderers.support.DotDensityLegendOptions")], p4);
var c3 = p4;

// node_modules/@arcgis/core/renderers/DotDensityRenderer.js
var h;
var m2 = h = class extends y3(p2) {
  constructor(t4) {
    super(t4), this.attributes = null, this.backgroundColor = new l2([0, 0, 0, 0]), this.dotBlendingEnabled = true, this.dotShape = "square", this.dotSize = 1, this.legendOptions = null, this.outline = new m(), this.dotValue = null, this.referenceScale = null, this.seed = 1, this.type = "dot-density";
  }
  calculateDotValue(t4) {
    if (null == this.referenceScale)
      return this.dotValue;
    const e4 = t4 / this.referenceScale * this.dotValue;
    return e4 < 1 ? 1 : e4;
  }
  getSymbol() {
    return new S({ outline: this.outline });
  }
  async getSymbolAsync() {
    return this.getSymbol();
  }
  getSymbols() {
    return [this.getSymbol()];
  }
  getAttributeHash() {
    var _a;
    return ((_a = this.attributes) == null ? void 0 : _a.reduce((t4, e4) => t4 + e4.getAttributeHash(), "")) ?? "";
  }
  getMeshHash() {
    return JSON.stringify(this.outline);
  }
  clone() {
    return new h({ attributes: p(this.attributes), backgroundColor: p(this.backgroundColor), dotBlendingEnabled: p(this.dotBlendingEnabled), dotShape: p(this.dotShape), dotSize: p(this.dotSize), dotValue: p(this.dotValue), legendOptions: p(this.legendOptions), outline: p(this.outline), referenceScale: p(this.referenceScale), visualVariables: p(this.visualVariables), authoringInfo: this.authoringInfo && this.authoringInfo.clone() });
  }
  getControllerHash() {
    var _a;
    const t4 = (_a = this.attributes) == null ? void 0 : _a.map((t5) => t5.field || t5.valueExpression || "");
    return `${t4}-${this.outline && JSON.stringify(this.outline.toJSON()) || ""}`;
  }
  async collectRequiredFields(t4, e4) {
    await this.collectVVRequiredFields(t4, e4);
    for (const o4 of this.attributes ?? [])
      o4.valueExpression && await S2(t4, e4, o4.valueExpression), o4.field && t4.add(o4.field);
  }
};
e([y({ type: [a3], json: { write: true } })], m2.prototype, "attributes", void 0), e([y({ type: l2, json: { write: true } })], m2.prototype, "backgroundColor", void 0), e([y({ type: Boolean, json: { write: true } })], m2.prototype, "dotBlendingEnabled", void 0), e([y({ type: String, json: { write: false } })], m2.prototype, "dotShape", void 0), e([y({ type: Number, json: { write: true } })], m2.prototype, "dotSize", void 0), e([y({ type: c3, json: { write: true } })], m2.prototype, "legendOptions", void 0), e([y({ type: m, json: { default: null, write: true } })], m2.prototype, "outline", void 0), e([y({ type: Number, json: { write: true } })], m2.prototype, "dotValue", void 0), e([y({ type: Number, json: { write: true } })], m2.prototype, "referenceScale", void 0), e([y({ type: Number, json: { write: true } })], m2.prototype, "seed", void 0), e([o({ dotDensity: "dot-density" })], m2.prototype, "type", void 0), m2 = h = e([a("esri.renderers.DotDensityRenderer")], m2);
var y4 = m2;

// node_modules/@arcgis/core/renderers/support/HeatmapColorStop.js
var c4;
var i3 = c4 = class extends l {
  constructor(o4) {
    super(o4), this.color = null, this.ratio = null;
  }
  clone() {
    return new c4({ color: this.color, ratio: this.ratio });
  }
};
e([y({ type: l2, json: { type: [T], default: null, write: true } })], i3.prototype, "color", void 0), e([y({ type: Number, json: { write: true } })], i3.prototype, "ratio", void 0), i3 = c4 = e([a("esri.renderers.support.HeatmapColorStop")], i3);
var a4 = i3;

// node_modules/@arcgis/core/renderers/support/HeatmapLegendOptions.js
var p5 = class extends i(l) {
  constructor() {
    super(...arguments), this.minLabel = null, this.maxLabel = null, this.title = null;
  }
};
e([y({ type: String, json: { write: true } })], p5.prototype, "minLabel", void 0), e([y({ type: String, json: { write: true } })], p5.prototype, "maxLabel", void 0), e([y({ type: String, json: { write: true } })], p5.prototype, "title", void 0), p5 = e([a("esri.renderers.support.HeatmapLegendOptions")], p5);

// node_modules/@arcgis/core/renderers/HeatmapRenderer.js
var j2;
var D = "esri.renderers.HeatmapRenderer";
var I = s.getLogger(D);
function S3(e4) {
  if (null != e4) {
    const { maxDensity: t4, minDensity: i5, radius: s4 } = e4;
    if (null != t4 || null != i5 || null != s4) {
      const { blurRadius: t5, maxPixelIntensity: i6, minPixelIntensity: s5, ...r3 } = e4;
      return r3;
    }
  }
  return e4;
}
var v2 = j2 = class extends p2 {
  constructor(e4) {
    super(e4), this.authoringInfo = null, this.colorStops = [new a4({ ratio: 0, color: new l2("rgba(255, 140, 0, 0)") }), new a4({ ratio: 0.75, color: new l2("rgba(255, 140, 0, 1)") }), new a4({ ratio: 0.9, color: new l2("rgba(255, 0,   0, 1)") })], this.field = null, this.fieldOffset = 0, this.legendOptions = null, this.maxDensity = 0.04, this.minDensity = 0, this.radius = 18, this.referenceScale = 0, this.type = "heatmap", this.valueExpression = null, this.valueExpressionTitle = null, this._warnedProps = { blurRadius: false, maxPixelIntensity: false, minPixelIntensity: false };
  }
  normalizeCtorArgs(e4) {
    return S3(e4);
  }
  get blurRadius() {
    return c(this.radius);
  }
  set blurRadius(e4) {
    const t4 = this.maxPixelIntensity, i5 = this.minPixelIntensity;
    this._set("radius", i2(e4)), this._warnAboutDeprecatedGaussianBlurProp("blurRadius", "radius"), this._set("maxDensity", t4 * this._pixelIntensityToDensity), this._set("minDensity", i5 * this._pixelIntensityToDensity);
  }
  get maxPixelIntensity() {
    return this.maxDensity / this._pixelIntensityToDensity;
  }
  set maxPixelIntensity(e4) {
    this._set("maxDensity", e4 * this._pixelIntensityToDensity), this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity", "maxDensity");
  }
  get minPixelIntensity() {
    return this.minDensity / this._pixelIntensityToDensity;
  }
  set minPixelIntensity(e4) {
    this._set("minDensity", e4 * this._pixelIntensityToDensity), this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity", "minDensity");
  }
  get _pixelIntensityToDensity() {
    return 24 / (a2 ** 2 * this.blurRadius ** 4);
  }
  _warnAboutDeprecatedGaussianBlurProp(e4, t4) {
    if (this._warnedProps[e4])
      return;
    "user" === e2(this).getDefaultOrigin() && (this._warnedProps[e4] = true, v(() => {
      t(I, e4, { replacement: `${String(t4)} (suggested value: ${this._get(t4)})`, version: "4.24" });
    }));
  }
  read(e4, t4) {
    e4 = S3(e4), super.read(e4, t4);
  }
  getSymbol() {
    return new y2();
  }
  async getSymbolAsync() {
    return this.getSymbol();
  }
  getSymbols() {
    return [this.getSymbol()];
  }
  async collectRequiredFields(e4, t4) {
    const i5 = this.field, s4 = this.valueExpression;
    i5 && "string" == typeof i5 && await w(e4, t4, i5), s4 && "string" == typeof s4 && await S2(e4, t4, s4);
  }
  getAttributeHash() {
    return null;
  }
  getMeshHash() {
    return `${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`;
  }
  clone() {
    return new j2({ authoringInfo: this.authoringInfo && this.authoringInfo.clone(), colorStops: p(this.colorStops), field: this.field, legendOptions: p(this.legendOptions), maxDensity: this.maxDensity, minDensity: this.minDensity, radius: this.radius, referenceScale: this.referenceScale, valueExpression: this.valueExpression, valueExpressionTitle: this.valueExpressionTitle });
  }
};
e([y({ type: j, json: { write: true, origins: { "web-scene": { write: false, read: false } } } })], v2.prototype, "authoringInfo", void 0), e([y({ type: Number, json: { origins: { "portal-item": { write: true }, "web-map": { write: true } } } })], v2.prototype, "blurRadius", null), e([y({ type: [a4], json: { write: true } })], v2.prototype, "colorStops", void 0), e([y({ type: String, json: { write: true } })], v2.prototype, "field", void 0), e([y({ type: Number, json: { write: { overridePolicy: (e4, t4, i5) => ({ enabled: null == i5 }) }, origins: { "web-scene": { write: false } } } })], v2.prototype, "fieldOffset", void 0), e([y({ type: p5, json: { write: true } })], v2.prototype, "legendOptions", void 0), e([y({ type: Number, json: { write: true } })], v2.prototype, "maxDensity", void 0), e([y({ type: Number, json: { origins: { "portal-item": { write: true }, "web-map": { write: true } } } })], v2.prototype, "maxPixelIntensity", null), e([y({ type: Number, json: { write: true } })], v2.prototype, "minDensity", void 0), e([y({ type: Number, json: { origins: { "portal-item": { write: true }, "web-map": { write: true } } } })], v2.prototype, "minPixelIntensity", null), e([y({ type: Number, cast: o2, json: { write: true } })], v2.prototype, "radius", void 0), e([y({ type: Number, range: { min: 0 }, json: { default: 0, write: true } })], v2.prototype, "referenceScale", void 0), e([o({ heatmap: "heatmap" })], v2.prototype, "type", void 0), e([y({ type: String, json: { write: true, origins: { "web-document": { write: false }, "portal-item": { write: false } } } })], v2.prototype, "valueExpression", void 0), e([y({ type: String })], v2.prototype, "valueExpressionTitle", void 0), e([y({ readOnly: true })], v2.prototype, "_pixelIntensityToDensity", null), v2 = j2 = e([a(D)], v2);
var P = v2;

// node_modules/@arcgis/core/renderers/support/OthersCategory.js
var i4 = class extends i(l) {
  constructor() {
    super(...arguments), this.color = new l2([0, 0, 0, 0]), this.label = null, this.threshold = 0;
  }
};
e([y({ type: l2, json: { write: true } })], i4.prototype, "color", void 0), e([y({ type: String, json: { write: true } })], i4.prototype, "label", void 0), e([y({ type: Number, range: { min: 0, max: 1 }, json: { write: true } })], i4.prototype, "threshold", void 0), i4 = e([a("esri.renderers.support.OthersCategory")], i4);

// node_modules/@arcgis/core/renderers/support/PieChartLegendOptions.js
var p6 = class extends i(l) {
  constructor() {
    super(...arguments), this.title = null;
  }
};
e([y({ type: String, json: { write: true } })], p6.prototype, "title", void 0), p6 = e([a("esri.renderers.support.PieChartLegendOptions")], p6);

// node_modules/@arcgis/core/renderers/PieChartRenderer.js
var f = class extends y3(i(p2)) {
  constructor(t4) {
    super(t4), this.attributes = null, this.backgroundFillSymbol = null, this.defaultColor = new l2([0, 0, 0, 0]), this.defaultLabel = null, this.holePercentage = 0, this.othersCategory = new i4(), this.legendOptions = null, this.outline = null, this.size = 12, this.type = "pie-chart";
  }
  getSymbol() {
    var _a;
    return new y2({ size: this.size ? this.size / 2 + (((_a = this.outline) == null ? void 0 : _a.width) || 0) : 0 });
  }
  async getSymbolAsync() {
    return this.getSymbol();
  }
  getSymbols() {
    return [this.getSymbol(), this.backgroundFillSymbol].filter(r);
  }
  getAttributeHash() {
    return this.visualVariables && this.visualVariables.reduce((t4, e4) => t4 + e4.getAttributeHash(), "");
  }
  getMeshHash() {
    return this.getSymbols().reduce((t4, e4) => t4 + JSON.stringify(e4), "");
  }
  async collectRequiredFields(t4, e4) {
    await this.collectVVRequiredFields(t4, e4);
    for (const o4 of this.attributes)
      o4.valueExpression && await S2(t4, e4, o4.valueExpression), o4.field && t4.add(o4.field);
  }
};
e([y({ type: [a3], json: { write: true } })], f.prototype, "attributes", void 0), e([y({ type: S, json: { default: null, write: true } })], f.prototype, "backgroundFillSymbol", void 0), e([y({ type: l2, json: { write: true } })], f.prototype, "defaultColor", void 0), e([y({ type: String, json: { write: true } })], f.prototype, "defaultLabel", void 0), e([y({ type: Number, range: { min: 0, max: 1 }, json: { write: true } })], f.prototype, "holePercentage", void 0), e([y({ type: i4, json: { write: true } })], f.prototype, "othersCategory", void 0), e([y({ type: p6, json: { write: true } })], f.prototype, "legendOptions", void 0), e([y({ type: m, json: { default: null, write: true } })], f.prototype, "outline", void 0), e([y({ type: Number, cast: o2, json: { write: true } })], f.prototype, "size", void 0), e([o({ pieChart: "pie-chart" })], f.prototype, "type", void 0), f = e([a("esri.renderers.PieChartRenderer")], f);
var j3 = f;

// node_modules/@arcgis/core/renderers/SimpleRenderer.js
var c5;
var n2 = c5 = class extends y3(p2) {
  constructor(e4) {
    super(e4), this.description = null, this.label = null, this.symbol = null, this.type = "simple";
  }
  async collectRequiredFields(e4, s4) {
    await Promise.all([this.collectSymbolFields(e4, s4), this.collectVVRequiredFields(e4, s4)]);
  }
  async collectSymbolFields(e4, s4) {
    await Promise.all(this.getSymbols().map((r3) => r3.collectRequiredFields(e4, s4)));
  }
  getSymbol(e4, s4) {
    return this.symbol;
  }
  async getSymbolAsync(e4, s4) {
    return this.symbol;
  }
  getSymbols() {
    return this.symbol ? [this.symbol] : [];
  }
  getAttributeHash() {
    return this.visualVariables && this.visualVariables.reduce((e4, s4) => e4 + s4.getAttributeHash(), "");
  }
  getMeshHash() {
    return this.getSymbols().reduce((e4, s4) => e4 + JSON.stringify(s4), "");
  }
  get arcadeRequired() {
    return this.arcadeRequiredForVisualVariables;
  }
  clone() {
    return new c5({ description: this.description, label: this.label, symbol: this.symbol && this.symbol.clone(), visualVariables: p(this.visualVariables), authoringInfo: this.authoringInfo && this.authoringInfo.clone() });
  }
};
e([y({ type: String, json: { write: true } })], n2.prototype, "description", void 0), e([y({ type: String, json: { write: true } })], n2.prototype, "label", void 0), e([y(l3)], n2.prototype, "symbol", void 0), e([o({ simple: "simple" })], n2.prototype, "type", void 0), n2 = c5 = e([a("esri.renderers.SimpleRenderer")], n2);
var p7 = n2;

// node_modules/@arcgis/core/renderers/support/types.js
var p8 = { key: "type", base: p2, typeMap: { heatmap: P, simple: p7, "unique-value": T2, "class-breaks": _, "dot-density": y4, dictionary: u4, "pie-chart": j3 }, errorContext: "renderer" };
var n3 = { key: "type", base: p2, typeMap: { simple: p7, "unique-value": T2, "class-breaks": _, heatmap: P }, errorContext: "renderer" };

// node_modules/@arcgis/core/renderers/support/jsonUtils.js
function t3(e4, r3) {
  return o3(e4, null, r3);
}
var s3 = u2({ types: p8 });
function o3(r3, n4, t4) {
  return r3 ? r3 && (r3.styleName || r3.styleUrl) && "uniqueValue" !== r3.type ? (t4 && t4.messages && t4.messages.push(new t2("renderer:unsupported", "Only UniqueValueRenderer can be referenced from a web style, but found '" + r3.type + "'", { definition: r3, context: t4 })), null) : s3(r3, n4, t4) : null;
}

export {
  a4 as a,
  p7 as p,
  p8 as p2,
  n3 as n,
  t3 as t,
  o3 as o
};
//# sourceMappingURL=chunk-OO5RYTED.js.map
