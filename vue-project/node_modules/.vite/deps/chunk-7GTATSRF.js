import {
  t as t3
} from "./chunk-MTJ2HM2W.js";
import {
  $,
  B,
  M,
  S,
  _,
  b as b2,
  e,
  j as j2,
  k,
  m,
  t as t2,
  w as w2
} from "./chunk-PXVSWY3C.js";
import {
  D,
  a as a2,
  p as p2
} from "./chunk-QLY5H3XF.js";
import {
  r as r2,
  s,
  s2
} from "./chunk-UG2OEDEE.js";
import {
  h,
  has,
  o,
  p,
  w
} from "./chunk-PR6SXADK.js";
import {
  F,
  b,
  j,
  x
} from "./chunk-MGJMBJDY.js";
import {
  N,
  a,
  r,
  t,
  v
} from "./chunk-WHB7G7RI.js";

// node_modules/@arcgis/core/chunks/tslib.es6.js
function e2(e13, t15, r8, o12) {
  var c12, f9 = arguments.length, n12 = f9 < 3 ? t15 : null === o12 ? o12 = Object.getOwnPropertyDescriptor(t15, r8) : o12;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
    n12 = Reflect.decorate(e13, t15, r8, o12);
  else
    for (var l9 = e13.length - 1; l9 >= 0; l9--)
      (c12 = e13[l9]) && (n12 = (f9 < 3 ? c12(n12) : f9 > 3 ? c12(t15, r8, n12) : c12(t15, r8)) || n12);
  return f9 > 3 && n12 && Object.defineProperty(t15, r8, n12), n12;
}

// node_modules/@arcgis/core/core/iteratorUtils.js
function n(n12) {
  const o12 = [];
  return function* () {
    yield* o12;
    for (const t15 of n12)
      o12.push(t15), yield t15;
  };
}
function o2(n12, o12) {
  for (const t15 of n12)
    if (null != t15 && o12(t15))
      return t15;
}
function t4(n12) {
  return null != n12 && "function" == typeof n12[Symbol.iterator];
}

// node_modules/@arcgis/core/core/Handles.js
var t5 = class {
  constructor() {
    this._groups = /* @__PURE__ */ new Map();
  }
  destroy() {
    this.removeAll();
  }
  get size() {
    let r8 = 0;
    return this._groups.forEach((e13) => {
      r8 += e13.length;
    }), r8;
  }
  add(e13, t15) {
    if (t4(e13)) {
      const r8 = this._getOrCreateGroup(t15);
      for (const t16 of e13)
        this._isHandle(t16) && r8.push(t16);
    } else if (this._isHandle(e13)) {
      this._getOrCreateGroup(t15).push(e13);
    }
    return this;
  }
  forEach(r8, e13) {
    if ("function" == typeof r8)
      this._groups.forEach((e14) => e14.forEach(r8));
    else {
      const t15 = this._getGroup(r8);
      t15 && e13 && t15.forEach(e13);
    }
  }
  has(r8) {
    return this._groups.has(this._ensureGroupKey(r8));
  }
  remove(e13) {
    if ("string" != typeof e13 && t4(e13)) {
      for (const r8 of e13)
        this.remove(r8);
      return this;
    }
    return this.has(e13) ? (this._removeAllFromGroup(this._getGroup(e13)), this._groups.delete(this._ensureGroupKey(e13)), this) : this;
  }
  removeAll() {
    return this._groups.forEach((r8) => this._removeAllFromGroup(r8)), this._groups.clear(), this;
  }
  _isHandle(r8) {
    return r8 && !!r8.remove;
  }
  _getOrCreateGroup(r8) {
    if (this.has(r8))
      return this._getGroup(r8);
    const e13 = [];
    return this._groups.set(this._ensureGroupKey(r8), e13), e13;
  }
  _getGroup(r8) {
    return N(this._groups.get(this._ensureGroupKey(r8)));
  }
  _ensureGroupKey(r8) {
    return r8 || "_default_";
  }
  _removeAllFromGroup(r8) {
    r8.forEach((r9) => r9.remove());
  }
};

// node_modules/@arcgis/core/core/handleUtils.js
function r3(r8) {
  return n2(() => r8.forEach((r9) => r(r9) && r9.remove()));
}
function n2(e13) {
  return { remove: () => {
    e13 && (e13(), e13 = void 0);
  } };
}

// node_modules/@arcgis/core/core/accessorSupport/utils.js
function e3(r8) {
  return r8 ? r8.__accessor__ ? r8.__accessor__ : r8.propertyInvalidated ? r8 : null : null;
}
function i(r8, n12) {
  return null != r8 && r8.metadatas && null != r8.metadatas[n12];
}
function o3(r8, n12, t15) {
  if (t15) {
    return a3(r8, n12, { policy: t15, path: "" });
  }
  return a3(r8, n12, null);
}
function a3(r8, e13, i10) {
  return e13 ? Object.keys(e13).reduce((r9, u9) => {
    let o12 = null, l9 = "merge";
    if (i10 && (o12 = i10.path ? `${i10.path}.${u9}` : u9, l9 = i10.policy(o12)), "replace" === l9)
      return r9[u9] = e13[u9], r9;
    if ("replace-arrays" === l9 && Array.isArray(r9[u9]))
      return r9[u9] = e13[u9], r9;
    if (void 0 === r9[u9])
      return r9[u9] = p(e13[u9]), r9;
    let s14 = r9[u9], c12 = e13[u9];
    if (s14 === c12)
      return r9;
    if (Array.isArray(c12) || Array.isArray(r9))
      s14 = s14 ? Array.isArray(s14) ? r9[u9] = s14.concat() : r9[u9] = [s14] : r9[u9] = [], c12 && (Array.isArray(c12) || (c12 = [c12]), c12.forEach((r10) => {
        s14.includes(r10) || s14.push(r10);
      }));
    else if (c12 && "object" == typeof c12)
      if (i10) {
        const n12 = i10.path;
        i10.path = N(o12), r9[u9] = a3(s14, c12, i10), i10.path = n12;
      } else
        r9[u9] = a3(s14, c12, null);
    else
      r9.hasOwnProperty(u9) && !e13.hasOwnProperty(u9) || (r9[u9] = c12);
    return r9;
  }, r8 || {}) : r8;
}
function s3(r8) {
  return Array.isArray(r8) ? r8 : r8.split(".");
}
function c(r8) {
  return r8.includes(",") ? r8.split(",").map((r9) => r9.trim()) : [r8.trim()];
}
function f(r8) {
  if (Array.isArray(r8)) {
    const n12 = [];
    for (const t15 of r8)
      n12.push(...c(t15));
    return n12;
  }
  return c(r8);
}
function y(n12, t15, e13, i10) {
  const u9 = f(t15);
  if (1 !== u9.length) {
    const t16 = u9.map((r8) => i10(n12, r8, e13));
    return r3(t16);
  }
  return i10(n12, u9[0], e13);
}
function h2(r8) {
  let n12 = false;
  return () => {
    n12 || (n12 = true, r8());
  };
}

// node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js
var r4;
!function(e13) {
  e13[e13.DEFAULTS = 0] = "DEFAULTS", e13[e13.COMPUTED = 1] = "COMPUTED", e13[e13.SERVICE = 2] = "SERVICE", e13[e13.PORTAL_ITEM = 3] = "PORTAL_ITEM", e13[e13.WEB_SCENE = 4] = "WEB_SCENE", e13[e13.WEB_MAP = 5] = "WEB_MAP", e13[e13.USER = 6] = "USER";
}(r4 || (r4 = {}));
var E = r4.USER + 1;
function t6(e13) {
  switch (e13) {
    case "defaults":
      return r4.DEFAULTS;
    case "service":
      return r4.SERVICE;
    case "portal-item":
      return r4.PORTAL_ITEM;
    case "web-scene":
      return r4.WEB_SCENE;
    case "web-map":
      return r4.WEB_MAP;
    case "user":
      return r4.USER;
    default:
      return null;
  }
}
function n3(E2) {
  switch (E2) {
    case r4.DEFAULTS:
      return "defaults";
    case r4.SERVICE:
      return "service";
    case r4.PORTAL_ITEM:
      return "portal-item";
    case r4.WEB_SCENE:
      return "web-scene";
    case r4.WEB_MAP:
      return "web-map";
    case r4.USER:
      return "user";
  }
  return N(void 0);
}
function c2(e13) {
  return n3(e13);
}

// node_modules/@arcgis/core/core/PerformanceSampler.js
var e4 = class {
  constructor(s14, e13 = 30) {
    this.name = s14, this._counter = 0, this._samples = new Array(e13);
  }
  record(e13) {
    r(e13) && (this._samples[++this._counter % this._samples.length] = e13);
  }
  get median() {
    return this._samples.slice().sort((s14, e13) => s14 - e13)[Math.floor(this._samples.length / 2)];
  }
  get average() {
    return this._samples.reduce((s14, e13) => s14 + e13, 0) / this._samples.length;
  }
  get last() {
    return this._samples[this._counter % this._samples.length];
  }
};

// node_modules/@arcgis/core/core/HeapSort.js
var o4;
!function(o12) {
  const t15 = (o13, t16, n13, e14) => {
    let i11 = t16, c12 = t16;
    const l9 = n13 >>> 1, r8 = o13[i11 - 1];
    for (; c12 <= l9; ) {
      c12 = i11 << 1, c12 < n13 && e14(o13[c12 - 1], o13[c12]) < 0 && ++c12;
      const t17 = o13[c12 - 1];
      if (e14(t17, r8) <= 0)
        break;
      o13[i11 - 1] = t17, i11 = c12;
    }
    o13[i11 - 1] = r8;
  }, n12 = (o13, t16) => o13 < t16 ? -1 : o13 > t16 ? 1 : 0;
  function e13(o13, e14, i11, c12) {
    void 0 === e14 && (e14 = 0), void 0 === i11 && (i11 = o13.length), void 0 === c12 && (c12 = n12);
    for (let n13 = i11 >>> 1; n13 > e14; n13--)
      t15(o13, n13, i11, c12);
    const l9 = e14 + 1;
    for (let n13 = i11 - 1; n13 > e14; n13--) {
      const i12 = o13[e14];
      o13[e14] = o13[n13], o13[n13] = i12, t15(o13, l9, n13, c12);
    }
  }
  function* i10(o13, e14, i11, c12) {
    void 0 === e14 && (e14 = 0), void 0 === i11 && (i11 = o13.length), void 0 === c12 && (c12 = n12);
    for (let n13 = i11 >>> 1; n13 > e14; n13--)
      t15(o13, n13, i11, c12), yield;
    const l9 = e14 + 1;
    for (let n13 = i11 - 1; n13 > e14; n13--) {
      const i12 = o13[e14];
      o13[e14] = o13[n13], o13[n13] = i12, t15(o13, l9, n13, c12), yield;
    }
  }
  o12.sort = e13, o12.iterableSort = i10;
}(o4 || (o4 = {}));
var t7 = o4;

// node_modules/@arcgis/core/core/PooledArray.js
var a4 = 1.5;
var e5 = 1.1;
var l = class {
  constructor(h6) {
    this.data = [], this._length = 0, this._allocator = void 0, this._deallocator = () => null, this._shrink = () => {
    }, this._hint = new x(), h6 && (h6.initialSize && (this.data = new Array(h6.initialSize)), h6.allocator && (this._allocator = h6.allocator), void 0 !== h6.deallocator && (this._deallocator = h6.deallocator), h6.shrink && (this._shrink = () => n4(this)));
  }
  toArray() {
    return this.data.slice(0, this.length);
  }
  filter(t15) {
    const h6 = new Array();
    for (let i10 = 0; i10 < this._length; i10++) {
      const s14 = this.data[i10];
      t15(s14) && h6.push(s14);
    }
    return h6;
  }
  getItemAt(t15) {
    if (!(t15 < 0 || t15 >= this._length))
      return this.data[t15];
  }
  includes(t15, h6) {
    const i10 = this.data.indexOf(t15, h6);
    return -1 !== i10 && i10 < this.length;
  }
  get length() {
    return this._length;
  }
  set length(t15) {
    if (t15 > this._length) {
      if (this._allocator) {
        for (; this._length < t15; )
          this.data[this._length++] = this._allocator(this.data[this._length]);
        return;
      }
      this._length = t15;
    } else {
      if (this._deallocator)
        for (let h6 = t15; h6 < this._length; ++h6)
          this.data[h6] = this._deallocator(this.data[h6]);
      this._length = t15, this._shrink();
    }
  }
  clear() {
    this.length = 0;
  }
  prune() {
    this.clear(), this.data = [];
  }
  push(t15) {
    this.data[this._length++] = t15;
  }
  pushArray(t15, h6 = t15.length) {
    for (let i10 = 0; i10 < h6; i10++)
      this.data[this._length++] = t15[i10];
  }
  fill(t15, h6) {
    for (let i10 = 0; i10 < h6; i10++)
      this.data[this._length++] = t15;
  }
  pushNew() {
    this._allocator && (this.data[this.length] = this._allocator(this.data[this.length]));
    const t15 = this.data[this._length];
    return ++this._length, t15;
  }
  unshift(t15) {
    this.data.unshift(t15), this._length++, n4(this);
  }
  pop() {
    if (0 === this.length)
      return;
    const t15 = this.data[this.length - 1];
    return this.length = this.length - 1, this._shrink(), t15;
  }
  remove(t15) {
    const i10 = b(this.data, t15, this.length, this._hint);
    if (-1 !== i10)
      return this.data.splice(i10, 1), this.length = this.length - 1, t15;
  }
  removeUnordered(t15) {
    return this.removeUnorderedIndex(b(this.data, t15, this.length, this._hint));
  }
  removeUnorderedIndex(t15) {
    if (!(t15 >= this.length || t15 < 0))
      return this.swapElements(t15, this.length - 1), this.pop();
  }
  removeUnorderedMany(t15, h6 = t15.length, s14) {
    this.length = j(this.data, t15, this.length, h6, this._hint, s14), this._shrink();
  }
  front() {
    if (0 !== this.length)
      return this.data[0];
  }
  back() {
    if (0 !== this.length)
      return this.data[this.length - 1];
  }
  swapElements(t15, h6) {
    if (t15 >= this.length || h6 >= this.length || t15 === h6)
      return;
    const i10 = this.data[t15];
    this.data[t15] = this.data[h6], this.data[h6] = i10;
  }
  sort(t15) {
    t7.sort(this.data, 0, this.length, t15);
  }
  iterableSort(t15) {
    return t7.iterableSort(this.data, 0, this.length, t15);
  }
  some(t15, h6) {
    for (let i10 = 0; i10 < this.length; ++i10)
      if (t15.call(h6, this.data[i10], i10, this.data))
        return true;
    return false;
  }
  find(t15, h6) {
    for (let i10 = 0; i10 < this.length; ++i10) {
      const s14 = this.data[i10];
      if (t15.call(h6, s14, i10))
        return s14;
    }
  }
  filterInPlace(t15, h6) {
    let i10 = 0;
    for (let s14 = 0; s14 < this._length; ++s14) {
      const a11 = this.data[s14];
      t15.call(h6, a11, s14, this.data) && (this.data[s14] = this.data[i10], this.data[i10] = a11, i10++);
    }
    if (this._deallocator)
      for (let s14 = i10; s14 < this._length; s14++)
        this.data[s14] = this._deallocator(this.data[s14]);
    return this._length = i10, this._shrink(), this;
  }
  forAll(t15, h6) {
    const i10 = this.length, s14 = this.data;
    for (let a11 = 0; a11 < i10; ++a11)
      t15.call(h6, s14[a11], a11, s14);
  }
  forEach(t15, h6) {
    for (let i10 = 0; i10 < this.length; ++i10)
      t15.call(h6, this.data[i10], i10, this.data);
  }
  map(t15, h6) {
    const i10 = new Array(this.length);
    for (let s14 = 0; s14 < this.length; ++s14)
      i10[s14] = t15.call(h6, this.data[s14], s14, this.data);
    return i10;
  }
  reduce(t15, h6) {
    let i10 = h6;
    for (let s14 = 0; s14 < this.length; ++s14)
      i10 = t15(i10, this.data[s14], s14, this.data);
    return i10;
  }
  has(t15) {
    const h6 = this.length, i10 = this.data;
    for (let s14 = 0; s14 < h6; ++s14)
      if (i10[s14] === t15)
        return true;
    return false;
  }
};
function n4(t15) {
  t15.data.length > a4 * t15.length && (t15.data.length = Math.floor(t15.length * e5));
}

// node_modules/@arcgis/core/core/time.js
function n5(n12) {
  return n12;
}

// node_modules/@arcgis/core/core/scheduling.js
var c3 = class {
  constructor(e13) {
    this.phases = e13, this.paused = false, this.ticks = -1, this.removed = false;
  }
};
var m2 = class {
  constructor(e13) {
    this.callback = e13, this.isActive = true;
  }
  remove() {
    this.isActive = false;
  }
};
var l2 = 0;
var p3 = 0;
var u = { time: n5(0), deltaTime: n5(0), elapsedFrameTime: n5(0), frameDuration: n5(0) };
var f2 = ["prepare", "preRender", "render", "postRender", "update", "finish"];
var h3 = [];
var d = new l();
var w3 = class {
  constructor(e13) {
    this._task = e13;
  }
  remove() {
    this._task.removed = true;
  }
  pause() {
    this._task.paused = true;
  }
  resume() {
    this._task.paused = false;
  }
};
var k2 = { frameTasks: d, willDispatch: false, clearFrameTasks: j3, dispatch: b3, executeFrameTasks: D2 };
function v2(e13) {
  const r8 = new m2(e13);
  return h3.push(r8), k2.willDispatch || (k2.willDispatch = true, t3(b3)), r8;
}
function A(e13) {
  const t15 = new c3(e13);
  return d.push(t15), null == T && (l2 = performance.now(), T = requestAnimationFrame(x2)), new w3(t15);
}
var T = null;
function j3(e13 = false) {
  d.forAll((e14) => {
    e14.removed = true;
  }), e13 && _2();
}
function x2() {
  const e13 = performance.now();
  T = null, T = d.length > 0 ? requestAnimationFrame(x2) : null, k2.executeFrameTasks(e13);
}
function D2(e13) {
  const t15 = n5(e13 - l2);
  l2 = e13;
  const r8 = p3 > 0 ? p3 : 1e3 / 60, s14 = Math.max(0, t15 - r8);
  u.time = e13, u.frameDuration = n5(r8 - s14);
  for (let o12 = 0; o12 < f2.length; o12++) {
    const r9 = performance.now(), s15 = f2[o12];
    d.forAll((r10) => {
      var _a;
      if (r10.paused || r10.removed)
        return;
      0 === o12 && r10.ticks++;
      r10.phases[s15] && (u.elapsedFrameTime = n5(performance.now() - e13), u.deltaTime = 0 === r10.ticks ? n5(0) : t15, (_a = r10.phases[s15]) == null ? void 0 : _a.call(r10, u));
    }), R[o12].record(performance.now() - r9);
  }
  _2(), q.record(performance.now() - e13);
}
var g = new l();
function _2() {
  d.forAll((e13) => {
    e13.removed && g.push(e13);
  }), d.removeUnorderedMany(g.data, g.length), g.clear();
}
function b3() {
  for (; h3.length; ) {
    const t15 = N(h3.shift());
    t15.isActive && t15.callback();
  }
  k2.willDispatch = false;
}
function y2(e13 = 1, r8) {
  const s14 = D(), i10 = () => {
    p2(r8) ? s14.reject(a2()) : 0 === e13 ? s14() : (--e13, t3(() => i10()));
  };
  return i10(), s14.promise;
}
var R = f2.map((e13) => new e4(e13));
var q = new e4("total");

// node_modules/@arcgis/core/core/uid.js
var t8 = 0;
function e6() {
  return ++t8;
}

// node_modules/@arcgis/core/core/accessorSupport/get.js
function e7(t15, e13) {
  const i10 = "?" === t15[t15.length - 1] ? t15.slice(0, -1) : t15;
  if (null != e13.getItemAt || Array.isArray(e13)) {
    const t16 = parseInt(i10, 10);
    if (!isNaN(t16))
      return Array.isArray(e13) ? e13[t16] : e13.getItemAt(t16);
  }
  const u9 = e3(e13);
  return i(u9, i10) ? u9.get(i10) : e13[i10];
}
function i2(t15, n12, r8) {
  if (null == t15)
    return t15;
  const u9 = e7(n12[r8], t15);
  return !u9 && r8 < n12.length - 1 ? void 0 : r8 === n12.length - 1 ? u9 : i2(u9, n12, r8 + 1);
}
function u2(n12, r8, u9 = 0) {
  return "string" != typeof r8 || r8.includes(".") ? i2(n12, s3(r8), u9) : e7(r8, n12);
}
function o5(t15, n12) {
  return u2(t15, n12);
}
function s4(t15, n12) {
  return void 0 !== u2(n12, t15);
}

// node_modules/@arcgis/core/core/accessorSupport/metadata.js
function o6(r8) {
  let o12 = r8.constructor.__accessorMetadata__;
  const c12 = Object.prototype.hasOwnProperty.call(r8.constructor, "__accessorMetadata__");
  if (o12) {
    if (!c12) {
      o12 = Object.create(o12);
      for (const e13 in o12)
        o12[e13] = p(o12[e13]);
      Object.defineProperty(r8.constructor, "__accessorMetadata__", { value: o12, enumerable: false, configurable: true, writable: true });
    }
  } else
    o12 = {}, Object.defineProperty(r8.constructor, "__accessorMetadata__", { value: o12, enumerable: false, configurable: true, writable: true });
  return N(r8.constructor.__accessorMetadata__);
}
function c4(t15, e13) {
  const r8 = o6(t15);
  let c12 = r8[e13];
  return c12 || (c12 = r8[e13] = {}), c12;
}
function n6(t15, e13) {
  return o3(t15, e13, u3);
}
var s5 = /^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;
function u3(t15) {
  return s5.test(t15) ? "replace" : "merge";
}

// node_modules/@arcgis/core/core/accessorSupport/set.js
function t9(o12, e13, s14) {
  if (o12 && e13)
    if ("object" == typeof e13)
      for (const r8 of Object.getOwnPropertyNames(e13))
        t9(o12, r8, e13[r8]);
    else {
      if (e13.includes(".")) {
        const n12 = e13.split("."), i11 = n12.splice(n12.length - 1, 1)[0];
        return void t9(o5(o12, n12), i11, s14);
      }
      const i10 = o12.__accessor__;
      null != i10 && n7(e13, i10), o12[e13] = s14;
    }
}
function n7(r8, t15) {
  if (has("esri-unknown-property-errors") && !e8(r8, t15))
    throw new s2("set:unknown-property", s6(r8, t15));
}
function e8(o12, r8) {
  return null != r8.metadatas[o12];
}
function s6(o12, r8) {
  return "setting unknown property '" + o12 + "' on instance of " + r8.host.declaredClass;
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/property.js
function y3(n12 = {}) {
  return (o12, s14) => {
    if (o12 === Function.prototype)
      throw new Error(`Inappropriate use of @property() on a static field: ${o12.name}.${s14}. Accessor does not support static properties.`);
    const i10 = Object.getOwnPropertyDescriptor(o12, s14), a11 = c4(o12, s14);
    i10 && (i10.get || i10.set ? (a11.get = i10.get || a11.get, a11.set = i10.set || a11.set) : "value" in i10 && ("value" in n12 && s.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${s14}" on "${o12.constructor.name}" already defined in the metadata`, n12), a11.value = n12.value = i10.value)), null != n12.readOnly && (a11.readOnly = n12.readOnly);
    const p10 = n12.aliasOf;
    if (p10) {
      const t15 = "string" == typeof p10 ? p10 : p10.source, e13 = "string" == typeof p10 ? null : true === p10.overridable;
      let r8;
      a11.dependsOn = [t15], a11.get = function() {
        let e14 = o5(this, t15);
        if ("function" == typeof e14) {
          r8 || (r8 = t15.split(".").slice(0, -1).join("."));
          const n13 = o5(this, r8);
          n13 && (e14 = e14.bind(n13));
        }
        return e14;
      }, a11.readOnly || (a11.set = e13 ? function(t16) {
        this._override(s14, t16);
      } : function(e14) {
        t9(this, t15, e14);
      });
    }
    const u9 = n12.type, c12 = n12.types;
    a11.cast || (u9 ? a11.cast = h4(u9) : c12 && (Array.isArray(c12) ? a11.cast = m(S(c12[0])) : a11.cast = S(c12))), n6(a11, n12), n12.range && (a11.cast = j4(a11.cast, n12.range));
  };
}
function d2(t15, e13, r8) {
  const n12 = c4(t15, r8);
  n12.json || (n12.json = {});
  let o12 = n12.json;
  return void 0 !== e13 && (o12.origins || (o12.origins = {}), o12.origins[e13] || (o12.origins[e13] = {}), o12 = o12.origins[e13]), o12;
}
function h4(t15) {
  let e13 = 0, r8 = t15;
  if (_(t15))
    return B(t15);
  for (; Array.isArray(r8) && 1 === r8.length && "string" != typeof r8[0] && "number" != typeof r8[0]; )
    r8 = r8[0], e13++;
  const f9 = r8;
  if (k(f9))
    return 0 === e13 ? M(f9) : $(M(f9), e13);
  if (1 === e13)
    return w2(f9);
  if (e13 > 1)
    return j2(f9, e13);
  const l9 = t15;
  return l9.from ? l9.from : b2(l9);
}
function j4(t15, e13) {
  return (r8) => {
    let n12 = +t15(r8);
    return null != e13.step && (n12 = Math.round(n12 / e13.step) * e13.step), null != e13.min && (n12 = Math.max(e13.min, n12)), null != e13.max && (n12 = Math.min(e13.max, n12)), n12;
  };
}

// node_modules/@arcgis/core/core/Warning.js
var t10 = class extends r2 {
  constructor(e13, s14, r8) {
    if (super(e13, s14, r8), !(this instanceof t10))
      return new t10(e13, s14, r8);
  }
};
t10.prototype.type = "warning";

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/type.js
function e9(e13) {
  return !!e13 && e13.prototype && e13.prototype.declaredClass && 0 === e13.prototype.declaredClass.indexOf("esri.core.Collection");
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/reader.js
var i3 = s.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");
function p4(t15, r8, n12) {
  var _a, _b;
  t15 && (!n12 && !r8.read || ((_a = r8.read) == null ? void 0 : _a.reader) || false === ((_b = r8.read) == null ? void 0 : _b.enabled) || l3(t15) && o("read.reader", u4(t15), r8));
}
function u4(t15) {
  var _a, _b;
  const e13 = t15.ndimArray ?? 0;
  if (e13 > 1)
    return c5(t15);
  if (1 === e13)
    return a5(t15);
  if ("type" in t15 && d3(t15.type)) {
    const e14 = (_b = (_a = t15.type.prototype) == null ? void 0 : _a.itemType) == null ? void 0 : _b.Type, r8 = a5("function" == typeof e14 ? { type: e14 } : { types: e14 });
    return (e15, n12, o12) => {
      const i10 = r8(e15, n12, o12);
      return i10 ? new t15.type(i10) : i10;
    };
  }
  return s7(t15);
}
function s7(t15) {
  return "type" in t15 ? y4(t15.type) : g2(t15.types);
}
function y4(t15) {
  return t15.prototype.read ? (e13, r8, n12) => {
    if (null == e13)
      return e13;
    const o12 = typeof e13;
    if ("object" !== o12)
      return void i3.error(`Expected JSON value of type 'object' to deserialize type '${t15.prototype.declaredClass}', but got '${o12}'`);
    const p10 = new t15();
    return p10.read(e13, n12), p10;
  } : t15.fromJSON;
}
function f3(t15, e13, r8, n12) {
  return 0 !== n12 && Array.isArray(e13) ? e13.map((e14) => f3(t15, e14, r8, n12 - 1)) : t15(e13, void 0, r8);
}
function c5(t15) {
  const e13 = s7(t15), r8 = f3.bind(null, e13), n12 = t15.ndimArray ?? 0;
  return (t16, e14, o12) => {
    if (null == t16)
      return t16;
    t16 = r8(t16, o12, n12);
    let i10 = n12, p10 = t16;
    for (; i10 > 0 && Array.isArray(p10); )
      i10--, p10 = p10[0];
    if (void 0 !== p10)
      for (let r9 = 0; r9 < i10; r9++)
        t16 = [t16];
    return t16;
  };
}
function a5(t15) {
  const e13 = s7(t15);
  return (t16, r8, n12) => {
    if (null == t16)
      return t16;
    if (Array.isArray(t16)) {
      const r9 = [];
      for (const o13 of t16) {
        const t17 = e13(o13, void 0, n12);
        void 0 !== t17 && r9.push(t17);
      }
      return r9;
    }
    const o12 = e13(t16, void 0, n12);
    return void 0 !== o12 ? [o12] : void 0;
  };
}
function d3(t15) {
  if (!e9(t15))
    return false;
  const e13 = t15.prototype.itemType;
  return !(!e13 || !e13.Type) && ("function" == typeof e13.Type ? m3(e13.Type) : j5(e13.Type));
}
function l3(t15) {
  return "types" in t15 ? j5(t15.types) : m3(t15.type);
}
function m3(t15) {
  return !Array.isArray(t15) && (!!t15 && t15.prototype && ("read" in t15.prototype || "fromJSON" in t15 || d3(t15)));
}
function j5(t15) {
  for (const e13 in t15.typeMap) {
    if (!m3(t15.typeMap[e13]))
      return false;
  }
  return true;
}
function g2(t15) {
  let e13 = null;
  const n12 = t15.errorContext ?? "type";
  return (o12, p10, u9) => {
    if (null == o12)
      return o12;
    const s14 = typeof o12;
    if ("object" !== s14)
      return void i3.error(`Expected JSON value of type 'object' to deserialize, but got '${s14}'`);
    e13 || (e13 = v3(t15));
    const y11 = t15.key;
    if ("string" != typeof y11)
      return;
    const f9 = o12[y11], c12 = f9 ? e13[f9] : t15.defaultKeyValue ? t15.typeMap[t15.defaultKeyValue] : void 0;
    if (!c12) {
      const t16 = `Type '${f9 || "unknown"}' is not supported`;
      return u9 && u9.messages && o12 && u9.messages.push(new t10(`${n12}:unsupported`, t16, { definition: o12, context: u9 })), void i3.error(t16);
    }
    const a11 = new c12();
    return a11.read(o12, u9), a11;
  };
}
function v3(t15) {
  var _a, _b;
  const e13 = {};
  for (const r8 in t15.typeMap) {
    const o12 = t15.typeMap[r8], i10 = o6(o12.prototype);
    if ("function" == typeof t15.key)
      continue;
    const p10 = i10[t15.key];
    if (!p10)
      continue;
    ((_a = p10.json) == null ? void 0 : _a.type) && Array.isArray(p10.json.type) && 1 === p10.json.type.length && "string" == typeof p10.json.type[0] && (e13[p10.json.type[0]] = o12);
    const u9 = (_b = p10.json) == null ? void 0 : _b.write;
    if (!u9 || !u9.writer) {
      e13[r8] = o12;
      continue;
    }
    const s14 = u9.target, y11 = "string" == typeof s14 ? s14 : t15.key, f9 = {};
    u9.writer(r8, f9, y11), f9[y11] && (e13[f9[y11]] = o12);
  }
  return e13;
}

// node_modules/@arcgis/core/core/accessorSupport/beforeDestroy.js
var o7 = Symbol("Accessor-beforeDestroy");

// node_modules/@arcgis/core/core/accessorSupport/interfaces.js
var I;
!function(I3) {
  I3[I3.INITIALIZING = 0] = "INITIALIZING", I3[I3.CONSTRUCTING = 1] = "CONSTRUCTING", I3[I3.CONSTRUCTED = 2] = "CONSTRUCTED";
}(I || (I = {}));

// node_modules/@arcgis/core/core/accessorSupport/tracking/Flags.js
var i4;
!function(i10) {
  i10[i10.Dirty = 1] = "Dirty", i10[i10.Overriden = 2] = "Overriden", i10[i10.Computing = 4] = "Computing", i10[i10.NonNullable = 8] = "NonNullable", i10[i10.HasDefaultValue = 16] = "HasDefaultValue", i10[i10.DepTrackingInitialized = 32] = "DepTrackingInitialized", i10[i10.AutoTracked = 64] = "AutoTracked", i10[i10.ExplicitlyTracking = 128] = "ExplicitlyTracking";
}(i4 || (i4 = {}));

// node_modules/@arcgis/core/core/accessorSupport/tracking.js
var o8 = { onObservableAccessed: () => {
}, onTrackingEnd: () => {
} };
var c6 = [];
var s8 = o8;
function i5(t15) {
  s8.onObservableAccessed(t15);
}
var l4 = false;
var a6 = false;
function f4(t15, n12, e13) {
  if (l4)
    return u5(t15, n12, e13);
  p5(t15);
  const r8 = n12.call(e13);
  return d4(), r8;
}
function g3(t15, n12) {
  return f4(o8, t15, n12);
}
function u5(n12, e13, r8) {
  const o12 = l4;
  l4 = true, p5(n12);
  let c12 = null;
  try {
    c12 = e13.call(r8);
  } catch (s14) {
    a6 && s.getLogger("esri.core.accessorSupport.tracking").error(s14);
  }
  return d4(), l4 = o12, c12;
}
function p5(t15) {
  s8 = t15, c6.push(t15);
}
function d4() {
  const t15 = c6.length;
  if (t15 > 1) {
    const n12 = c6.pop();
    s8 = c6[t15 - 2], n12.onTrackingEnd();
  } else if (1 === t15) {
    const t16 = c6.pop();
    s8 = o8, t16.onTrackingEnd();
  } else
    s8 = o8;
}
function b4(t15, n12) {
  const e13 = n12.observerObject;
  if (e13.flags & i4.DepTrackingInitialized)
    return;
  const o12 = a6;
  a6 = false, e13.flags & i4.AutoTracked ? u5(n12, n12.metadata.get, t15) : k3(t15, n12), a6 = o12;
}
var m4 = [];
function k3(t15, e13) {
  const o12 = e13.observerObject;
  o12.flags & i4.ExplicitlyTracking || (o12.flags |= i4.ExplicitlyTracking, u5(e13, () => {
    const r8 = e13.metadata.dependsOn || m4;
    for (const e14 of r8)
      if ("string" != typeof e14 || e14.includes(".")) {
        const r9 = s3(e14);
        for (let n12 = 0, e15 = t15; n12 < r9.length && null != e15 && "object" == typeof e15; ++n12)
          e15 = y5(e15, r9[n12], n12 !== r9.length - 1);
      } else
        y5(t15, e14, false);
  }), o12.flags &= ~i4.ExplicitlyTracking);
}
function y5(t15, n12, r8) {
  var _a;
  const o12 = "?" === n12[n12.length - 1] ? n12.slice(0, -1) : n12;
  if (null != t15.getItemAt || Array.isArray(t15)) {
    const n13 = parseInt(o12, 10);
    if (!isNaN(n13))
      return Array.isArray(t15) ? t15[n13] : t15.getItemAt(n13);
  }
  const c12 = (_a = e3(t15)) == null ? void 0 : _a.properties.get(o12);
  return c12 && (i5(c12.observerObject), b4(t15, c12)), r8 ? t15[o12] : void 0;
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/originAliases.js
function n8(n12) {
  if (n12.json && n12.json.origins) {
    const o12 = n12.json.origins, e13 = { "web-document": ["web-scene", "web-map"] };
    for (const n13 in e13)
      if (o12[n13]) {
        const s14 = o12[n13];
        e13[n13].forEach((n14) => {
          o12[n14] = s14;
        }), delete o12[n13];
      }
  }
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/shorthands.js
function e10(e13) {
  if (e13.json || (e13.json = {}), o9(e13.json), n9(e13.json), r5(e13.json), e13.json.origins)
    for (const t15 in e13.json.origins)
      o9(e13.json.origins[t15]), n9(e13.json.origins[t15]), r5(e13.json.origins[t15]);
  return true;
}
function r5(e13) {
  e13.name && (e13.read && "object" == typeof e13.read ? void 0 === e13.read.source && (e13.read.source = e13.name) : e13.read = { source: e13.name }, e13.write && "object" == typeof e13.write ? void 0 === e13.write.target && (e13.write.target = e13.name) : e13.write = { target: e13.name });
}
function o9(e13) {
  "boolean" == typeof e13.read ? e13.read = { enabled: e13.read } : "function" == typeof e13.read ? e13.read = { enabled: true, reader: e13.read } : e13.read && "object" == typeof e13.read && void 0 === e13.read.enabled && (e13.read.enabled = true);
}
function n9(e13) {
  "boolean" == typeof e13.write ? e13.write = { enabled: e13.write } : "function" == typeof e13.write ? e13.write = { enabled: true, writer: e13.write } : e13.write && "object" == typeof e13.write && void 0 === e13.write.enabled && (e13.write.enabled = true);
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty/writer.js
function i6(r8, e13) {
  if (!e13.write || e13.write.writer || false === e13.write.enabled && !e13.write.overridePolicy)
    return;
  const t15 = (r8 == null ? void 0 : r8.ndimArray) ?? 0;
  r8 && (1 === t15 || "type" in r8 && e9(r8.type)) ? e13.write.writer = a7 : t15 > 1 ? e13.write.writer = l5(t15) : e13.types ? Array.isArray(e13.types) ? e13.write.writer = f5(e13.types[0]) : e13.write.writer = o10(e13.types) : e13.write.writer = s9;
}
function o10(r8) {
  return (e13, t15, n12, i10) => e13 ? u6(e13, r8, i10) ? s9(e13, t15, n12, i10) : void 0 : s9(e13, t15, n12, i10);
}
function u6(t15, n12, i10) {
  for (const r8 in n12.typeMap)
    if (t15 instanceof n12.typeMap[r8])
      return true;
  if (i10 == null ? void 0 : i10.messages) {
    const o12 = n12.errorContext ?? "type", u9 = `Values of type '${("function" != typeof n12.key ? t15[n12.key] : t15.declaredClass) ?? "Unknown"}' cannot be written`;
    i10 && i10.messages && t15 && i10.messages.push(new s2(`${o12}:unsupported`, u9, { definition: t15, context: i10 })), s.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(u9);
  }
  return false;
}
function f5(r8) {
  return (e13, t15, n12, i10) => {
    if (!e13 || !Array.isArray(e13))
      return s9(e13, t15, n12, i10);
    return s9(e13.filter((e14) => u6(e14, r8, i10)), t15, n12, i10);
  };
}
function s9(r8, e13, n12, i10) {
  o(n12, p6(r8, i10), e13);
}
function p6(r8, e13) {
  return r8 && "function" == typeof r8.write ? r8.write({}, e13) : r8 && "function" == typeof r8.toJSON ? r8.toJSON() : "number" == typeof r8 ? y6(r8) : r8;
}
function y6(r8) {
  return r8 === -1 / 0 ? -Number.MAX_VALUE : r8 === 1 / 0 ? Number.MAX_VALUE : isNaN(r8) ? null : r8;
}
function a7(r8, e13, n12, i10) {
  let o12;
  null === r8 ? o12 = null : r8 && "function" == typeof r8.map ? (o12 = r8.map((r9) => p6(r9, i10)), "function" == typeof o12.toArray && (o12 = o12.toArray())) : o12 = [p6(r8, i10)], o(n12, o12, e13);
}
function c7(r8, e13, t15) {
  return 0 !== t15 && Array.isArray(r8) ? r8.map((r9) => c7(r9, e13, t15 - 1)) : p6(r8, e13);
}
function l5(r8) {
  return (e13, n12, i10, o12) => {
    let u9;
    if (null === e13)
      u9 = null;
    else {
      u9 = c7(e13, o12, r8);
      let t15 = r8, n13 = u9;
      for (; t15 > 0 && Array.isArray(n13); )
        t15--, n13 = n13[0];
      if (void 0 !== n13)
        for (let r9 = 0; r9 < t15; r9++)
          u9 = [u9];
    }
    o(i10, u9, n12);
  };
}

// node_modules/@arcgis/core/core/accessorSupport/extensions/serializableProperty.js
function t11(r8, n12) {
  return a8(r8, "read", n12);
}
function s10(r8, n12) {
  return a8(r8, "write", n12);
}
function a8(r8, n12, i10) {
  let e13 = r8 && r8.json;
  if (r8 && r8.json && r8.json.origins && i10) {
    const o12 = i10.origin && r8.json.origins[i10.origin];
    o12 && ("any" === n12 || n12 in o12) && (e13 = o12);
  }
  return e13;
}
function p7(r8) {
  const n12 = y7(r8);
  if (r8.json.origins)
    for (const e13 in r8.json.origins) {
      const t15 = r8.json.origins[e13], s14 = t15.types ? f6(t15) : n12;
      p4(s14, t15, false), t15.types && !t15.write && r8.json.write && r8.json.write.enabled && (t15.write = { ...r8.json.write }), i6(s14, t15);
    }
  p4(n12, r8.json, true), i6(n12, r8.json);
}
function y7(r8) {
  return r8.json.types ? u7(r8.json) : r8.type ? j6(r8) : u7(r8);
}
function f6(r8) {
  return r8.type ? j6(r8) : u7(r8);
}
function j6(n12) {
  if (!n12.type)
    return;
  let i10 = 0, e13 = n12.type;
  for (; Array.isArray(e13) && !k(e13); )
    e13 = e13[0], i10++;
  return { type: e13, ndimArray: i10 };
}
function u7(r8) {
  if (!r8.types)
    return;
  let n12 = 0, i10 = r8.types;
  for (; Array.isArray(i10); )
    i10 = i10[0], n12++;
  return { types: i10, ndimArray: n12 };
}
function c8(r8) {
  e10(r8) && (n8(r8), p7(r8));
}

// node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js
var i7 = /* @__PURE__ */ new Set();
var n10 = /* @__PURE__ */ new Set();
function a9(t15) {
  return (o12) => {
    o12.prototype.declaredClass = t15, l6(o12);
    const s14 = [], a11 = [];
    let c12 = o12.prototype;
    for (; c12; )
      c12.hasOwnProperty("initialize") && !i7.has(c12.initialize) && (i7.add(c12.initialize), s14.push(c12.initialize)), c12.hasOwnProperty("destroy") && !n10.has(c12.destroy) && (n10.add(c12.destroy), a11.push(c12.destroy)), c12 = Object.getPrototypeOf(c12);
    i7.clear(), n10.clear();
    class p10 extends o12 {
      constructor(...t16) {
        if (super(...t16), this.constructor === p10 && "function" == typeof this.postscript) {
          if (s14.length && Object.defineProperty(this, "initialize", { enumerable: false, configurable: true, value() {
            for (let e13 = s14.length - 1; e13 >= 0; e13--)
              s14[e13].call(this);
          } }), a11.length) {
            let t17 = false;
            const r8 = this[o7];
            Object.defineProperty(this, "destroy", { enumerable: false, configurable: true, value() {
              if (!t17) {
                t17 = true, r8.call(this);
                for (let e13 = 0; e13 < a11.length; e13++)
                  a11[e13].call(this);
              }
            } });
          }
          this.postscript(...t16);
        }
      }
    }
    return p10.__accessorMetadata__ = o6(o12.prototype), p10.prototype.declaredClass = t15, p10;
  };
}
function c9(e13, t15) {
  return null == t15.get ? function() {
    const t16 = this.__accessor__.properties.get(e13);
    if (void 0 === t16)
      return;
    i5(t16.observerObject);
    const r8 = this.__accessor__.store;
    return r8.has(e13) ? r8.get(e13) : t16.metadata.value;
  } : function() {
    const t16 = this.__accessor__.properties.get(e13);
    if (void 0 !== t16)
      return t16.getComputed();
  };
}
function l6(e13) {
  const o12 = e13.prototype, i10 = o6(o12), n12 = {};
  for (const r8 of Object.getOwnPropertyNames(i10)) {
    const e14 = i10[r8];
    c8(e14), n12[r8] = { enumerable: true, configurable: true, get: c9(r8, e14), set(o13) {
      const s14 = this.__accessor__;
      if (void 0 !== s14) {
        if (!Object.isFrozen(this)) {
          if (s14.initialized && e14.readOnly)
            throw new TypeError(`[accessor] cannot assign to read-only property '${r8}' of ${this.declaredClass}`);
          if (s14.lifecycle === I.CONSTRUCTED && e14.constructOnly)
            throw new TypeError(`[accessor] cannot assign to construct-only property '${r8}' of ${this.declaredClass}`);
          s14.set(r8, o13);
        }
      } else
        Object.defineProperty(this, r8, { enumerable: true, configurable: true, writable: true, value: o13 });
    } };
  }
  Object.defineProperties(e13.prototype, n12);
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/SimpleTrackingTarget.js
var t12 = class {
  constructor(t15) {
    this._notify = t15, this._accessed = [], this._handles = [], this._observerObject = new s11(this._notify), e11.register(this, this._observerObject);
  }
  destroy() {
    var _a;
    this._accessed.length = 0, (_a = this._observerObject) == null ? void 0 : _a.destroy(), this.clear(), e11.unregister(this);
  }
  onObservableAccessed(t15) {
    const s14 = this._accessed;
    s14.includes(t15) || s14.push(t15);
  }
  onTrackingEnd() {
    const t15 = this._handles, s14 = this._accessed, e13 = this._observerObject;
    for (let i10 = 0; i10 < s14.length; ++i10)
      t15.push(s14[i10].observe(e13));
    s14.length = 0;
  }
  clear() {
    const t15 = this._handles;
    for (let s14 = 0; s14 < t15.length; ++s14)
      t15[s14].remove();
    t15.length = 0;
  }
};
var s11 = class {
  constructor(t15) {
    this._notify = t15, this._invalidCount = 0, this.destroyed = false;
  }
  onInvalidated() {
    this._invalidCount++;
  }
  onCommitted() {
    if (this.destroyed)
      return;
    const t15 = this._invalidCount;
    if (1 === t15)
      return this._invalidCount = 0, void this._notify();
    this._invalidCount = t15 > 0 ? t15 - 1 : 0;
  }
  destroy() {
    this.destroyed = true, this._notify = i8;
  }
};
var e11 = new FinalizationRegistry((t15) => {
  t15.destroy();
});
function i8() {
}

// node_modules/@arcgis/core/core/accessorSupport/trackingUtils.js
var r6 = false;
var e12 = [];
function o11(e13, o12) {
  let u9 = new t12(s14), l9 = null, f9 = false;
  function s14() {
    if (!u9 || f9)
      return;
    if (r6)
      return void i9(s14);
    const t15 = l9;
    u9.clear(), r6 = true, f9 = true, l9 = f4(u9, e13), f9 = false, r6 = false, o12(l9, t15), c10();
  }
  function m8() {
    u9 && (u9.destroy(), u9 = null, l9 = null);
  }
  return f9 = true, l9 = f4(u9, e13), f9 = false, { remove: m8 };
}
function u8(r8, e13) {
  let o12 = new t12(l9), u9 = null;
  function l9() {
    e13(u9, c12);
  }
  function i10() {
    o12 && (o12.destroy(), o12 = null), u9 = null;
  }
  function c12() {
    return o12 ? (o12.clear(), u9 = f4(o12, r8), u9) : null;
  }
  return c12(), { remove: i10 };
}
function l7(e13) {
  let o12 = new t12(l9), u9 = false;
  function l9() {
    o12 && !u9 && (r6 ? i9(l9) : (o12.clear(), r6 = true, u9 = true, f4(o12, e13), u9 = false, r6 = false, c10()));
  }
  function f9() {
    o12 && (o12.destroy(), o12 = null);
  }
  return u9 = true, f4(o12, e13), u9 = false, { remove: f9 };
}
function i9(n12) {
  e12.includes(n12) || e12.unshift(n12);
}
function c10() {
  for (; e12.length; )
    e12.pop()();
}

// node_modules/@arcgis/core/core/ReentrantObjectPool.js
var t13 = class extends e {
  constructor() {
    super(...arguments), this._set = /* @__PURE__ */ new Set();
  }
  destroy() {
    super.destroy(), this._set = v(this._set);
  }
  acquire(...e13) {
    const s14 = super.acquire(...e13);
    return this._set.delete(s14), s14;
  }
  release(e13) {
    e13 && !this._set.has(e13) && (super.release(e13), this._set.add(e13));
  }
  _dispose(e13) {
    this._set.delete(e13), super._dispose(e13);
  }
};

// node_modules/@arcgis/core/core/SetUtils.js
function n11(r8, n12) {
  for (const o12 of r8.entries())
    if (n12(o12[0]))
      return true;
  return false;
}

// node_modules/@arcgis/core/core/accessorSupport/watch.js
var h5;
!function(e13) {
  e13[e13.Untracked = 0] = "Untracked", e13[e13.Tracked = 1] = "Tracked";
}(h5 || (h5 = {}));
var f7 = class {
  constructor() {
    this.uid = e6(), this.removed = false, this.type = null, this.oldValue = null, this.callback = null, this.getValue = null, this.target = null, this.path = null, this.equals = null;
  }
  static acquireUntracked(e13, r8, o12, l9, n12) {
    return this.pool.acquire(h5.Untracked, e13, r8, o12, l9, n12, h);
  }
  static acquireTracked(e13, t15, r8, o12) {
    return this.pool.acquire(h5.Tracked, e13, t15, r8, null, null, o12);
  }
  notify(e13, t15) {
    this.type === h5.Untracked ? this.callback.call(this.target, e13, t15, this.path, this.target) : this.callback.call(null, e13, t15);
  }
  acquire(e13, t15, r8, o12, l9, n12, s14) {
    this.uid = e6(), this.removed = false, this.type = e13, this.oldValue = t15, this.callback = r8, this.getValue = o12, this.target = l9, this.path = n12, this.equals = s14;
  }
  release() {
    this.target = this.path = this.oldValue = this.callback = this.getValue = null, this.uid = e6(), this.removed = true;
  }
};
f7.pool = new t13(f7);
var m5 = new t2();
var p8 = /* @__PURE__ */ new Set();
var v4;
function k4(e13) {
  p8.delete(e13), p8.add(e13), v4 || (v4 = v2(q2));
}
function _3(e13) {
  if (e13.removed)
    return;
  const t15 = e13.oldValue, r8 = e13.getValue();
  e13.equals(t15, r8) || (e13.oldValue = r8, e13.notify(r8, t15));
}
function g4(e13) {
  for (const t15 of p8.values())
    t15.target === e13 && (t15.removed = true);
}
function q2() {
  let e13 = 10;
  for (; v4 && e13--; ) {
    v4 = null;
    const e14 = j7(), t15 = m5.acquire();
    for (const r8 of e14) {
      const e15 = r8.uid;
      _3(r8), e15 === r8.uid && r8.removed && t15.push(r8);
    }
    for (const r8 of p8)
      r8.removed && (t15.push(r8), p8.delete(r8));
    for (const r8 of t15)
      f7.pool.release(r8);
    m5.release(t15), m5.release(e14), V.forEach((e15) => e15());
  }
}
function j7() {
  const e13 = m5.acquire();
  e13.length = p8.size;
  let t15 = 0;
  for (const r8 of p8)
    e13[t15] = r8, ++t15;
  return p8.clear(), e13;
}
var V = /* @__PURE__ */ new Set();
function y8(e13) {
  return V.add(e13), { remove() {
    V.delete(e13);
  } };
}
function U(e13, t15, r8) {
  let o12 = y(e13, t15, r8, (e14, t16, r9) => {
    let l9, n12, i10 = u8(() => u2(e14, t16), (i11, s14) => {
      e14.__accessor__.destroyed || l9 && l9.uid !== n12 ? o12.remove() : (l9 || (l9 = f7.acquireUntracked(i11, r9, s14, e14, t16), n12 = l9.uid), k4(l9));
    });
    return { remove: h2(() => {
      i10.remove(), l9 && (l9.uid !== n12 || l9.removed || (l9.removed = true, k4(l9)), l9 = null), o12 = i10 = null;
    }) };
  });
  return o12;
}
function b5(e13, r8, o12) {
  const l9 = y(e13, r8, o12, (e14, r9, o13) => {
    let n12 = false;
    return o11(() => u2(e14, r9), (i10, s14) => {
      e14.__accessor__.destroyed ? l9.remove() : n12 || (n12 = true, h(s14, i10) || o13.call(e14, i10, s14, r9, e14), n12 = false);
    });
  });
  return l9;
}
function T2(e13, t15, r8, o12 = false) {
  return !e13.__accessor__ || e13.__accessor__.destroyed ? { remove() {
  } } : o12 ? b5(e13, t15, r8) : U(e13, t15, r8);
}
function w4(e13, t15, r8) {
  let o12, l9, n12 = u8(e13, (e14, i10) => {
    o12 && o12.uid !== l9 ? n12.remove() : (o12 || (o12 = f7.acquireTracked(e14, t15, i10, r8), l9 = o12.uid), k4(o12));
  });
  return { remove: h2(() => {
    n12.remove(), o12 && (o12.uid !== l9 || o12.removed || (o12.removed = true, k4(o12)), o12 = null), n12 = null;
  }) };
}
function S2(e13, t15, r8) {
  let o12 = false;
  return o11(e13, (e14, l9) => {
    o12 || (o12 = true, r8(l9, e14) || t15(e14, l9), o12 = false);
  });
}
function P(e13, t15, o12 = false, l9 = w) {
  return o12 ? S2(e13, t15, l9) : w4(e13, t15, l9);
}
function x3(e13) {
  return n11(p8, (t15) => t15.oldValue === e13);
}

// node_modules/@arcgis/core/core/accessorSupport/tracking/ObservationHandle.js
var s12 = class {
  constructor(r8, s14) {
    this._observers = r8, this._observer = s14;
  }
  remove() {
    F(this._observers, this._observer);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/ObservableBase.js
var s13 = class {
  constructor() {
    this._observers = null, this.destroyed = false;
  }
  observe(s14) {
    if (this.destroyed || s14.destroyed)
      return r7;
    null == this._observers && (this._observers = []);
    const t15 = this._observers;
    let o12 = false, n12 = false;
    const i10 = t15.length;
    for (let e13 = 0; e13 < i10; ++e13) {
      const r8 = t15[e13];
      if (r8.destroyed)
        n12 = true;
      else if (r8 === s14) {
        o12 = true;
        break;
      }
    }
    return o12 || (t15.push(s14), n12 && this._removeDestroyedObservers()), new s12(t15, s14);
  }
  _removeDestroyedObservers() {
    const e13 = this._observers;
    if (!e13 || 0 === e13.length)
      return;
    const s14 = e13.length;
    let r8 = 0;
    for (let t15 = 0; t15 < s14; ++t15) {
      for (; t15 + r8 < s14; ) {
        if (!e13[t15 + r8].destroyed)
          break;
        ++r8;
      }
      if (r8 > 0) {
        if (!(t15 + r8 < s14))
          break;
        e13[t15] = e13[t15 + r8];
      }
    }
    e13.length = s14 - r8;
  }
  destroy() {
    if (this.destroyed)
      return;
    this.destroyed = true;
    const e13 = this._observers;
    if (null != e13) {
      for (const s14 of e13)
        s14.onCommitted();
      this._observers = null;
    }
  }
};
var r7 = { remove: () => {
} };

// node_modules/@arcgis/core/core/accessorSupport/Property.js
var a10 = class {
  constructor(t15, e13, s14) {
    this.properties = t15, this.propertyName = e13, this.metadata = s14, this.observerObject = new l8(), this._accessed = null, this._handles = null, this.observerObject.flags = i4.Dirty | (s14.nonNullable ? i4.NonNullable : 0) | (s14.hasOwnProperty("value") ? i4.HasDefaultValue : 0) | (void 0 === s14.get ? i4.DepTrackingInitialized : 0) | (void 0 === s14.dependsOn ? i4.AutoTracked : 0), c11.register(this, this.observerObject);
  }
  destroy() {
    this.observerObject.destroy(), this._accessed = null, this._clearObservationHandles(), c11.unregister(this);
  }
  getComputed() {
    const t15 = this.observerObject;
    i5(t15);
    const a11 = this.properties.store, l9 = this.propertyName, c12 = t15.flags, h6 = a11.get(l9);
    if (c12 & i4.Computing)
      return h6;
    if (~c12 & i4.Dirty && a11.has(l9))
      return h6;
    t15.flags |= i4.Computing;
    const d7 = this.properties.host;
    let g5;
    c12 & i4.AutoTracked ? g5 = f4(this, this.metadata.get, d7) : (k3(d7, this), g5 = this.metadata.get.call(d7)), a11.set(l9, g5, r4.COMPUTED);
    const b6 = a11.get(l9);
    return b6 === h6 ? t15.flags &= ~i4.Dirty : g3(this.commit, this), t15.flags &= ~i4.Computing, b6;
  }
  onObservableAccessed(t15) {
    t15 !== this.observerObject && (null === this._accessed && (this._accessed = []), this._accessed.includes(t15) || this._accessed.push(t15));
  }
  onTrackingEnd() {
    this._clearObservationHandles();
    const t15 = this.observerObject;
    t15.flags |= i4.DepTrackingInitialized;
    const e13 = this._accessed;
    if (null === e13)
      return;
    let s14 = this._handles;
    null === s14 && (s14 = this._handles = []);
    for (let i10 = 0; i10 < e13.length; ++i10)
      s14.push(e13[i10].observe(t15));
    e13.length = 0;
  }
  notifyChange() {
    const t15 = this.observerObject;
    t15.onInvalidated(), t15.onCommitted();
  }
  invalidate() {
    this.observerObject.onInvalidated();
  }
  commit() {
    const t15 = this.observerObject;
    t15.flags &= ~i4.Dirty, t15.onCommitted();
  }
  _clearObservationHandles() {
    const t15 = this._handles;
    if (null !== t15) {
      for (let e13 = 0; e13 < t15.length; ++e13)
        t15[e13].remove();
      t15.length = 0;
    }
  }
};
var l8 = class extends s13 {
  constructor() {
    super(...arguments), this.flags = 0;
  }
  onInvalidated() {
    ~this.flags & i4.Overriden && (this.flags |= i4.Dirty);
    const t15 = this._observers;
    if (t15 && t15.length > 0)
      for (const e13 of t15)
        e13.onInvalidated();
  }
  onCommitted() {
    const t15 = this._observers;
    if (t15 && t15.length > 0) {
      const e13 = t15.slice();
      for (const t16 of e13)
        t16.onCommitted();
    }
  }
  destroy() {
    this.flags & i4.Dirty && this.onCommitted(), super.destroy();
  }
};
var c11 = new FinalizationRegistry((t15) => {
  t15.destroy();
});

// node_modules/@arcgis/core/core/accessorSupport/Store.js
var t14 = class {
  constructor() {
    this._values = /* @__PURE__ */ new Map(), this.multipleOriginsSupported = false;
  }
  clone(s14) {
    const r8 = new t14();
    return this._values.forEach((t15, i10) => {
      s14 && s14.has(i10) || r8.set(i10, p(t15));
    }), r8;
  }
  get(e13) {
    return this._values.get(e13);
  }
  originOf() {
    return r4.USER;
  }
  keys() {
    return [...this._values.keys()];
  }
  set(e13, s14) {
    this._values.set(e13, s14);
  }
  delete(e13) {
    this._values.delete(e13);
  }
  has(e13) {
    return this._values.has(e13);
  }
  forEach(e13) {
    this._values.forEach(e13);
  }
};

// node_modules/@arcgis/core/core/accessorSupport/Properties.js
function d5(t15, e13, s14) {
  return void 0 !== t15;
}
function m6(t15, e13, s14, r8) {
  return void 0 !== t15 && (!(null == s14 && t15.observerObject.flags & i4.NonNullable) || (r8.lifecycle, I.INITIALIZING, false));
}
function v5(t15) {
  return t15 && "function" == typeof t15.destroy;
}
s.getLogger("esri.core.accessorSupport.Properties");
var O = class {
  constructor(t15) {
    this.host = t15, this.properties = /* @__PURE__ */ new Map(), this.ctorArgs = null, this.destroyed = false, this.lifecycle = I.INITIALIZING, this.store = new t14(), this._origin = r4.USER;
    const e13 = N(this.host.constructor.__accessorMetadata__);
    for (const s14 in e13) {
      const t16 = new a10(this, s14, e13[s14]);
      this.properties.set(s14, t16);
    }
    this.metadatas = e13;
  }
  initialize() {
    this.lifecycle = I.CONSTRUCTING;
  }
  constructed() {
    this.lifecycle = I.CONSTRUCTED;
  }
  destroy() {
    this.destroyed = true;
    for (const [t15, e13] of this.properties) {
      if (e13.metadata.autoDestroy) {
        const s14 = this.internalGet(t15);
        s14 && v5(s14) && (s14.destroy(), ~e13.observerObject.flags & i4.NonNullable && this._internalSet(e13, null));
      }
      e13.destroy();
    }
  }
  get initialized() {
    return this.lifecycle !== I.INITIALIZING;
  }
  get(t15) {
    const e13 = this.properties.get(t15);
    if (e13.metadata.get)
      return e13.getComputed();
    i5(e13.observerObject);
    const s14 = this.store;
    return s14.has(t15) ? s14.get(t15) : e13.metadata.value;
  }
  originOf(t15) {
    const e13 = this.store.originOf(t15);
    if (void 0 === e13) {
      const e14 = this.properties.get(t15);
      if (void 0 !== e14 && e14.observerObject.flags & i4.HasDefaultValue)
        return "defaults";
    }
    return n3(e13);
  }
  has(t15) {
    return !!this.properties.has(t15) && this.store.has(t15);
  }
  keys() {
    return [...this.properties.keys()];
  }
  internalGet(t15) {
    const e13 = this.properties.get(t15);
    if (d5(e13))
      return this.store.has(t15) ? this.store.get(t15) : e13.metadata.value;
  }
  internalSet(t15, e13) {
    const s14 = this.properties.get(t15);
    d5(s14) && this._internalSet(s14, e13);
  }
  getDependsInfo(t15, e13, s14) {
    const r8 = this.properties.get(e13);
    if (!d5(r8))
      return "";
    const i10 = /* @__PURE__ */ new Set(), n12 = f4({ onObservableAccessed: (t16) => i10.add(t16), onTrackingEnd: () => {
    } }, () => {
      var _a;
      return (_a = r8.metadata.get) == null ? void 0 : _a.call(t15);
    });
    let a11 = `${s14}${t15.declaredClass.split(".").pop()}.${e13}: ${n12}
`;
    if (0 === i10.size)
      return a11;
    s14 += "  ";
    for (const c12 of i10) {
      if (!(c12 instanceof a10))
        continue;
      const t16 = c12.properties.host, e14 = c12.propertyName, r9 = e3(t16);
      a11 += r9 ? r9.getDependsInfo(t16, e14, s14) : `${s14}${e14}: undefined
`;
    }
    return a11;
  }
  setAtOrigin(t15, e13, s14) {
    const r8 = this.properties.get(t15);
    if (d5(r8))
      return this._setAtOrigin(r8, e13, s14);
  }
  isOverridden(t15) {
    const e13 = this.properties.get(t15);
    return void 0 !== e13 && !!(e13.observerObject.flags & i4.Overriden);
  }
  clearOverride(t15) {
    const e13 = this.properties.get(t15), s14 = e13 == null ? void 0 : e13.observerObject;
    s14 && s14.flags & i4.Overriden && (s14.flags &= ~i4.Overriden, e13.notifyChange());
  }
  override(t15, e13) {
    const s14 = this.properties.get(t15);
    if (!m6(s14, t15, e13, this))
      return;
    const r8 = s14.metadata.cast;
    if (r8) {
      const t16 = this._cast(r8, e13), { valid: s15, value: i10 } = t16;
      if (I2.release(t16), !s15)
        return;
      e13 = i10;
    }
    s14.observerObject.flags |= i4.Overriden, this._internalSet(s14, e13);
  }
  set(t15, e13) {
    const s14 = this.properties.get(t15);
    if (!m6(s14, t15, e13, this))
      return;
    const r8 = s14.metadata.cast;
    if (r8) {
      const t16 = this._cast(r8, e13), { valid: s15, value: i11 } = t16;
      if (I2.release(t16), !s15)
        return;
      e13 = i11;
    }
    const i10 = s14.metadata.set;
    i10 ? i10.call(this.host, e13) : this._internalSet(s14, e13);
  }
  setDefaultOrigin(t15) {
    this._origin = t6(t15);
  }
  getDefaultOrigin() {
    return n3(this._origin);
  }
  notifyChange(t15) {
    const e13 = this.properties.get(t15);
    void 0 !== e13 && e13.notifyChange();
  }
  invalidate(t15) {
    const e13 = this.properties.get(t15);
    void 0 !== e13 && e13.invalidate();
  }
  commit(t15) {
    const e13 = this.properties.get(t15);
    void 0 !== e13 && e13.commit();
  }
  _internalSet(t15, e13) {
    const s14 = this.lifecycle !== I.INITIALIZING ? this._origin : r4.DEFAULTS;
    this._setAtOrigin(t15, e13, s14);
  }
  _setAtOrigin(e13, s14, r8) {
    const i10 = this.store, o12 = e13.propertyName;
    i10.has(o12, r8) && h(s14, i10.get(o12)) && ~e13.observerObject.flags & i4.Overriden && r8 === i10.originOf(o12) || (e13.invalidate(), i10.set(o12, s14, r8), e13.commit(), b4(this.host, e13));
  }
  _cast(t15, e13) {
    const s14 = I2.acquire();
    return s14.valid = true, s14.value = e13, t15 && (s14.value = t15.call(this.host, e13, s14)), s14;
  }
};
var y9 = class {
  constructor() {
    this.value = null, this.valid = true;
  }
  acquire() {
    this.valid = true;
  }
  release() {
    this.value = null;
  }
};
var I2 = new e(y9);

// node_modules/@arcgis/core/core/Accessor.js
var p9;
var d6;
function y10(t15) {
  var _a;
  if (null == t15)
    return { value: t15 };
  if (Array.isArray(t15))
    return { type: [t15[0]], value: null };
  switch (typeof t15) {
    case "object":
      return ((_a = t15.constructor) == null ? void 0 : _a.__accessorMetadata__) || t15 instanceof Date ? { type: t15.constructor, value: t15 } : t15;
    case "boolean":
      return { type: Boolean, value: t15 };
    case "string":
      return { type: String, value: t15 };
    case "number":
      return { type: Number, value: t15 };
    case "function":
      return { type: t15, value: null };
    default:
      return;
  }
}
var f8 = Symbol("Accessor-Handles");
var m7 = Symbol("Accessor-Initialized");
var v6 = class {
  static createSubclass(t15 = {}) {
    if (Array.isArray(t15))
      throw new Error("Multi-inheritance unsupported since 4.16");
    const { properties: r8, declaredClass: e13, constructor: s14 } = t15;
    delete t15.declaredClass, delete t15.properties, delete t15.constructor;
    const o12 = this;
    class i10 extends o12 {
      constructor(...t16) {
        super(...t16), this.inherited = null, s14 && s14.apply(this, t16);
      }
    }
    o6(i10.prototype);
    for (const c12 in t15) {
      const r9 = t15[c12];
      i10.prototype[c12] = "function" == typeof r9 ? function(...t16) {
        const e14 = this.inherited;
        let s15;
        this.inherited = function(...t17) {
          if (o12.prototype[c12])
            return o12.prototype[c12].apply(this, t17);
        };
        try {
          s15 = r9.apply(this, t16);
        } catch (i11) {
          throw this.inherited = e14, i11;
        }
        return this.inherited = e14, s15;
      } : t15[c12];
    }
    for (const c12 in r8) {
      const t16 = y10(r8[c12]);
      y3(t16)(i10.prototype, c12);
    }
    return a9(e13)(i10);
  }
  constructor(...t15) {
    if (this[p9] = null, this[d6] = false, this.constructor === v6)
      throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
    Object.defineProperty(this, "__accessor__", { enumerable: false, value: new O(this) }), t15.length > 0 && this.normalizeCtorArgs && (this.__accessor__.ctorArgs = this.normalizeCtorArgs.apply(this, t15));
  }
  postscript(t15) {
    const r8 = this.__accessor__, e13 = r8.ctorArgs || t15;
    r8.initialize(), e13 && (this.set(e13), r8.ctorArgs = null), r8.constructed(), this.initialize(), this[m7] = true;
  }
  initialize() {
  }
  [o7]() {
    this[f8] = a(this[f8]);
  }
  destroy() {
    this.destroyed || (g4(this), this.__accessor__.destroy());
  }
  get constructed() {
    return this.__accessor__ && this.__accessor__.initialized || false;
  }
  get initialized() {
    return this[m7];
  }
  get destroyed() {
    return this.__accessor__ && this.__accessor__.destroyed || false;
  }
  commitProperty(t15) {
    this.get(t15);
  }
  get(t15) {
    return o5(this, t15);
  }
  hasOwnProperty(t15) {
    return this.__accessor__ ? this.__accessor__.has(t15) : Object.prototype.hasOwnProperty.call(this, t15);
  }
  keys() {
    return this.__accessor__ ? this.__accessor__.keys() : [];
  }
  set(t15, r8) {
    return t9(this, t15, r8), this;
  }
  watch(t15, r8, e13) {
    return T2(this, t15, r8, e13);
  }
  own(t15) {
    this.addHandles(t15);
  }
  addHandles(r8, s14) {
    let o12 = this[f8];
    t(o12) && (o12 = this[f8] = new t5()), o12.add(r8, s14);
  }
  removeHandles(t15) {
    const r8 = this[f8];
    t(r8) || r8.remove(t15);
  }
  hasHandles(t15) {
    const r8 = this[f8];
    return !!r(r8) && r8.has(t15);
  }
  _override(t15, r8) {
    void 0 === r8 ? this.__accessor__.clearOverride(t15) : this.__accessor__.override(t15, r8);
  }
  _clearOverride(t15) {
    return this.__accessor__.clearOverride(t15);
  }
  _overrideIfSome(t15, r8) {
    null == r8 ? this.__accessor__.clearOverride(t15) : this.__accessor__.override(t15, r8);
  }
  _isOverridden(t15) {
    return this.__accessor__.isOverridden(t15);
  }
  notifyChange(t15) {
    this.__accessor__.notifyChange(t15);
  }
  _get(t15) {
    return this.__accessor__.internalGet(t15);
  }
  _set(t15, r8) {
    return this.__accessor__.internalSet(t15, r8), this;
  }
};
p9 = f8, d6 = m7;

export {
  e2 as e,
  n,
  o2 as o,
  t4 as t,
  t5 as t2,
  r3 as r,
  n2,
  e3 as e2,
  o3 as o2,
  u2 as u,
  s4 as s,
  c4 as c,
  s13 as s2,
  r4 as r2,
  E,
  t6 as t3,
  n3,
  c2,
  i5 as i,
  f4 as f,
  t13 as t4,
  e4 as e3,
  l,
  n5 as n4,
  v2 as v,
  A,
  y2 as y,
  e6 as e4,
  t12 as t5,
  l7 as l2,
  y8 as y2,
  P,
  x3 as x,
  y3,
  d2 as d,
  j4 as j,
  t10 as t6,
  u4 as u2,
  y6 as y4,
  t11 as t7,
  s10 as s3,
  a8 as a,
  a9 as a2,
  v6 as v2
};
//# sourceMappingURL=chunk-7GTATSRF.js.map
