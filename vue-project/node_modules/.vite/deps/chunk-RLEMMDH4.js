import {
  s2 as s
} from "./chunk-YVZY5LDV.js";

// node_modules/@arcgis/core/core/MapUtils.js
function n(n2, t4) {
  for (const [r4, o3] of n2)
    if (t4(o3, r4))
      return true;
  return false;
}
function r(n2, t4, r4) {
  const o3 = n2.get(t4);
  if (void 0 !== o3)
    return o3;
  const u2 = r4();
  return n2.set(t4, u2), u2;
}

// node_modules/@arcgis/core/core/accessorSupport/ensureType.js
var r2 = s.getLogger("esri.core.accessorSupport.ensureTypes");
function t(e2) {
  return null == e2 ? e2 : new Date(e2);
}
function o(e2) {
  return null == e2 ? e2 : !!e2;
}
function u(e2) {
  return null == e2 ? e2 : e2.toString();
}
function a(e2) {
  return null == e2 ? e2 : (e2 = parseFloat(e2), isNaN(e2) ? 0 : e2);
}
function s2(e2) {
  return null == e2 ? e2 : Math.round(parseFloat(e2));
}
function i(e2) {
  return e2 && e2.constructor && void 0 !== e2.constructor.__accessorMetadata__;
}
function l(e2, n2) {
  return null != n2 && e2 && !(n2 instanceof e2);
}
function c(e2) {
  return e2 && "isCollection" in e2;
}
function f(e2) {
  return e2 && e2.Type ? "function" == typeof e2.Type ? e2.Type : e2.Type.base : null;
}
function p(e2, n2) {
  if (!n2 || !n2.constructor || !c(n2.constructor))
    return y(e2, n2) ? n2 : new e2(n2);
  const r4 = f(e2.prototype.itemType), t4 = f(n2.constructor.prototype.itemType);
  return r4 ? t4 ? r4 === t4 ? n2 : r4.prototype.isPrototypeOf(t4.prototype) ? new e2(n2) : (y(e2, n2), n2) : new e2(n2) : n2;
}
function y(e2, n2) {
  return !!i(n2) && (r2.error("Accessor#set", "Assigning an instance of '" + (n2.declaredClass || "unknown") + "' which is not a subclass of '" + g(e2) + "'"), true);
}
function v(e2, n2) {
  return null == n2 ? n2 : c(e2) ? p(e2, n2) : l(e2, n2) ? y(e2, n2) ? n2 : new e2(n2) : n2;
}
function g(e2) {
  return e2 && e2.prototype && e2.prototype.declaredClass || "unknown";
}
var d = /* @__PURE__ */ new WeakMap();
function h(e2) {
  switch (e2) {
    case Number:
      return a;
    case T:
      return s2;
    case Boolean:
      return o;
    case String:
      return u;
    case Date:
      return t;
    default:
      return r(d, e2, () => v.bind(null, e2));
  }
}
function b(e2, n2) {
  const r4 = h(e2);
  return 1 === arguments.length ? r4 : r4(n2);
}
function m(e2, n2, r4) {
  return 1 === arguments.length ? m.bind(null, e2) : n2 ? Array.isArray(n2) ? n2.map((n3) => e2(n3, r4)) : [e2(n2, r4)] : n2;
}
function w(e2, n2) {
  return 1 === arguments.length ? m(b.bind(null, e2)) : m(b.bind(null, e2), n2);
}
function A(e2, n2, r4) {
  return 0 !== n2 && Array.isArray(r4) ? r4.map((r5) => A(e2, n2 - 1, r5)) : e2(r4);
}
function $(e2, n2, r4) {
  if (2 === arguments.length)
    return $.bind(null, e2, n2);
  if (!r4)
    return r4;
  let t4 = n2, o3 = r4 = A(e2, n2, r4);
  for (; t4 > 0 && Array.isArray(o3); )
    t4--, o3 = o3[0];
  if (void 0 !== o3)
    for (let u2 = 0; u2 < t4; u2++)
      r4 = [r4];
  return r4;
}
function j(e2, n2, r4) {
  return 2 === arguments.length ? $(b.bind(null, e2), n2) : $(b.bind(null, e2), n2, r4);
}
function k(e2) {
  return !!Array.isArray(e2) && !e2.some((n2) => {
    const r4 = typeof n2;
    return !("string" === r4 || "number" === r4 || "function" === r4 && e2.length > 1);
  });
}
function M(e2, n2) {
  if (2 === arguments.length)
    return M(e2).call(null, n2);
  const t4 = /* @__PURE__ */ new Set(), o3 = e2.filter((e3) => "function" != typeof e3), u2 = e2.filter((e3) => "function" == typeof e3);
  for (const r4 of e2)
    "string" != typeof r4 && "number" != typeof r4 || t4.add(r4);
  let a2 = null, s3 = null;
  return (e3, n3) => {
    if (null == e3)
      return e3;
    const i3 = typeof e3, c2 = "string" === i3 || "number" === i3;
    return c2 && (t4.has(e3) || u2.some((e4) => "string" === i3 && e4 === String || "number" === i3 && e4 === Number)) || "object" === i3 && u2.some((n4) => !l(e3, n4)) ? e3 : (c2 && o3.length ? (a2 || (a2 = o3.map((e4) => "string" == typeof e4 ? `'${e4}'` : `${e4}`).join(", ")), r2.error("Accessor#set", `'${e3}' is not a valid value for this property, only the following values are valid: ${a2}`)) : "object" == typeof e3 && u2.length ? (s3 || (s3 = u2.map((e4) => g(e4)).join(", ")), r2.error("Accessor#set", `'${e3}' is not a valid value for this property, value must be one of ${s3}`)) : r2.error("Accessor#set", `'${e3}' is not a valid value for this property`), n3 && (n3.valid = false), null);
  };
}
function S(e2, n2) {
  if (2 === arguments.length)
    return S(e2).call(null, n2);
  const t4 = {}, o3 = [], u2 = [];
  for (const r4 in e2.typeMap) {
    const n3 = e2.typeMap[r4];
    t4[r4] = b(n3), o3.push(g(n3)), u2.push(r4);
  }
  const a2 = () => `'${o3.join("', '")}'`, s3 = () => `'${u2.join("', '")}'`, c2 = "string" == typeof e2.key ? (n3) => n3[e2.key] : e2.key;
  return (n3) => {
    if (e2.base && !l(e2.base, n3))
      return n3;
    if (null == n3)
      return n3;
    const o4 = c2(n3) || e2.defaultKeyValue, u3 = t4[o4];
    if (!u3)
      return r2.error("Accessor#set", `Invalid property value, value needs to be one of ${a2()}, or a plain object that can autocast (having .type = ${s3()})`), null;
    if (!l(e2.typeMap[o4], n3))
      return n3;
    if ("string" == typeof e2.key && !i(n3)) {
      const r4 = {};
      for (const t5 in n3)
        t5 !== e2.key && (r4[t5] = n3[t5]);
      return u3(r4);
    }
    return u3(n3);
  };
}
var T = class {
};
var N = { native: (e2) => ({ type: "native", value: e2 }), array: (e2) => ({ type: "array", value: e2 }), oneOf: (e2) => ({ type: "one-of", values: e2 }) };
function _(e2) {
  if (!e2 || !("type" in e2))
    return false;
  switch (e2.type) {
    case "native":
    case "array":
    case "one-of":
      return true;
  }
  return false;
}
function B(e2) {
  switch (e2.type) {
    case "native":
      return b(e2.value);
    case "array":
      return m(B(e2.value));
    case "one-of":
      return C(e2);
    default:
      return null;
  }
}
function C(e2) {
  let n2 = null;
  return (t4, o3) => F(t4, e2) ? t4 : (null == n2 && (n2 = D(e2)), r2.error("Accessor#set", `Invalid property value, value needs to be of type ${n2}`), o3 && (o3.valid = false), null);
}
function D(e2) {
  switch (e2.type) {
    case "native":
      switch (e2.value) {
        case Number:
          return "number";
        case String:
          return "string";
        case Boolean:
          return "boolean";
        case T:
          return "integer";
        case Date:
          return "date";
        default:
          return g(e2.value);
      }
    case "array":
      return `array of ${D(e2.value)}`;
    case "one-of": {
      const n2 = e2.values.map((e3) => D(e3));
      return `one of ${n2.slice(0, n2.length - 1)} or ${n2[n2.length - 1]}`;
    }
  }
  return "unknown";
}
function F(e2, n2) {
  if (null == e2)
    return true;
  switch (n2.type) {
    case "native":
      switch (n2.value) {
        case Number:
        case T:
          return "number" == typeof e2;
        case Boolean:
          return "boolean" == typeof e2;
        case String:
          return "string" == typeof e2;
      }
      return e2 instanceof n2.value;
    case "array":
      return !!Array.isArray(e2) && !e2.some((e3) => !F(e3, n2.value));
    case "one-of":
      return n2.values.some((n3) => F(e2, n3));
  }
}

// node_modules/@arcgis/core/core/ObjectPool.js
function t2(t4) {
  return t4 && t4.release && "function" == typeof t4.release;
}
function i2(t4) {
  return t4 && t4.acquire && "function" == typeof t4.acquire;
}
var e = class {
  constructor(t4, i3, e2, o3 = 1, s3 = 0) {
    if (this._ctor = t4, this._acquireFunction = i3, this._releaseFunction = e2, this.allocationSize = o3, this._pool = new Array(s3), this._initialSize = s3, this._ctor)
      for (let n2 = 0; n2 < s3; n2++)
        this._pool[n2] = new this._ctor();
    this.allocationSize = Math.max(o3, 1);
  }
  destroy() {
    this.prune(0);
  }
  acquire(...t4) {
    let o3;
    if (e.test.disabled)
      o3 = new this._ctor();
    else {
      if (0 === this._pool.length) {
        const t5 = this.allocationSize;
        for (let i3 = 0; i3 < t5; i3++)
          this._pool[i3] = new this._ctor();
      }
      o3 = this._pool.pop();
    }
    return this._acquireFunction ? this._acquireFunction(o3, ...t4) : i2(o3) && o3.acquire(...t4), o3;
  }
  release(i3) {
    i3 && !e.test.disabled && (this._releaseFunction ? this._releaseFunction(i3) : t2(i3) && i3.release(), this._pool.push(i3));
  }
  prune(t4 = this._initialSize) {
    if (!(t4 >= this._pool.length)) {
      for (let i3 = t4; i3 < this._pool.length; ++i3) {
        const t5 = this._pool[i3];
        this._dispose(t5);
      }
      this._pool.length = t4;
    }
  }
  _dispose(t4) {
    t4.dispose && "function" == typeof t4.dispose && t4.dispose();
  }
};
e.test = { disabled: false };

// node_modules/@arcgis/core/core/ArrayPool.js
function r3(e2) {
  e2.length = 0;
}
var t3 = class {
  constructor(t4 = 50, o3 = 50) {
    this._pool = new e(Array, void 0, r3, o3, t4);
  }
  acquire() {
    return this._pool.acquire();
  }
  release(e2) {
    this._pool.release(e2);
  }
  prune() {
    this._pool.prune(0);
  }
  static acquire() {
    return o2.acquire();
  }
  static release(e2) {
    return o2.release(e2);
  }
  static prune() {
    o2.prune();
  }
};
var o2 = new t3(100);

export {
  e,
  t3 as t,
  n,
  r,
  u,
  a,
  s2 as s,
  v,
  b,
  m,
  w,
  $,
  j,
  k,
  M,
  S,
  T,
  N,
  _,
  B
};
//# sourceMappingURL=chunk-RLEMMDH4.js.map
