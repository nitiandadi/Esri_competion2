{
  "version": 3,
  "sources": ["../../@arcgis/core/rest/query/operations/queryAttachments.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\r\n*/\r\nimport{addTokenParameter as t}from\"../../../kernel.js\";import o from\"../../../request.js\";import{addProxy as e}from\"../../../core/urlUtils.js\";import{mapParameters as n}from\"../../operations/urlUtils.js\";import r from\"../support/AttachmentInfo.js\";function s(t){const o=t.toJSON();return o.attachmentTypes&&(o.attachmentTypes=o.attachmentTypes.join(\",\")),o.keywords&&(o.keywords=o.keywords.join(\",\")),o.globalIds&&(o.globalIds=o.globalIds.join(\",\")),o.objectIds&&(o.objectIds=o.objectIds.join(\",\")),o.size&&(o.size=o.size.join(\",\")),o}function a(o,n){const s={};for(const a of n){const{parentObjectId:n,parentGlobalId:c,attachmentInfos:m}=a;for(const a of m){const{id:m}=a,p=e(t(`${o.path}/${n}/attachments/${m}`)),i=r.fromJSON(a);i.set({url:p,parentObjectId:n,parentGlobalId:c}),s[n]?s[n].push(i):s[n]=[i]}}return s}function c(t,e,r){let a={query:n({...t.query,f:\"json\",...s(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+\"/queryAttachments\",a).then((t=>t.data.attachmentGroups))}async function m(t,e,n){const{objectIds:r}=e,s=[];for(const a of r)s.push(o(t.path+\"/\"+a+\"/attachments\",n));return Promise.all(s).then((t=>r.map(((o,e)=>({parentObjectId:o,attachmentInfos:t[e].data.attachmentInfos})))))}export{c as executeAttachmentQuery,m as fetchAttachments,a as processAttachmentQueryResult};\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAIwP,SAAS,EAAEA,IAAE;AAAC,QAAMC,KAAED,GAAE,OAAO;AAAE,SAAOC,GAAE,oBAAkBA,GAAE,kBAAgBA,GAAE,gBAAgB,KAAK,GAAG,IAAGA,GAAE,aAAWA,GAAE,WAASA,GAAE,SAAS,KAAK,GAAG,IAAGA,GAAE,cAAYA,GAAE,YAAUA,GAAE,UAAU,KAAK,GAAG,IAAGA,GAAE,cAAYA,GAAE,YAAUA,GAAE,UAAU,KAAK,GAAG,IAAGA,GAAE,SAAOA,GAAE,OAAKA,GAAE,KAAK,KAAK,GAAG,IAAGA;AAAC;AAAC,SAASC,GAAED,IAAE,GAAE;AAAC,QAAME,KAAE,CAAC;AAAE,aAAUD,MAAK,GAAE;AAAC,UAAK,EAAC,gBAAeE,IAAE,gBAAeC,IAAE,iBAAgBC,GAAC,IAAEJ;AAAE,eAAUA,MAAKI,IAAE;AAAC,YAAK,EAAC,IAAGA,GAAC,IAAEJ,IAAE,IAAE,EAAE,EAAE,GAAGD,GAAE,QAAQG,kBAAiBE,IAAG,CAAC,GAAE,IAAE,EAAE,SAASJ,EAAC;AAAE,QAAE,IAAI,EAAC,KAAI,GAAE,gBAAeE,IAAE,gBAAeC,GAAC,CAAC,GAAEF,GAAEC,EAAC,IAAED,GAAEC,EAAC,EAAE,KAAK,CAAC,IAAED,GAAEC,EAAC,IAAE,CAAC,CAAC;AAAA,IAAC;AAAA,EAAC;AAAC,SAAOD;AAAC;AAAC,SAAS,EAAEH,IAAE,GAAE,GAAE;AAAC,MAAIE,KAAE,EAAC,OAAM,EAAE,EAAC,GAAGF,GAAE,OAAM,GAAE,QAAO,GAAG,EAAE,CAAC,EAAC,CAAC,EAAC;AAAE,SAAO,MAAIE,KAAE,EAAC,GAAG,GAAE,GAAGA,IAAE,OAAM,EAAC,GAAG,EAAE,OAAM,GAAGA,GAAE,MAAK,EAAC,IAAG,EAAEF,GAAE,OAAK,qBAAoBE,EAAC,EAAE,KAAM,CAAAF,OAAGA,GAAE,KAAK,gBAAiB;AAAC;AAAC,eAAe,EAAEA,IAAE,GAAE,GAAE;AAAC,QAAK,EAAC,WAAU,EAAC,IAAE,GAAEG,KAAE,CAAC;AAAE,aAAUD,MAAK;AAAE,IAAAC,GAAE,KAAK,EAAEH,GAAE,OAAK,MAAIE,KAAE,gBAAe,CAAC,CAAC;AAAE,SAAO,QAAQ,IAAIC,EAAC,EAAE,KAAM,CAAAH,OAAG,EAAE,IAAK,CAACC,IAAEM,QAAK,EAAC,gBAAeN,IAAE,iBAAgBD,GAAEO,EAAC,EAAE,KAAK,gBAAe,EAAG,CAAE;AAAC;",
  "names": ["t", "o", "a", "s", "n", "c", "m", "e"]
}
