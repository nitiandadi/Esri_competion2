import {
  c
} from "./chunk-PYN2S3CJ.js";

// node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js
var n = class {
  constructor(n2) {
    this.data = n2, this.type = "encoded-mesh-texture", this.encoding = c.KTX2_ENCODING;
  }
};
function t(e) {
  return "encoded-mesh-texture" === (e == null ? void 0 : e.type);
}
async function r(e) {
  return new Promise((n2, t2) => {
    const r2 = new Blob([e]), o2 = new FileReader();
    o2.onload = () => {
      const e2 = o2.result;
      n2(JSON.parse(e2));
    }, o2.onerror = (e2) => {
      t2(e2);
    }, o2.readAsText(r2);
  });
}
async function o(t2, r2) {
  return r2 === c.KTX2_ENCODING ? new n(t2) : new Promise((e, n2) => {
    const o2 = new Blob([t2], { type: r2 }), s = URL.createObjectURL(o2), c2 = new Image(), d = () => {
      URL.revokeObjectURL(s), "decode" in c2 ? c2.decode().then(() => e(c2), () => e(c2)).then(a) : (e(c2), a());
    }, i = (e2) => {
      URL.revokeObjectURL(s), n2(e2), a();
    }, a = () => {
      c2.removeEventListener("load", d), c2.removeEventListener("error", i);
    };
    c2.addEventListener("load", d), c2.addEventListener("error", i), c2.src = s;
  });
}

export {
  n,
  t,
  r,
  o
};
//# sourceMappingURL=chunk-ONNYTMUO.js.map
