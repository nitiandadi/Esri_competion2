import {
  U
} from "./chunk-JU2WP2RZ.js";
import {
  r as r2
} from "./chunk-NI6ENKKR.js";
import {
  r
} from "./chunk-HVCAHUYB.js";

// node_modules/@arcgis/core/layers/support/layerUtils.js
var a = { Point: "SceneLayer", "3DObject": "SceneLayer", IntegratedMesh: "IntegratedMeshLayer", PointCloud: "PointCloudLayer", Building: "BuildingSceneLayer" };
function u(e) {
  const t = e == null ? void 0 : e.type;
  return "building-scene" === t || "integrated-mesh" === t || "point-cloud" === t || "scene" === t;
}
function f(e) {
  var _a;
  return "feature" === (e == null ? void 0 : e.type) && !e.url && "memory" === ((_a = e.source) == null ? void 0 : _a.type);
}
function y(e) {
  var _a;
  return "feature" === (e == null ? void 0 : e.type) && "feature-layer" === ((_a = e.source) == null ? void 0 : _a.type);
}
async function b(r3, i) {
  var _a;
  const s = (_a = r2) == null ? void 0 : _a.findServerInfo(r3);
  if (null != (s == null ? void 0 : s.currentVersion))
    return s.owningSystemUrl || null;
  const a2 = r3.toLowerCase().indexOf("/rest/services");
  if (-1 === a2)
    return null;
  const u2 = `${r3.substring(0, a2)}/rest/info`, c = r(i) ? i.signal : null, { data: o } = await U(u2, { query: { f: "json" }, responseType: "json", signal: c });
  return (o == null ? void 0 : o.owningSystemUrl) || null;
}
function m(e) {
  if (!("capabilities" in e))
    return false;
  switch (e.type) {
    case "csv":
    case "feature":
    case "geojson":
    case "imagery":
    case "knowledge-graph-sublayer":
    case "ogc-feature":
    case "oriented-imagery":
    case "scene":
    case "subtype-group":
    case "subtype-sublayer":
    case "wfs":
      return true;
    default:
      return false;
  }
}
function v(e) {
  return m(e) ? "effectiveCapabilities" in e ? e.effectiveCapabilities : e.capabilities : null;
}
function h(e) {
  if (!("editingEnabled" in e))
    return false;
  switch (e.type) {
    case "csv":
    case "feature":
    case "geojson":
    case "oriented-imagery":
    case "scene":
    case "subtype-group":
    case "subtype-sublayer":
      return true;
    default:
      return false;
  }
}
function w(e) {
  return !!h(e) && ("effectiveEditingEnabled" in e ? e.effectiveEditingEnabled : e.editingEnabled);
}

export {
  a,
  u,
  f,
  y,
  b,
  v,
  w
};
//# sourceMappingURL=chunk-YSJ4W32U.js.map
