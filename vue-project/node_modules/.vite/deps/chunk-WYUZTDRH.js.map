{
  "version": 3,
  "sources": ["../../@arcgis/core/geometry/support/meshUtils/deduplicate.js"],
  "sourcesContent": ["/*\r\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\r\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\r\n*/\r\nimport{nextHighestPowerOfTwo as t}from\"../../../core/mathUtils.js\";import{newIndexArray as n,compactIndices as e}from\"../../../views/3d/webgl-engine/lib/Indices.js\";function r(r,s,u){const c=Array.isArray(r),a=c?r.length/s:r.byteLength/(4*s),h=c?r:new Uint32Array(r,0,a*s),y=u?.minReduction??0,g=u?.originalIndices||null,A=g?g.length:0,w=u?.componentOffsets||null;let m=0;if(w)for(let t=0;t<w.length-1;t++){const n=w[t+1]-w[t];n>m&&(m=n)}else m=a;const b=Math.floor(1.1*m)+1;(null==f||f.length<2*b)&&(f=new Uint32Array(t(2*b)));for(let t=0;t<2*b;t++)f[t]=0;let U=0;const d=!!w&&!!g,p=d?A:a;let M=n(a/3);const j=new Uint32Array(A),q=1.96;let I=0!==y?Math.ceil(4*q*q/(y*y)*y*(1-y)):p,k=1,v=w?w[1]:p;for(let t=0;t<p;t++){if(t===I){const n=1-U/t;if(n+q*Math.sqrt(n*(1-n)/t)<y)return null;I*=2}if(t===v){for(let t=0;t<2*b;t++)f[t]=0;if(g)for(let t=w[k-1];t<w[k];t++)j[t]=M[g[t]];v=w[++k]}const n=d?g[t]:t,e=n*s,r=o(h,e,s);let i=r%b,u=U;for(;0!==f[2*i+1];){if(f[2*i]===r){const t=f[2*i+1]-1;if(l(h,e,t*s,s)){u=M[t];break}}i++,i>=b&&(i-=b)}u===U&&(f[2*i]=r,f[2*i+1]=n+1,U++),M[n]=u}if(0!==y&&1-U/a<y)return null;if(d){for(let t=w[k-1];t<j.length;t++)j[t]=M[g[t]];M=e(j)}const x=c?new Array(U):new Uint32Array(U*s);U=0;for(let t=0;t<p;t++)if(M[t]===U){i(h,(d?g[t]:t)*s,x,U*s,s),U++}if(g&&!d){const t=new Uint32Array(A);for(let n=0;n<t.length;n++)t[n]=M[g[n]];M=e(t)}return{buffer:Array.isArray(x)?x:x.buffer,indices:M,uniqueCount:U}}function l(t,n,e,r){for(let l=0;l<r;l++)if(t[n+l]!==t[e+l])return!1;return!0}function i(t,n,e,r,l){for(let i=0;i<l;i++)e[r+i]=t[n+i]}function o(t,n,e){let r=0;for(let l=0;l<e;l++)r=t[n+l]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let f=null;export{r as deduplicate};\r\n"],
  "mappings": "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",
  "names": ["r", "t", "n", "i", "u", "l"]
}
