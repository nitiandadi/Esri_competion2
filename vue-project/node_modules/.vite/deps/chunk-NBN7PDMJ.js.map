{
  "version": 3,
  "sources": ["../../@arcgis/core/views/2d/engine/webgl/util/vvFlagUtils.js", "../../@arcgis/core/views/2d/layers/graphics/graphicsUtils.js", "../../@arcgis/core/views/2d/layers/features/support/pixelBuffering.js", "../../@arcgis/core/views/2d/layers/features/schemaUtils.js"],
  "sourcesContent": ["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{WGLVVFlag as t}from\"../enums.js\";import{getTypeOfSizeVisualVariable as o}from\"../visualVariablesUtils.js\";function e(e){if(!e)return t.NONE;let r=0;for(const i of e)if(\"size\"===i.type){const t=o(i);r|=t,\"outline\"===i.target&&(r|=t<<4)}else\"color\"===i.type?r|=t.COLOR:\"opacity\"===i.type?r|=t.OPACITY:\"rotation\"===i.type&&(r|=t.ROTATION);return r}export{e as getVVFlags};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{bidiText as e}from\"../../../../core/BidiText.js\";import{unwrap as t}from\"../../../../core/maybe.js\";import{pt2px as n}from\"../../../../core/screenUtils.js\";import i from\"../../../../geometry/Polygon.js\";import{create as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{getInfo as o}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{getXAnchorDirection as s,getYAnchorDirection as a}from\"../../engine/webgl/alignmentUtils.js\";import{GLYPH_SIZE as l,MAGIC_LABEL_LINE_HEIGHT as m}from\"../../engine/webgl/definitions.js\";import{shapeGlyphs as c}from\"../../engine/webgl/mesh/templates/shapingUtils.js\";const f=512,g=50;function u(e,t){const n=o(t);if(!n)return null;const[i,s]=n.valid;return e[2]>s?[r([e[0],e[1],s,e[3]]),r([i,e[1],i+e[2]-s,e[3]])]:e[0]<i?[r([i,e[1],e[2],e[3]]),r([s-(i-e[0]),e[1],s,e[3]])]:null}function p(e){return\"text\"===e||\"esriTS\"===e}function h(e){return\"simple-marker\"===e||\"picture-marker\"===e||\"esriSMS\"===e||\"esriPMS\"===e}function y(e){switch(t(e.geometry).type){case\"point\":case\"multipoint\":return 0;case\"polyline\":return 1;case\"polygon\":case\"extent\":return 2}return 0}function d(t,i,r){if(!r?.glyphMosaicItems?.length)return t;const o=e(i.text)[1],f=r.glyphMosaicItems,g=c(f,o,{scale:n(i.font.size)/l,angle:i.angle??0,xOffset:i.xoffset??0,yOffset:i.yoffset??0,hAlign:s(i.horizontalAlignment||\"center\"),vAlign:a(i.verticalAlignment||\"baseline\"),maxLineWidth:Math.max(32,Math.min(i.lineWidth||512,512)),lineHeight:m*Math.max(.25,Math.min(i.lineHeight||1,4)),decoration:i.font.decoration||\"none\",isCIM:!1,hasBackground:!!i.backgroundColor,borderLineSize:i.borderLineSize}).bounds;return t[0]=n(g.x-g.halfWidth),t[1]=n(g.y-g.halfHeight),t[2]=n(g.width),t[3]=n(g.height),t}function x(e){if(!e)return null;const{xmin:t,ymin:n,xmax:r,ymax:o,spatialReference:s}=e;return new i({rings:[[[t,n],[t,o],[r,o],[r,n],[t,n]]],spatialReference:s})}export{g as PIXEL_BUFFER,f as TILE_SIZE,d as getTextSymbolSize,y as graphicGeometryToNumber,u as intersectingInternationalDateline,h as isMarkerSymbol,p as isTextSymbol,x as polygonFromExtent};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport{pt2px as t}from\"../../../../../core/screenUtils.js\";import{CIMSymbolHelper as e}from\"../../../../../symbols/cim/CIMSymbolHelper.js\";import r from\"../../../../../symbols/cim/Rect.js\";import{AVERAGE_GLYPH_MOSAIC_ITEM as i}from\"../../../engine/webgl/definitions.js\";import{getTextSymbolSize as n}from\"../../graphics/graphicsUtils.js\";import{expandSymbol as s}from\"../../support/cimSymbolUtils.js\";const a={\"simple-marker\":1,\"picture-marker\":1,text:0,\"simple-line\":0,\"simple-fill\":0,\"picture-fill\":0,cim:1,\"web-style\":1},o=.707;function m(t,e){if(!(\"visualVariables\"in t))return 0;if(!t.hasVisualVariables(\"size\"))return 0;const r=t.getVisualVariablesForType(\"size\");if(!r[0])return 0;const i=r[0];if(e&&\"cluster_count\"===i.field&&\"cluster\"===e.type)return e.clusterMaxSize;if(\"outline\"===i.target)return 0;if(\"stops\"===i.transformationType)return i.stops.map((t=>t.size)).reduce(g,0);if(\"clamped-linear\"===i.transformationType){let t=-1/0,e=-1/0;return t=\"number\"==typeof i.maxSize?i.maxSize:i.maxSize.stops.map((t=>t.size)).reduce(g,0),e=\"number\"==typeof i.minSize?i.minSize:i.minSize.stops.map((t=>t.size)).reduce(g,0),Math.max(t,e)}return\"real-world-size\"===i.transformationType?30:void 0}function u(t){return t.type in a}async function c(e,r,i,n,s,a){if(!e||a&&\"cluster\"===a.type)return 0;if(\"heatmap\"===e.type)return Math.round(t(e.radius));if(\"dot-density\"===e.type)return 0;if(\"dictionary\"===e.type)return\"esriGeometryPoint\"===r||\"esriGeometryMultipoint\"===r?100:200;const o=e.getSymbols(),u=m(e),c=[];for(const t of o)c.push(x(t,u,i,r,n,s));const l=await Promise.all(c);return t(l.reduce(g,0))}const l=[0,0,0,0];function p(t,e){return t??e}function f(t,e){return null==t.outline?e:p(t.outline.width,e)}const y={sdf:!0,code:99,metrics:i.metrics,rect:new r(0,0,24,24),page:0,textureBinding:2};function h(t){const e=t.text&&t.text.length;if(!e)return{glyphMosaicItems:[y]};const r=[];for(let i=0;i<e;i++)r.push({...y,code:t.text.charCodeAt(i)});return{glyphMosaicItems:r}}async function d(t,r,i,a,m,u){if(\"simple-marker\"===t.type){const e=Math.max(p(t.size,12),r);return M(t)+e*o}if(\"picture-marker\"===t.type){const e=Math.max(p(t.height,12),r),i=p(t.width,12)*(e/p(t.height,12))/2,n=e/2;return M(t)+Math.sqrt(i*i+n*n)}if(\"text\"===t.type){const e=h(t);n(l,t.toJSON(),e);const r=Math.abs(l[0]),i=Math.abs(l[1]),s=l[2],a=l[3];return Math.max(r,i)+Math.max(s,a)}if(\"simple-line\"===t.type){const e=t,i=Math.max(p(e.width,.75),r)/2;return e.marker?Math.max(6*e.width,2*r):i}if(\"simple-fill\"===t.type||\"picture-fill\"===t.type)return Math.max(f(t,0),r)/2;if(\"cim\"===t.type){const n={geometryType:a,fields:m,spatialReference:u},o={type:\"cim\",rendererKey:0,data:t.data,maxVVSize:r};await s(o,n,i);const c=e.getEnvelope(t.data,null,i);return c?Math.sqrt(c.width*c.width+c.height*c.height):0}return\"web-style\"===t.type?d(await t.fetchCIMSymbol(),r,i,a,m,u):0}async function x(t,e,r,i,n,s){return u(t)?Math.min(await d(t,e,r,i,n,s),75):0}function M(t){const e=p(t.xoffset,0),r=p(t.yoffset,0);return Math.sqrt(e*e+r*r)}function g(t,e){return Math.max(t,e)}export{c as computePxBuffer,m as getPtMaxVVSize};\n", "/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.26/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import has from\"../../../../core/has.js\";import t from\"../../../../core/Logger.js\";import{isSome as r,unwrap as i,isNone as n,unwrapOr as s}from\"../../../../core/maybe.js\";import{pt2px as l}from\"../../../../core/screenUtils.js\";import{sqlAnd as o}from\"../../../../core/sql.js\";import{diff as a}from\"../../../../core/accessorSupport/diffUtils.js\";import{validateLabelingInfo as u}from\"../../../../layers/support/labelingInfo.js\";import{WGLSymbologyType as d}from\"../../engine/webgl/enums.js\";import{getVVType as f}from\"../../engine/webgl/Utils.js\";import{getTechniqueFromRenderer as p}from\"../../engine/webgl/techniques/utils.js\";import{getVVFlags as c}from\"../../engine/webgl/util/vvFlagUtils.js\";import{createSymbolSchema as y}from\"./createSymbolSchema.js\";import{getPtMaxVVSize as m}from\"./support/pixelBuffering.js\";import{getSupportedHeatmapRenderer as g,simplifyVisualVariables as b}from\"./support/rendererUtils.js\";import{injectDynamicLevelDependentSizeVisualVariable as x,createClusterRenderer as v}from\"../support/clusterUtils.js\";import{toJSONGeometryType as h}from\"../support/util.js\";const T=t.getLogger(\"esri.views.2d.layers.features.schemaUtils\"),S=\"ValidationError\";function E(e){return e}function w(e,t){let i=0,n=0,s=d.DEFAULT;if(r(e)){if(n=m(e,t),\"visualVariables\"in e&&(i=c(e.visualVariables||[]),\"dot-density\"===e.type&&(s=d.DOT_DENSITY)),\"heatmap\"===e.type&&(s=d.HEATMAP),\"dictionary\"===e.type)return{maxVVSize:n,vvFlags:i,symbologyType:d.DEFAULT};if(\"pie-chart\"===e.type)return{maxVVSize:n,vvFlags:i,symbologyType:d.PIE_CHART};if(s!==d.DOT_DENSITY&&s!==d.HEATMAP){const t=e.getSymbols();\"backgroundFillSymbol\"in e&&e.backgroundFillSymbol&&t.push(e.backgroundFillSymbol);let r=!0,i=!0;for(const e of t)if(\"cim\"===e.type&&(i=!1),\"simple-fill\"===e.type||\"picture-fill\"===e.type){const t=e.outline,n=t&&\"none\"!==t.style&&\"solid\"!==t.style,s=\"simple-fill\"===e.type&&\"none\"!==e.style&&\"solid\"!==e.style;n&&(r=!1),(\"picture-fill\"===e.type||s||n)&&(i=!1)}r?s=i?d.OUTLINE_FILL_SIMPLE:d.OUTLINE_FILL:i&&(s=d.SIMPLE)}}return{vvFlags:i,maxVVSize:n,symbologyType:s}}let F=null;function I(e){if(has(\"esri-2d-update-debug\")){const t=V(e,!0);console.debug(\"Created new schema\",t),console.debug(\"Schema diff\",a(F,t)),F=t}return V(e)}function V(e,t=!1){try{const n=A(e,t),s=C(e),l={};n.map((t=>O(l,e,t)));const a=r(e.subtypeCode)?`${e.subtypeField} = ${e.subtypeCode}`:null,u=i(o(e.definitionExpression,a));return{source:{definitionExpression:u,fields:e.fields.map((e=>e.toJSON())),gdbVersion:e.gdbVersion,historicMoment:e.historicMoment?.getTime(),outFields:e.availableFields,pixelBuffer:e.pixelBuffer,spatialReference:e.spatialReference.toJSON(),timeExtent:e.timeExtent?.toJSON(),customParameters:e.customParameters},attributes:{fields:{},indexCount:0},processors:n,tileRenderer:s,targets:l}}catch(n){if(n.fieldName===S)return T.error(n),null;throw n}}function O(t,r,i){switch(i.target){case\"feature\":return void L(t,N(r),i);case\"aggregate\":{if(!(\"featureReduction\"in r))return;const n=r.featureReduction;switch(n?.type){case\"selection\":throw new e(S,\"Mapview does not support `selection` reduction type\",n);case\"binning\":return L(t,N(r),i),void j(t,n,r.fields.map((e=>e.toJSON())),i);case\"cluster\":return L(t,N(r),i),void R(t,n,r.fields.map((e=>e.toJSON())),i)}}}}function z(e,t){for(const r in t){const i=t[r];if(i.target!==e.name)continue;const n=e.attributes[r];if(n?.context){const e=n.context;e.mesh=e.mesh||i.context?.mesh,e.storage=e.storage||i.context?.storage}else e.attributes[r]=i}return e}function N(e){return[i(e.filter)?.toJSON()??null,i(i(e.featureEffect)?.filter)?.toJSON()??null]}function L(e,t,r){return e.feature||(e.feature={name:\"feature\",input:\"source\",filters:t,attributes:{}}),z(e.feature,r.attributes.fields),e}function M(t,r){const{onStatisticExpression:i,onStatisticField:n,statisticType:s}=t;switch(s){case\"min\":case\"max\":case\"avg\":case\"avg_angle\":case\"sum\":case\"count\":return\"esriFieldTypeDouble\";case\"mode\":{if(i){const{returnType:r}=i;return r?\"string\"===r?\"esriFieldTypeString\":\"esriFieldTypeDouble\":(T.error(new e(S,\"Unable to infer type of aggregateField with onStatisticExpression. ReturnType is not defined\",t)),\"esriFieldTypeString\")}const s=r.find((e=>e.name===n));return s?s.type:(T.error(new e(S,\"Unable to infer type of aggregateField with onStatisticExpression. ReturnType is not defined\",t)),\"esriFieldTypeString\")}}}function j(e,t,r,i){return e.aggregate||(e.aggregate={name:\"aggregate\",type:\"bin\",filters:null,input:\"feature\",params:{fixedBinLevel:t.fixedBinLevel,fields:(t.fields??[]).map((e=>({...e.toJSON(),type:M(e,r)})))},attributes:{}}),z(e.aggregate,i.attributes.fields),e}function R(e,t,r,i){return e.aggregate||(e.aggregate={name:\"aggregate\",type:\"cluster\",input:\"feature\",filters:null,attributes:{},params:{clusterRadius:l(t.clusterRadius/2),clusterPixelBuffer:64*Math.ceil(l(t.clusterMaxSize)/64),fields:(t.fields??[])?.map((e=>({...e.toJSON(),type:M(e,r)})))}}),z(e.aggregate,i.attributes.fields),e}function U(e,t){return t.field?B(e,{...t,type:\"field\",field:t.field}):t.valueExpression?B(e,{...t,type:\"expression\",valueExpression:t.valueExpression}):{field:void 0,fieldIndex:void 0}}function B(e,t){switch(t.type){case\"expression\":{const r=E(t.valueExpression);if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"label-expression\":{const r=E(JSON.stringify(t.label));if(!e.fields[r]){const i=e.indexCount++;e.fields[r]={...t,name:r,fieldIndex:i}}return{fieldIndex:e.fields[r].fieldIndex}}case\"field\":{const r=t.field;return\"aggregate\"===t.target&&e.fields[r]||(e.fields[r]={...t,name:r}),{field:r}}case\"statistic\":return e.fields[t.name]={...t},{field:t.name}}}function A(e,t=!1){const r=new Array;let i=0;return r.push(k(e,i++,t)),r}function D(e,t,r,i,n,s=!1){const l=B(e,{type:\"label-expression\",target:r,context:{mesh:!0},resultType:\"string\",label:{labelExpression:t.labelExpression,labelExpressionInfo:t.labelExpressionInfo?{expression:t.labelExpressionInfo.expression}:null,symbol:!!t.symbol,where:t.where}}),{fieldIndex:o}=l;return{...y(t,n,s),fieldIndex:o,target:r,index:i}}function P(t,r,i){const n=\"featureReduction\"in r&&r.featureReduction;if(!n)return{fields:[],labels:[],matcher:void 0,rendererOverride:void 0};const s=\"aggregate\",l=[];let o=null,a=h(r.geometryType),d=[],f=null;if(n)switch(n.type){case\"selection\":return T.error(new e(S,\"Mapview does not support `selection` reduction type\",n)),{fields:[],labels:[],matcher:void 0,rendererOverride:void 0};case\"cluster\":case\"binning\":if(l.push(...n.fields??[]),\"cluster\"===n.type?a=\"esriGeometryPoint\":\"binning\"===n.type&&(a=\"esriGeometryPolygon\"),n.renderer&&!n.renderer.authoringInfo?.isAutoGenerated){if(\"cluster\"===n.type){const{renderer:e}=x(n.renderer,n,null);f=e}else f=n.renderer;const e=w(n.renderer,n);o=$(t,s,n.renderer,e,i),d=n&&n.labelsVisible&&n.labelingInfo||[]}else if(\"cluster\"===n.type){if(f=v(l,r.renderer,n,null,!0),n.symbol){const e=w(f,n);o={type:\"simple\",symbol:y(n.symbol,e,i),symbologyType:e.symbologyType}}d=n&&n.labelsVisible&&n.labelingInfo||[]}}q(t,l);return{labels:u(d,\"binning\"===n.type?\"esriGeometryPolygon\":a),matcher:o,fields:l,rendererOverride:f}}function k(t,i,n=!1){const s={indexCount:0,fields:{}},l=\"featureReduction\"in t?t.featureReduction??void 0:void 0,o=l?\"aggregate\":\"feature\";if(\"sublayers\"in t){const i={type:\"subtype\",subtypeField:t.subtypeField,renderers:{},symbologyType:d.DEFAULT},l={type:\"subtype\",mapping:{},target:\"feature\",subtypeField:t.subtypeField},a={type:\"subtype\",classes:{}},u={type:\"symbol\",target:\"feature\",aggregateFields:[],attributes:s,storage:l,mesh:{matcher:i,aggregateMatcher:null,labels:a,sortKey:null}},f=new Set;let p=0;for(const{renderer:y,subtypeCode:m,labelingInfo:g,labelsVisible:b}of t.sublayers){let t=0;\"visualVariables\"in y&&y.visualVariables&&(y.visualVariables.some((e=>\"rotation\"!==e.type))&&T.warnOnce(\"SubtypeGroupLayer currently only supports rotation visualVariables. All other visualVariable types will be ignored.\"),t=c(y.visualVariables.filter((e=>\"size\"!==e.type))));const u={symbologyType:d.DEFAULT,vvFlags:t,maxVVSize:0},x=$(s,o,y,u,n),v=_(s,o,y),h=b&&g;if(\"dictionary\"===x.type)throw new e(S,\"Dictionary renderer is not supported in subtype layers\");if(\"subtype\"===x.type)throw new e(S,\"Nested subtype renderers is not supported\");if(r(v)&&\"subtype\"===v.type)throw new e(S,\"Nested subtype storage is not supported\");if(r(v)&&r(v.attributeMapping))throw new e(S,\"Non-visual-variable attributes are not supported in subtype layers\");if(\"heatmap\"===x.type)throw new e(S,\"Heatmaps are not supported in subtype layers\");if(\"pie-chart\"===x.type)throw new e(S,\"Pie-charts are not supported in subtype layers\");if(f.has(m))throw new e(S,\"Subtype codes for sublayers must be unique\");f.add(m),i.renderers[m]=x,l.mapping[m]=v,h&&(a.classes[m]=h.map((e=>D(s,e,\"feature\",p++,u,n))))}return u}if(\"heatmap\"===t.renderer?.type&&\"raster\"===g()){const{radius:e,fieldOffset:r,field:i}=t.renderer;return{type:\"heatmap\",aggregateFields:[],attributes:s,target:o,storage:null,mesh:{radius:e,fieldOffset:r,field:U(s,{target:o,field:i,resultType:\"numeric\"}).field}}}const a=P(s,t,n),f=h(t.geometryType),p=a.rendererOverride??t.renderer,y=w(p,l),m=$(s,o,p,y,n),b=_(s,o,p),x=J(s,t.orderBy,t.renderer,l),v=t.labelsVisible&&t.labelingInfo||[],E=u(v,f);let F=0;const I=[...E.map((e=>D(s,e,\"feature\",F++,y,n))),...a.labels.map((e=>D(s,e,\"aggregate\",F++,y,n)))];return{type:\"symbol\",target:o,attributes:s,aggregateFields:a.fields,storage:b,mesh:{matcher:m,labels:{type:\"simple\",classes:I},aggregateMatcher:a.matcher,sortKey:x}}}function C(e){return\"heatmap\"===e.renderer?.type&&\"raster\"===g()?{type:\"heatmap\"}:{type:\"symbol\"}}function J(t,i,n,s){if(r(s))return null;if(r(i)&&i.length){i.length>1&&T.warn(`Layer rendering currently only supports ordering by 1 orderByInfo, but found ${i.length}. All but the first will be discarded`);const r=i[0],n=\"ascending\"===r.order?\"asc\":\"desc\";if(r.field)return{field:r.field,order:n};if(r.valueExpression){return{fieldIndex:B(t,{type:\"expression\",target:\"feature\",valueExpression:r.valueExpression,resultType:\"numeric\"}).fieldIndex,order:n}}return T.error(new e(S,\"Expected to find a field or valueExpression for OrderByInfo\",r)),null}if(r(n)&&\"unique-value\"===n.type&&n.orderByClassesEnabled){return{byRenderer:!0,order:\"asc\"}}return null}function q(e,t){const r={mesh:!0,storage:!0};for(const i of t){const{name:t,onStatisticField:n,onStatisticExpression:s,statisticType:l}=i;let o,a;const u=\"numeric\",d=\"feature\";if(s){a=B(e,{type:\"expression\",target:d,valueExpression:s.expression,resultType:u}).fieldIndex}else{o=B(e,{type:\"field\",target:d,field:n,resultType:u}).field}B(e,{type:\"statistic\",target:\"aggregate\",name:t,context:r,inField:o,inFieldIndex:a,statisticType:l})}}function _(e,t,r){let i;switch(r.type){case\"simple\":case\"class-breaks\":case\"unique-value\":case\"dictionary\":i={visualVariables:!0,attributes:null};break;default:i=p(r).getStorageSpec(r)}return G(e,t,i,r)}function G(e,t,i,s){if(n(i))return null;const{visualVariables:l,attributes:o}=i;let a=null;l&&\"visualVariables\"in s&&(a=H(e,t,s.visualVariables));const u=r(a)?4:0;let d=null;return r(o)&&(d=o.map(((r,i)=>{const{field:n,fieldIndex:s}=U(e,{valueExpression:r.valueExpression,field:r.field,resultType:\"numeric\",target:t});return{binding:i+u,field:n,fieldIndex:s}}))),{type:\"simple\",target:t,attributeMapping:d,vvMapping:a}}function H(e,t,i){if(!i||!i.length)return[];const n={storage:!0},s=\"numeric\";return b(i).map((r=>{const i=f(r.type),{field:l,fieldIndex:o}=U(e,{target:t,valueExpression:r.valueExpression,field:r.field,context:n,resultType:s});switch(r.type){case\"size\":return\"$view.scale\"===r.valueExpression?null:{type:\"size\",binding:i,field:l,fieldIndex:o,normalizationField:U(e,{target:t,field:r.normalizationField,context:n,resultType:s}).field,valueRepresentation:r.valueRepresentation??null};case\"color\":return{type:\"color\",binding:i,field:l,fieldIndex:o,normalizationField:U(e,{target:t,field:r.normalizationField,context:n,resultType:s}).field};case\"opacity\":return{type:\"opacity\",binding:i,field:l,fieldIndex:o,normalizationField:U(e,{target:t,field:r.normalizationField,context:n,resultType:s}).field};case\"rotation\":return{type:\"rotation\",binding:i,field:l,fieldIndex:o}}})).filter(r)}function $(e,t,r,i,n=!1){const l=s(e,{indexCount:0,fields:{}});switch(r.type){case\"simple\":case\"dot-density\":return K(l,r,i,n);case\"class-breaks\":return Q(l,t,r,i,n);case\"unique-value\":return W(l,t,r,i,n);case\"dictionary\":return X(l,r,i,n);case\"heatmap\":return Z(l,r,i,n);case\"pie-chart\":return Y(l,r,i,n)}}function K(e,t,r,i=!1){const n=t.getSymbols(),s=n.length?n[0]:null;return{type:\"simple\",symbol:y(s,r,i),symbologyType:r.symbologyType}}function Y(e,t,r,i=!1){const n=t.getSymbols(),s=n[0],l=n.length>1?n[1]:null;return{type:\"pie-chart\",markerSymbol:y(s,r,i),fillSymbol:y(l,r,i),symbologyType:r.symbologyType}}function Q(e,t,r,i,n=!1){const s={mesh:!0,use:\"renderer.field\"},l=r.backgroundFillSymbol,{field:o,fieldIndex:a}=U(e,{target:t,field:r.field,valueExpression:r.valueExpression,resultType:\"numeric\",context:s}),u=r.normalizationType,d=\"log\"===u?\"esriNormalizeByLog\":\"percent-of-total\"===u?\"esriNormalizeByPercentOfTotal\":\"field\"===u?\"esriNormalizeByField\":null,f=r.classBreakInfos.map((e=>({symbol:y(e.symbol,i,n),min:e.minValue,max:e.maxValue}))).sort(((e,t)=>e.min-t.min));return{type:\"interval\",attributes:e.fields,field:o,fieldIndex:a,backgroundFillSymbol:y(l,i,n),defaultSymbol:y(r.defaultSymbol,i,n),intervals:f,normalizationField:r.normalizationField,normalizationTotal:r.normalizationTotal,normalizationType:d,isMaxInclusive:r.isMaxInclusive,symbologyType:i.symbologyType}}function W(t,r,i,n,s=!1){const l=[],o=i.backgroundFillSymbol,a={target:r,context:{mesh:!0},resultType:\"string\"};if(i.field&&\"string\"!=typeof i.field)throw new e(S,\"Expected renderer.field to be a string\",i);const{field:u,fieldIndex:d}=U(t,{...a,field:i.field,valueExpression:i.valueExpression});for(const e of i.uniqueValueInfos??[])l.push({value:\"\"+e.value,symbol:y(e.symbol,n,s)});return{type:\"map\",attributes:t.fields,field:u,fieldIndex:d,field2:U(t,{...a,field:i.field2}).field,field3:U(t,{...a,field:i.field3}).field,fieldDelimiter:i.fieldDelimiter??void 0,backgroundFillSymbol:y(o,n),defaultSymbol:y(i.defaultSymbol,n),map:l,symbologyType:n.symbologyType}}function X(e,t,r,i=!1){return{type:\"dictionary\",config:t.config,fieldMap:t.fieldMap,scaleExpression:t.scaleExpression,url:t.url,symbolOptions:r,symbologyType:r.symbologyType}}function Z(e,t,r,i=!1){const n=t.getSymbols(),s=n.length?n[0]:null;return{type:\"heatmap\",symbol:y(s,r,i),symbologyType:r.symbologyType}}export{q as addAggregateFields,$ as createMatcherSchema,U as createRendererAttributeSchema,I as createSchema,y as createSymbolSchema,w as createSymbolSchemaOptions};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIiH,SAASA,GAAEA,IAAE;AAAC,MAAG,CAACA;AAAE,WAAO,EAAE;AAAK,MAAIC,KAAE;AAAE,aAAUC,MAAKF;AAAE,QAAG,WAASE,GAAE,MAAK;AAAC,YAAMC,KAAEC,GAAEF,EAAC;AAAE,MAAAD,MAAGE,IAAE,cAAYD,GAAE,WAASD,MAAGE,MAAG;AAAA,IAAE;AAAK,kBAAUD,GAAE,OAAKD,MAAG,EAAE,QAAM,cAAYC,GAAE,OAAKD,MAAG,EAAE,UAAQ,eAAaC,GAAE,SAAOD,MAAG,EAAE;AAAU,SAAOA;AAAC;;;ACA2R,IAAMI,KAAE;AAAR,IAAYC,KAAE;AAAG,SAASC,GAAEC,IAAEC,IAAE;AAAC,QAAMC,KAAE,EAAED,EAAC;AAAE,MAAG,CAACC;AAAE,WAAO;AAAK,QAAK,CAACC,IAAEC,EAAC,IAAEF,GAAE;AAAM,SAAOF,GAAE,CAAC,IAAEI,KAAE,CAAC,EAAE,CAACJ,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEI,IAAEJ,GAAE,CAAC,CAAC,CAAC,GAAE,EAAE,CAACG,IAAEH,GAAE,CAAC,GAAEG,KAAEH,GAAE,CAAC,IAAEI,IAAEJ,GAAE,CAAC,CAAC,CAAC,CAAC,IAAEA,GAAE,CAAC,IAAEG,KAAE,CAAC,EAAE,CAACA,IAAEH,GAAE,CAAC,GAAEA,GAAE,CAAC,GAAEA,GAAE,CAAC,CAAC,CAAC,GAAE,EAAE,CAACI,MAAGD,KAAEH,GAAE,CAAC,IAAGA,GAAE,CAAC,GAAEI,IAAEJ,GAAE,CAAC,CAAC,CAAC,CAAC,IAAE;AAAI;AAAC,SAAS,EAAEA,IAAE;AAAC,SAAM,WAASA,MAAG,aAAWA;AAAC;AAAC,SAAS,EAAEA,IAAE;AAAC,SAAM,oBAAkBA,MAAG,qBAAmBA,MAAG,cAAYA,MAAG,cAAYA;AAAC;AAAC,SAAS,EAAEA,IAAE;AAAC,UAAO,EAAEA,GAAE,QAAQ,EAAE,MAAK;AAAA,IAAC,KAAI;AAAA,IAAQ,KAAI;AAAa,aAAO;AAAA,IAAE,KAAI;AAAW,aAAO;AAAA,IAAE,KAAI;AAAA,IAAU,KAAI;AAAS,aAAO;AAAA,EAAC;AAAC,SAAO;AAAC;AAAylB,SAAS,EAAEK,IAAE;AAAC,MAAG,CAACA;AAAE,WAAO;AAAK,QAAK,EAAC,MAAKC,IAAE,MAAKC,IAAE,MAAKC,IAAE,MAAKC,IAAE,kBAAiBC,GAAC,IAAEL;AAAE,SAAO,IAAI,EAAE,EAAC,OAAM,CAAC,CAAC,CAACC,IAAEC,EAAC,GAAE,CAACD,IAAEG,EAAC,GAAE,CAACD,IAAEC,EAAC,GAAE,CAACD,IAAED,EAAC,GAAE,CAACD,IAAEC,EAAC,CAAC,CAAC,GAAE,kBAAiBG,GAAC,CAAC;AAAC;;;ACAj1C,SAASC,GAAEC,IAAEC,IAAE;AAAC,MAAG,EAAE,qBAAoBD;AAAG,WAAO;AAAE,MAAG,CAACA,GAAE,mBAAmB,MAAM;AAAE,WAAO;AAAE,QAAME,KAAEF,GAAE,0BAA0B,MAAM;AAAE,MAAG,CAACE,GAAE,CAAC;AAAE,WAAO;AAAE,QAAMC,KAAED,GAAE,CAAC;AAAE,MAAGD,MAAG,oBAAkBE,GAAE,SAAO,cAAYF,GAAE;AAAK,WAAOA,GAAE;AAAe,MAAG,cAAYE,GAAE;AAAO,WAAO;AAAE,MAAG,YAAUA,GAAE;AAAmB,WAAOA,GAAE,MAAM,IAAK,CAAAH,OAAGA,GAAE,IAAK,EAAE,OAAOI,IAAE,CAAC;AAAE,MAAG,qBAAmBD,GAAE,oBAAmB;AAAC,QAAIH,KAAE,KAAG,GAAEC,KAAE,KAAG;AAAE,WAAOD,KAAE,YAAU,OAAOG,GAAE,UAAQA,GAAE,UAAQA,GAAE,QAAQ,MAAM,IAAK,CAAAH,OAAGA,GAAE,IAAK,EAAE,OAAOI,IAAE,CAAC,GAAEH,KAAE,YAAU,OAAOE,GAAE,UAAQA,GAAE,UAAQA,GAAE,QAAQ,MAAM,IAAK,CAAAH,OAAGA,GAAE,IAAK,EAAE,OAAOI,IAAE,CAAC,GAAE,KAAK,IAAIJ,IAAEC,EAAC;AAAA,EAAC;AAAC,SAAM,sBAAoBE,GAAE,qBAAmB,KAAG;AAAM;AAAugB,IAAME,KAAE,EAAC,KAAI,MAAG,MAAK,IAAG,SAAQ,EAAE,SAAQ,MAAK,IAAIC,GAAE,GAAE,GAAE,IAAG,EAAE,GAAE,MAAK,GAAE,gBAAe,EAAC;AAA8rC,SAASC,GAAEC,IAAEC,IAAE;AAAC,SAAO,KAAK,IAAID,IAAEC,EAAC;AAAC;;;ACA33D,IAAM,IAAE,EAAE,UAAU,2CAA2C;AAA/D,IAAiEC,KAAE;AAAkB,SAAS,EAAEC,IAAE;AAAC,SAAOA;AAAC;AAAC,SAAS,EAAEA,IAAEC,IAAE;AAAC,MAAIC,KAAE,GAAEC,KAAE,GAAEC,KAAE,EAAE;AAAQ,MAAG,EAAEJ,EAAC,GAAE;AAAC,QAAGG,KAAEE,GAAEL,IAAEC,EAAC,GAAE,qBAAoBD,OAAIE,KAAEF,GAAEA,GAAE,mBAAiB,CAAC,CAAC,GAAE,kBAAgBA,GAAE,SAAOI,KAAE,EAAE,eAAc,cAAYJ,GAAE,SAAOI,KAAE,EAAE,UAAS,iBAAeJ,GAAE;AAAK,aAAM,EAAC,WAAUG,IAAE,SAAQD,IAAE,eAAc,EAAE,QAAO;AAAE,QAAG,gBAAcF,GAAE;AAAK,aAAM,EAAC,WAAUG,IAAE,SAAQD,IAAE,eAAc,EAAE,UAAS;AAAE,QAAGE,OAAI,EAAE,eAAaA,OAAI,EAAE,SAAQ;AAAC,YAAMH,KAAED,GAAE,WAAW;AAAE,gCAAyBA,MAAGA,GAAE,wBAAsBC,GAAE,KAAKD,GAAE,oBAAoB;AAAE,UAAIM,KAAE,MAAGJ,KAAE;AAAG,iBAAUF,MAAKC;AAAE,YAAG,UAAQD,GAAE,SAAOE,KAAE,QAAI,kBAAgBF,GAAE,QAAM,mBAAiBA,GAAE,MAAK;AAAC,gBAAMC,KAAED,GAAE,SAAQG,KAAEF,MAAG,WAASA,GAAE,SAAO,YAAUA,GAAE,OAAMG,KAAE,kBAAgBJ,GAAE,QAAM,WAASA,GAAE,SAAO,YAAUA,GAAE;AAAM,UAAAG,OAAIG,KAAE,SAAK,mBAAiBN,GAAE,QAAMI,MAAGD,QAAKD,KAAE;AAAA,QAAG;AAAC,MAAAI,KAAEF,KAAEF,KAAE,EAAE,sBAAoB,EAAE,eAAaA,OAAIE,KAAE,EAAE;AAAA,IAAO;AAAA,EAAC;AAAC,SAAM,EAAC,SAAQF,IAAE,WAAUC,IAAE,eAAcC,GAAC;AAAC;AAAC,IAAI,IAAE;AAAK,SAAS,EAAEJ,IAAE;AAAC,MAAG,IAAI,sBAAsB,GAAE;AAAC,UAAMC,KAAEM,GAAEP,IAAE,IAAE;AAAE,YAAQ,MAAM,sBAAqBC,EAAC,GAAE,QAAQ,MAAM,eAAc,EAAE,GAAEA,EAAC,CAAC,GAAE,IAAEA;AAAA,EAAC;AAAC,SAAOM,GAAEP,EAAC;AAAC;AAAC,SAASO,GAAEP,IAAEC,KAAE,OAAG;AAJxvE;AAIyvE,MAAG;AAAC,UAAME,KAAE,EAAEH,IAAEC,EAAC,GAAEG,KAAE,EAAEJ,EAAC,GAAEQ,KAAE,CAAC;AAAE,IAAAL,GAAE,IAAK,CAAAF,OAAG,EAAEO,IAAER,IAAEC,EAAC,CAAE;AAAE,UAAM,IAAE,EAAED,GAAE,WAAW,IAAE,GAAGA,GAAE,kBAAkBA,GAAE,gBAAc,MAAKS,KAAE,EAAER,GAAED,GAAE,sBAAqB,CAAC,CAAC;AAAE,WAAM,EAAC,QAAO,EAAC,sBAAqBS,IAAE,QAAOT,GAAE,OAAO,IAAK,CAAAA,OAAGA,GAAE,OAAO,CAAE,GAAE,YAAWA,GAAE,YAAW,iBAAe,KAAAA,GAAE,mBAAF,mBAAkB,WAAU,WAAUA,GAAE,iBAAgB,aAAYA,GAAE,aAAY,kBAAiBA,GAAE,iBAAiB,OAAO,GAAE,aAAW,KAAAA,GAAE,eAAF,mBAAc,UAAS,kBAAiBA,GAAE,iBAAgB,GAAE,YAAW,EAAC,QAAO,CAAC,GAAE,YAAW,EAAC,GAAE,YAAWG,IAAE,cAAaC,IAAE,SAAQI,GAAC;AAAA,EAAC,SAAOL,IAAN;AAAS,QAAGA,GAAE,cAAYJ;AAAE,aAAO,EAAE,MAAMI,EAAC,GAAE;AAAK,UAAMA;AAAA,EAAC;AAAC;AAAC,SAAS,EAAEF,IAAEK,IAAEJ,IAAE;AAAC,UAAOA,GAAE,QAAO;AAAA,IAAC,KAAI;AAAU,aAAO,KAAKQ,GAAET,IAAE,EAAEK,EAAC,GAAEJ,EAAC;AAAA,IAAE,KAAI,aAAY;AAAC,UAAG,EAAE,sBAAqBI;AAAG;AAAO,YAAMH,KAAEG,GAAE;AAAiB,cAAOH,MAAA,gBAAAA,GAAG,MAAK;AAAA,QAAC,KAAI;AAAY,gBAAM,IAAIC,GAAEL,IAAE,uDAAsDI,EAAC;AAAA,QAAE,KAAI;AAAU,iBAAOO,GAAET,IAAE,EAAEK,EAAC,GAAEJ,EAAC,GAAE,KAAKS,GAAEV,IAAEE,IAAEG,GAAE,OAAO,IAAK,CAAAN,OAAGA,GAAE,OAAO,CAAE,GAAEE,EAAC;AAAA,QAAE,KAAI;AAAU,iBAAOQ,GAAET,IAAE,EAAEK,EAAC,GAAEJ,EAAC,GAAE,KAAKU,GAAEX,IAAEE,IAAEG,GAAE,OAAO,IAAK,CAAAN,OAAGA,GAAE,OAAO,CAAE,GAAEE,EAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAAC;AAAC;AAAC,SAAS,EAAEF,IAAEC,IAAE;AAJ9vG;AAI+vG,aAAUK,MAAKL,IAAE;AAAC,UAAMC,KAAED,GAAEK,EAAC;AAAE,QAAGJ,GAAE,WAASF,GAAE;AAAK;AAAS,UAAMG,KAAEH,GAAE,WAAWM,EAAC;AAAE,QAAGH,MAAA,gBAAAA,GAAG,SAAQ;AAAC,YAAMH,KAAEG,GAAE;AAAQ,MAAAH,GAAE,OAAKA,GAAE,UAAM,KAAAE,GAAE,YAAF,mBAAW,OAAKF,GAAE,UAAQA,GAAE,aAAS,KAAAE,GAAE,YAAF,mBAAW;AAAA,IAAO;AAAM,MAAAF,GAAE,WAAWM,EAAC,IAAEJ;AAAA,EAAC;AAAC,SAAOF;AAAC;AAAC,SAAS,EAAEA,IAAE;AAJz+G;AAI0+G,SAAM,GAAC,OAAEA,GAAE,MAAM,MAAV,mBAAa,aAAU,QAAK,QAAE,OAAEA,GAAE,aAAa,MAAjB,mBAAoB,MAAM,MAA5B,mBAA+B,aAAU,IAAI;AAAC;AAAC,SAASU,GAAEV,IAAEC,IAAEK,IAAE;AAAC,SAAON,GAAE,YAAUA,GAAE,UAAQ,EAAC,MAAK,WAAU,OAAM,UAAS,SAAQC,IAAE,YAAW,CAAC,EAAC,IAAG,EAAED,GAAE,SAAQM,GAAE,WAAW,MAAM,GAAEN;AAAC;AAAC,SAAS,EAAEC,IAAEK,IAAE;AAAC,QAAK,EAAC,uBAAsBJ,IAAE,kBAAiBC,IAAE,eAAcC,GAAC,IAAEH;AAAE,UAAOG,IAAE;AAAA,IAAC,KAAI;AAAA,IAAM,KAAI;AAAA,IAAM,KAAI;AAAA,IAAM,KAAI;AAAA,IAAY,KAAI;AAAA,IAAM,KAAI;AAAQ,aAAM;AAAA,IAAsB,KAAI,QAAO;AAAC,UAAGF,IAAE;AAAC,cAAK,EAAC,YAAWI,GAAC,IAAEJ;AAAE,eAAOI,KAAE,aAAWA,KAAE,wBAAsB,yBAAuB,EAAE,MAAM,IAAIF,GAAEL,IAAE,gGAA+FE,EAAC,CAAC,GAAE;AAAA,MAAsB;AAAC,YAAMG,KAAEE,GAAE,KAAM,CAAAN,OAAGA,GAAE,SAAOG,EAAE;AAAE,aAAOC,KAAEA,GAAE,QAAM,EAAE,MAAM,IAAIA,GAAEL,IAAE,gGAA+FE,EAAC,CAAC,GAAE;AAAA,IAAsB;AAAA,EAAC;AAAC;AAAC,SAASU,GAAEX,IAAEC,IAAEK,IAAEJ,IAAE;AAAC,SAAOF,GAAE,cAAYA,GAAE,YAAU,EAAC,MAAK,aAAY,MAAK,OAAM,SAAQ,MAAK,OAAM,WAAU,QAAO,EAAC,eAAcC,GAAE,eAAc,SAAQA,GAAE,UAAQ,CAAC,GAAG,IAAK,CAAAD,QAAI,EAAC,GAAGA,GAAE,OAAO,GAAE,MAAK,EAAEA,IAAEM,EAAC,EAAC,EAAG,EAAC,GAAE,YAAW,CAAC,EAAC,IAAG,EAAEN,GAAE,WAAUE,GAAE,WAAW,MAAM,GAAEF;AAAC;AAAC,SAASY,GAAEZ,IAAEC,IAAEK,IAAEJ,IAAE;AAJnlJ;AAIolJ,SAAOF,GAAE,cAAYA,GAAE,YAAU,EAAC,MAAK,aAAY,MAAK,WAAU,OAAM,WAAU,SAAQ,MAAK,YAAW,CAAC,GAAE,QAAO,EAAC,eAAcS,GAAER,GAAE,gBAAc,CAAC,GAAE,oBAAmB,KAAG,KAAK,KAAKQ,GAAER,GAAE,cAAc,IAAE,EAAE,GAAE,SAAQ,KAAAA,GAAE,UAAQ,CAAC,MAAX,mBAAe,IAAK,CAAAD,QAAI,EAAC,GAAGA,GAAE,OAAO,GAAE,MAAK,EAAEA,IAAEM,EAAC,EAAC,IAAI,EAAC,IAAG,EAAEN,GAAE,WAAUE,GAAE,WAAW,MAAM,GAAEF;AAAC;AAAC,SAAS,EAAEA,IAAEC,IAAE;AAAC,SAAOA,GAAE,QAAM,EAAED,IAAE,EAAC,GAAGC,IAAE,MAAK,SAAQ,OAAMA,GAAE,MAAK,CAAC,IAAEA,GAAE,kBAAgB,EAAED,IAAE,EAAC,GAAGC,IAAE,MAAK,cAAa,iBAAgBA,GAAE,gBAAe,CAAC,IAAE,EAAC,OAAM,QAAO,YAAW,OAAM;AAAC;AAAC,SAAS,EAAED,IAAEC,IAAE;AAAC,UAAOA,GAAE,MAAK;AAAA,IAAC,KAAI,cAAa;AAAC,YAAMK,KAAE,EAAEL,GAAE,eAAe;AAAE,UAAG,CAACD,GAAE,OAAOM,EAAC,GAAE;AAAC,cAAMJ,KAAEF,GAAE;AAAa,QAAAA,GAAE,OAAOM,EAAC,IAAE,EAAC,GAAGL,IAAE,MAAKK,IAAE,YAAWJ,GAAC;AAAA,MAAC;AAAC,aAAM,EAAC,YAAWF,GAAE,OAAOM,EAAC,EAAE,WAAU;AAAA,IAAC;AAAA,IAAC,KAAI,oBAAmB;AAAC,YAAMA,KAAE,EAAE,KAAK,UAAUL,GAAE,KAAK,CAAC;AAAE,UAAG,CAACD,GAAE,OAAOM,EAAC,GAAE;AAAC,cAAMJ,KAAEF,GAAE;AAAa,QAAAA,GAAE,OAAOM,EAAC,IAAE,EAAC,GAAGL,IAAE,MAAKK,IAAE,YAAWJ,GAAC;AAAA,MAAC;AAAC,aAAM,EAAC,YAAWF,GAAE,OAAOM,EAAC,EAAE,WAAU;AAAA,IAAC;AAAA,IAAC,KAAI,SAAQ;AAAC,YAAMA,KAAEL,GAAE;AAAM,aAAM,gBAAcA,GAAE,UAAQD,GAAE,OAAOM,EAAC,MAAIN,GAAE,OAAOM,EAAC,IAAE,EAAC,GAAGL,IAAE,MAAKK,GAAC,IAAG,EAAC,OAAMA,GAAC;AAAA,IAAC;AAAA,IAAC,KAAI;AAAY,aAAON,GAAE,OAAOC,GAAE,IAAI,IAAE,EAAC,GAAGA,GAAC,GAAE,EAAC,OAAMA,GAAE,KAAI;AAAA,EAAC;AAAC;AAAC,SAAS,EAAED,IAAEC,KAAE,OAAG;AAAC,QAAMK,KAAE,IAAI;AAAM,MAAIJ,KAAE;AAAE,SAAOI,GAAE,KAAK,EAAEN,IAAEE,MAAID,EAAC,CAAC,GAAEK;AAAC;AAAC,SAAS,EAAEN,IAAEC,IAAEK,IAAEJ,IAAEC,IAAEC,KAAE,OAAG;AAAC,QAAMI,KAAE,EAAER,IAAE,EAAC,MAAK,oBAAmB,QAAOM,IAAE,SAAQ,EAAC,MAAK,KAAE,GAAE,YAAW,UAAS,OAAM,EAAC,iBAAgBL,GAAE,iBAAgB,qBAAoBA,GAAE,sBAAoB,EAAC,YAAWA,GAAE,oBAAoB,WAAU,IAAE,MAAK,QAAO,CAAC,CAACA,GAAE,QAAO,OAAMA,GAAE,MAAK,EAAC,CAAC,GAAE,EAAC,YAAWY,GAAC,IAAEL;AAAE,SAAM,EAAC,GAAG,EAAEP,IAAEE,IAAEC,EAAC,GAAE,YAAWS,IAAE,QAAOP,IAAE,OAAMJ,GAAC;AAAC;AAAC,SAAS,EAAED,IAAEK,IAAEJ,IAAE;AAJjiM;AAIkiM,QAAMC,KAAE,sBAAqBG,MAAGA,GAAE;AAAiB,MAAG,CAACH;AAAE,WAAM,EAAC,QAAO,CAAC,GAAE,QAAO,CAAC,GAAE,SAAQ,QAAO,kBAAiB,OAAM;AAAE,QAAMC,KAAE,aAAYI,KAAE,CAAC;AAAE,MAAIK,KAAE,MAAK,IAAEb,GAAEM,GAAE,YAAY,GAAEQ,KAAE,CAAC,GAAEC,KAAE;AAAK,MAAGZ;AAAE,YAAOA,GAAE,MAAK;AAAA,MAAC,KAAI;AAAY,eAAO,EAAE,MAAM,IAAIC,GAAEL,IAAE,uDAAsDI,EAAC,CAAC,GAAE,EAAC,QAAO,CAAC,GAAE,QAAO,CAAC,GAAE,SAAQ,QAAO,kBAAiB,OAAM;AAAA,MAAE,KAAI;AAAA,MAAU,KAAI;AAAU,YAAGK,GAAE,KAAK,GAAGL,GAAE,UAAQ,CAAC,CAAC,GAAE,cAAYA,GAAE,OAAK,IAAE,sBAAoB,cAAYA,GAAE,SAAO,IAAE,wBAAuBA,GAAE,YAAU,GAAC,KAAAA,GAAE,SAAS,kBAAX,mBAA0B,kBAAgB;AAAC,cAAG,cAAYA,GAAE,MAAK;AAAC,kBAAK,EAAC,UAASH,GAAC,IAAEK,GAAEF,GAAE,UAASA,IAAE,IAAI;AAAE,YAAAY,KAAEf;AAAA,UAAC;AAAM,YAAAe,KAAEZ,GAAE;AAAS,gBAAMH,KAAE,EAAEG,GAAE,UAASA,EAAC;AAAE,UAAAU,KAAE,EAAEZ,IAAEG,IAAED,GAAE,UAASH,IAAEE,EAAC,GAAEY,KAAEX,MAAGA,GAAE,iBAAeA,GAAE,gBAAc,CAAC;AAAA,QAAC,WAAS,cAAYA,GAAE,MAAK;AAAC,cAAGY,KAAE,EAAEP,IAAEF,GAAE,UAASH,IAAE,MAAK,IAAE,GAAEA,GAAE,QAAO;AAAC,kBAAMH,KAAE,EAAEe,IAAEZ,EAAC;AAAE,YAAAU,KAAE,EAAC,MAAK,UAAS,QAAO,EAAEV,GAAE,QAAOH,IAAEE,EAAC,GAAE,eAAcF,GAAE,cAAa;AAAA,UAAC;AAAC,UAAAc,KAAEX,MAAGA,GAAE,iBAAeA,GAAE,gBAAc,CAAC;AAAA,QAAC;AAAA,IAAC;AAAC,EAAAa,GAAEf,IAAEO,EAAC;AAAE,SAAM,EAAC,QAAO,EAAEM,IAAE,cAAYX,GAAE,OAAK,wBAAsB,CAAC,GAAE,SAAQU,IAAE,QAAOL,IAAE,kBAAiBO,GAAC;AAAC;AAAC,SAAS,EAAEd,IAAEC,IAAEC,KAAE,OAAG;AAJ5kO;AAI6kO,QAAMC,KAAE,EAAC,YAAW,GAAE,QAAO,CAAC,EAAC,GAAEI,KAAE,sBAAqBP,KAAEA,GAAE,oBAAkB,SAAO,QAAOY,KAAEL,KAAE,cAAY;AAAU,MAAG,eAAcP,IAAE;AAAC,UAAMC,KAAE,EAAC,MAAK,WAAU,cAAaD,GAAE,cAAa,WAAU,CAAC,GAAE,eAAc,EAAE,QAAO,GAAEO,KAAE,EAAC,MAAK,WAAU,SAAQ,CAAC,GAAE,QAAO,WAAU,cAAaP,GAAE,aAAY,GAAEgB,KAAE,EAAC,MAAK,WAAU,SAAQ,CAAC,EAAC,GAAER,KAAE,EAAC,MAAK,UAAS,QAAO,WAAU,iBAAgB,CAAC,GAAE,YAAWL,IAAE,SAAQI,IAAE,MAAK,EAAC,SAAQN,IAAE,kBAAiB,MAAK,QAAOe,IAAE,SAAQ,KAAI,EAAC,GAAEF,KAAE,oBAAI;AAAI,QAAIG,KAAE;AAAE,eAAS,EAAC,UAASC,IAAE,aAAYd,IAAE,cAAae,IAAE,eAAcC,GAAC,KAAIpB,GAAE,WAAU;AAAC,UAAIA,KAAE;AAAE,2BAAoBkB,MAAGA,GAAE,oBAAkBA,GAAE,gBAAgB,KAAM,CAAAnB,OAAG,eAAaA,GAAE,IAAK,KAAG,EAAE,SAAS,qHAAqH,GAAEC,KAAED,GAAEmB,GAAE,gBAAgB,OAAQ,CAAAnB,OAAG,WAASA,GAAE,IAAK,CAAC;AAAG,YAAMS,KAAE,EAAC,eAAc,EAAE,SAAQ,SAAQR,IAAE,WAAU,EAAC,GAAEqB,KAAE,EAAElB,IAAES,IAAEM,IAAEV,IAAEN,EAAC,GAAEoB,KAAE,EAAEnB,IAAES,IAAEM,EAAC,GAAEK,KAAEH,MAAGD;AAAE,UAAG,iBAAeE,GAAE;AAAK,cAAM,IAAIlB,GAAEL,IAAE,wDAAwD;AAAE,UAAG,cAAYuB,GAAE;AAAK,cAAM,IAAIlB,GAAEL,IAAE,2CAA2C;AAAE,UAAG,EAAEwB,EAAC,KAAG,cAAYA,GAAE;AAAK,cAAM,IAAInB,GAAEL,IAAE,yCAAyC;AAAE,UAAG,EAAEwB,EAAC,KAAG,EAAEA,GAAE,gBAAgB;AAAE,cAAM,IAAInB,GAAEL,IAAE,oEAAoE;AAAE,UAAG,cAAYuB,GAAE;AAAK,cAAM,IAAIlB,GAAEL,IAAE,8CAA8C;AAAE,UAAG,gBAAcuB,GAAE;AAAK,cAAM,IAAIlB,GAAEL,IAAE,gDAAgD;AAAE,UAAGgB,GAAE,IAAIV,EAAC;AAAE,cAAM,IAAID,GAAEL,IAAE,4CAA4C;AAAE,MAAAgB,GAAE,IAAIV,EAAC,GAAEH,GAAE,UAAUG,EAAC,IAAEiB,IAAEd,GAAE,QAAQH,EAAC,IAAEkB,IAAEC,OAAIP,GAAE,QAAQZ,EAAC,IAAEmB,GAAE,IAAK,CAAAxB,OAAG,EAAEI,IAAEJ,IAAE,WAAUkB,MAAIT,IAAEN,EAAC,CAAE;AAAA,IAAE;AAAC,WAAOM;AAAA,EAAC;AAAC,MAAG,gBAAY,KAAAR,GAAE,aAAF,mBAAY,SAAM,aAAW,EAAE,GAAE;AAAC,UAAK,EAAC,QAAOD,IAAE,aAAYM,IAAE,OAAMJ,GAAC,IAAED,GAAE;AAAS,WAAM,EAAC,MAAK,WAAU,iBAAgB,CAAC,GAAE,YAAWG,IAAE,QAAOS,IAAE,SAAQ,MAAK,MAAK,EAAC,QAAOb,IAAE,aAAYM,IAAE,OAAM,EAAEF,IAAE,EAAC,QAAOS,IAAE,OAAMX,IAAE,YAAW,UAAS,CAAC,EAAE,MAAK,EAAC;AAAA,EAAC;AAAC,QAAM,IAAE,EAAEE,IAAEH,IAAEE,EAAC,GAAEY,KAAEf,GAAEC,GAAE,YAAY,GAAEiB,KAAE,EAAE,oBAAkBjB,GAAE,UAASkB,KAAE,EAAED,IAAEV,EAAC,GAAEH,KAAE,EAAED,IAAES,IAAEK,IAAEC,IAAEhB,EAAC,GAAE,IAAE,EAAEC,IAAES,IAAEK,EAAC,GAAEI,KAAE,EAAElB,IAAEH,GAAE,SAAQA,GAAE,UAASO,EAAC,GAAEe,KAAEtB,GAAE,iBAAeA,GAAE,gBAAc,CAAC,GAAEwB,KAAE,EAAEF,IAAER,EAAC;AAAE,MAAIW,KAAE;AAAE,QAAMC,KAAE,CAAC,GAAGF,GAAE,IAAK,CAAAzB,OAAG,EAAEI,IAAEJ,IAAE,WAAU0B,MAAIP,IAAEhB,EAAC,CAAE,GAAE,GAAG,EAAE,OAAO,IAAK,CAAAH,OAAG,EAAEI,IAAEJ,IAAE,aAAY0B,MAAIP,IAAEhB,EAAC,CAAE,CAAC;AAAE,SAAM,EAAC,MAAK,UAAS,QAAOU,IAAE,YAAWT,IAAE,iBAAgB,EAAE,QAAO,SAAQ,GAAE,MAAK,EAAC,SAAQC,IAAE,QAAO,EAAC,MAAK,UAAS,SAAQsB,GAAC,GAAE,kBAAiB,EAAE,SAAQ,SAAQL,GAAC,EAAC;AAAC;AAAC,SAAS,EAAEtB,IAAE;AAJ96S;AAI+6S,SAAM,gBAAY,KAAAA,GAAE,aAAF,mBAAY,SAAM,aAAW,EAAE,IAAE,EAAC,MAAK,UAAS,IAAE,EAAC,MAAK,SAAQ;AAAC;AAAC,SAAS,EAAEC,IAAEC,IAAEC,IAAEC,IAAE;AAAC,MAAG,EAAEA,EAAC;AAAE,WAAO;AAAK,MAAG,EAAEF,EAAC,KAAGA,GAAE,QAAO;AAAC,IAAAA,GAAE,SAAO,KAAG,EAAE,KAAK,gFAAgFA,GAAE,6CAA6C;AAAE,UAAMI,KAAEJ,GAAE,CAAC,GAAEC,KAAE,gBAAcG,GAAE,QAAM,QAAM;AAAO,QAAGA,GAAE;AAAM,aAAM,EAAC,OAAMA,GAAE,OAAM,OAAMH,GAAC;AAAE,QAAGG,GAAE,iBAAgB;AAAC,aAAM,EAAC,YAAW,EAAEL,IAAE,EAAC,MAAK,cAAa,QAAO,WAAU,iBAAgBK,GAAE,iBAAgB,YAAW,UAAS,CAAC,EAAE,YAAW,OAAMH,GAAC;AAAA,IAAC;AAAC,WAAO,EAAE,MAAM,IAAIC,GAAEL,IAAE,+DAA8DO,EAAC,CAAC,GAAE;AAAA,EAAI;AAAC,MAAG,EAAEH,EAAC,KAAG,mBAAiBA,GAAE,QAAMA,GAAE,uBAAsB;AAAC,WAAM,EAAC,YAAW,MAAG,OAAM,MAAK;AAAA,EAAC;AAAC,SAAO;AAAI;AAAC,SAASa,GAAEhB,IAAEC,IAAE;AAAC,QAAMK,KAAE,EAAC,MAAK,MAAG,SAAQ,KAAE;AAAE,aAAUJ,MAAKD,IAAE;AAAC,UAAK,EAAC,MAAKA,IAAE,kBAAiBE,IAAE,uBAAsBC,IAAE,eAAcI,GAAC,IAAEN;AAAE,QAAIW,IAAE;AAAE,UAAMJ,KAAE,WAAUK,KAAE;AAAU,QAAGV,IAAE;AAAC,UAAE,EAAEJ,IAAE,EAAC,MAAK,cAAa,QAAOc,IAAE,iBAAgBV,GAAE,YAAW,YAAWK,GAAC,CAAC,EAAE;AAAA,IAAU,OAAK;AAAC,MAAAI,KAAE,EAAEb,IAAE,EAAC,MAAK,SAAQ,QAAOc,IAAE,OAAMX,IAAE,YAAWM,GAAC,CAAC,EAAE;AAAA,IAAK;AAAC,MAAET,IAAE,EAAC,MAAK,aAAY,QAAO,aAAY,MAAKC,IAAE,SAAQK,IAAE,SAAQO,IAAE,cAAa,GAAE,eAAcL,GAAC,CAAC;AAAA,EAAC;AAAC;AAAC,SAAS,EAAER,IAAEC,IAAEK,IAAE;AAAC,MAAIJ;AAAE,UAAOI,GAAE,MAAK;AAAA,IAAC,KAAI;AAAA,IAAS,KAAI;AAAA,IAAe,KAAI;AAAA,IAAe,KAAI;AAAa,MAAAJ,KAAE,EAAC,iBAAgB,MAAG,YAAW,KAAI;AAAE;AAAA,IAAM;AAAQ,MAAAA,KAAE0B,GAAEtB,EAAC,EAAE,eAAeA,EAAC;AAAA,EAAC;AAAC,SAAO,EAAEN,IAAEC,IAAEC,IAAEI,EAAC;AAAC;AAAC,SAAS,EAAEN,IAAEC,IAAEC,IAAEE,IAAE;AAAC,MAAG,EAAEF,EAAC;AAAE,WAAO;AAAK,QAAK,EAAC,iBAAgBM,IAAE,YAAWK,GAAC,IAAEX;AAAE,MAAI,IAAE;AAAK,EAAAM,MAAG,qBAAoBJ,OAAI,IAAE,EAAEJ,IAAEC,IAAEG,GAAE,eAAe;AAAG,QAAMK,KAAE,EAAE,CAAC,IAAE,IAAE;AAAE,MAAIK,KAAE;AAAK,SAAO,EAAED,EAAC,MAAIC,KAAED,GAAE,IAAK,CAACP,IAAEJ,OAAI;AAAC,UAAK,EAAC,OAAMC,IAAE,YAAWC,GAAC,IAAE,EAAEJ,IAAE,EAAC,iBAAgBM,GAAE,iBAAgB,OAAMA,GAAE,OAAM,YAAW,WAAU,QAAOL,GAAC,CAAC;AAAE,WAAM,EAAC,SAAQC,KAAEO,IAAE,OAAMN,IAAE,YAAWC,GAAC;AAAA,EAAC,CAAE,IAAG,EAAC,MAAK,UAAS,QAAOH,IAAE,kBAAiBa,IAAE,WAAU,EAAC;AAAC;AAAC,SAAS,EAAEd,IAAEC,IAAEC,IAAE;AAAC,MAAG,CAACA,MAAG,CAACA,GAAE;AAAO,WAAM,CAAC;AAAE,QAAMC,KAAE,EAAC,SAAQ,KAAE,GAAEC,KAAE;AAAU,SAAO,EAAEF,EAAC,EAAE,IAAK,CAAAI,OAAG;AAAC,UAAMJ,KAAE,EAAEI,GAAE,IAAI,GAAE,EAAC,OAAME,IAAE,YAAWK,GAAC,IAAE,EAAEb,IAAE,EAAC,QAAOC,IAAE,iBAAgBK,GAAE,iBAAgB,OAAMA,GAAE,OAAM,SAAQH,IAAE,YAAWC,GAAC,CAAC;AAAE,YAAOE,GAAE,MAAK;AAAA,MAAC,KAAI;AAAO,eAAM,kBAAgBA,GAAE,kBAAgB,OAAK,EAAC,MAAK,QAAO,SAAQJ,IAAE,OAAMM,IAAE,YAAWK,IAAE,oBAAmB,EAAEb,IAAE,EAAC,QAAOC,IAAE,OAAMK,GAAE,oBAAmB,SAAQH,IAAE,YAAWC,GAAC,CAAC,EAAE,OAAM,qBAAoBE,GAAE,uBAAqB,KAAI;AAAA,MAAE,KAAI;AAAQ,eAAM,EAAC,MAAK,SAAQ,SAAQJ,IAAE,OAAMM,IAAE,YAAWK,IAAE,oBAAmB,EAAEb,IAAE,EAAC,QAAOC,IAAE,OAAMK,GAAE,oBAAmB,SAAQH,IAAE,YAAWC,GAAC,CAAC,EAAE,MAAK;AAAA,MAAE,KAAI;AAAU,eAAM,EAAC,MAAK,WAAU,SAAQF,IAAE,OAAMM,IAAE,YAAWK,IAAE,oBAAmB,EAAEb,IAAE,EAAC,QAAOC,IAAE,OAAMK,GAAE,oBAAmB,SAAQH,IAAE,YAAWC,GAAC,CAAC,EAAE,MAAK;AAAA,MAAE,KAAI;AAAW,eAAM,EAAC,MAAK,YAAW,SAAQF,IAAE,OAAMM,IAAE,YAAWK,GAAC;AAAA,IAAC;AAAA,EAAC,CAAE,EAAE,OAAO,CAAC;AAAC;AAAC,SAAS,EAAEb,IAAEC,IAAEK,IAAEJ,IAAEC,KAAE,OAAG;AAAC,QAAMK,KAAE,EAAER,IAAE,EAAC,YAAW,GAAE,QAAO,CAAC,EAAC,CAAC;AAAE,UAAOM,GAAE,MAAK;AAAA,IAAC,KAAI;AAAA,IAAS,KAAI;AAAc,aAAO,EAAEE,IAAEF,IAAEJ,IAAEC,EAAC;AAAA,IAAE,KAAI;AAAe,aAAO,EAAEK,IAAEP,IAAEK,IAAEJ,IAAEC,EAAC;AAAA,IAAE,KAAI;AAAe,aAAO,EAAEK,IAAEP,IAAEK,IAAEJ,IAAEC,EAAC;AAAA,IAAE,KAAI;AAAa,aAAO,EAAEK,IAAEF,IAAEJ,IAAEC,EAAC;AAAA,IAAE,KAAI;AAAU,aAAO,EAAEK,IAAEF,IAAEJ,IAAEC,EAAC;AAAA,IAAE,KAAI;AAAY,aAAO,EAAEK,IAAEF,IAAEJ,IAAEC,EAAC;AAAA,EAAC;AAAC;AAAC,SAAS,EAAEH,IAAEC,IAAEK,IAAEJ,KAAE,OAAG;AAAC,QAAMC,KAAEF,GAAE,WAAW,GAAEG,KAAED,GAAE,SAAOA,GAAE,CAAC,IAAE;AAAK,SAAM,EAAC,MAAK,UAAS,QAAO,EAAEC,IAAEE,IAAEJ,EAAC,GAAE,eAAcI,GAAE,cAAa;AAAC;AAAC,SAAS,EAAEN,IAAEC,IAAEK,IAAEJ,KAAE,OAAG;AAAC,QAAMC,KAAEF,GAAE,WAAW,GAAEG,KAAED,GAAE,CAAC,GAAEK,KAAEL,GAAE,SAAO,IAAEA,GAAE,CAAC,IAAE;AAAK,SAAM,EAAC,MAAK,aAAY,cAAa,EAAEC,IAAEE,IAAEJ,EAAC,GAAE,YAAW,EAAEM,IAAEF,IAAEJ,EAAC,GAAE,eAAcI,GAAE,cAAa;AAAC;AAAC,SAAS,EAAEN,IAAEC,IAAEK,IAAEJ,IAAEC,KAAE,OAAG;AAAC,QAAMC,KAAE,EAAC,MAAK,MAAG,KAAI,iBAAgB,GAAEI,KAAEF,GAAE,sBAAqB,EAAC,OAAMO,IAAE,YAAW,EAAC,IAAE,EAAEb,IAAE,EAAC,QAAOC,IAAE,OAAMK,GAAE,OAAM,iBAAgBA,GAAE,iBAAgB,YAAW,WAAU,SAAQF,GAAC,CAAC,GAAEK,KAAEH,GAAE,mBAAkBQ,KAAE,UAAQL,KAAE,uBAAqB,uBAAqBA,KAAE,kCAAgC,YAAUA,KAAE,yBAAuB,MAAKM,KAAET,GAAE,gBAAgB,IAAK,CAAAN,QAAI,EAAC,QAAO,EAAEA,GAAE,QAAOE,IAAEC,EAAC,GAAE,KAAIH,GAAE,UAAS,KAAIA,GAAE,SAAQ,EAAG,EAAE,KAAM,CAACA,IAAEC,OAAID,GAAE,MAAIC,GAAE,GAAI;AAAE,SAAM,EAAC,MAAK,YAAW,YAAWD,GAAE,QAAO,OAAMa,IAAE,YAAW,GAAE,sBAAqB,EAAEL,IAAEN,IAAEC,EAAC,GAAE,eAAc,EAAEG,GAAE,eAAcJ,IAAEC,EAAC,GAAE,WAAUY,IAAE,oBAAmBT,GAAE,oBAAmB,oBAAmBA,GAAE,oBAAmB,mBAAkBQ,IAAE,gBAAeR,GAAE,gBAAe,eAAcJ,GAAE,cAAa;AAAC;AAAC,SAAS,EAAED,IAAEK,IAAEJ,IAAEC,IAAEC,KAAE,OAAG;AAAC,QAAMI,KAAE,CAAC,GAAEK,KAAEX,GAAE,sBAAqB,IAAE,EAAC,QAAOI,IAAE,SAAQ,EAAC,MAAK,KAAE,GAAE,YAAW,SAAQ;AAAE,MAAGJ,GAAE,SAAO,YAAU,OAAOA,GAAE;AAAM,UAAM,IAAIE,GAAEL,IAAE,0CAAyCG,EAAC;AAAE,QAAK,EAAC,OAAMO,IAAE,YAAWK,GAAC,IAAE,EAAEb,IAAE,EAAC,GAAG,GAAE,OAAMC,GAAE,OAAM,iBAAgBA,GAAE,gBAAe,CAAC;AAAE,aAAUF,MAAKE,GAAE,oBAAkB,CAAC;AAAE,IAAAM,GAAE,KAAK,EAAC,OAAM,KAAGR,GAAE,OAAM,QAAO,EAAEA,GAAE,QAAOG,IAAEC,EAAC,EAAC,CAAC;AAAE,SAAM,EAAC,MAAK,OAAM,YAAWH,GAAE,QAAO,OAAMQ,IAAE,YAAWK,IAAE,QAAO,EAAEb,IAAE,EAAC,GAAG,GAAE,OAAMC,GAAE,OAAM,CAAC,EAAE,OAAM,QAAO,EAAED,IAAE,EAAC,GAAG,GAAE,OAAMC,GAAE,OAAM,CAAC,EAAE,OAAM,gBAAeA,GAAE,kBAAgB,QAAO,sBAAqB,EAAEW,IAAEV,EAAC,GAAE,eAAc,EAAED,GAAE,eAAcC,EAAC,GAAE,KAAIK,IAAE,eAAcL,GAAE,cAAa;AAAC;AAAC,SAAS,EAAEH,IAAEC,IAAEK,IAAEJ,KAAE,OAAG;AAAC,SAAM,EAAC,MAAK,cAAa,QAAOD,GAAE,QAAO,UAASA,GAAE,UAAS,iBAAgBA,GAAE,iBAAgB,KAAIA,GAAE,KAAI,eAAcK,IAAE,eAAcA,GAAE,cAAa;AAAC;AAAC,SAAS,EAAEN,IAAEC,IAAEK,IAAEJ,KAAE,OAAG;AAAC,QAAMC,KAAEF,GAAE,WAAW,GAAEG,KAAED,GAAE,SAAOA,GAAE,CAAC,IAAE;AAAK,SAAM,EAAC,MAAK,WAAU,QAAO,EAAEC,IAAEE,IAAEJ,EAAC,GAAE,eAAcI,GAAE,cAAa;AAAC;",
  "names": ["e", "r", "i", "t", "l", "f", "g", "u", "e", "t", "n", "i", "s", "e", "t", "n", "r", "o", "s", "m", "t", "e", "r", "i", "g", "y", "t", "g", "t", "e", "S", "e", "t", "i", "n", "s", "m", "r", "V", "l", "u", "L", "j", "R", "o", "d", "f", "q", "a", "p", "y", "g", "b", "x", "v", "h", "E", "F", "I", "c"]
}
